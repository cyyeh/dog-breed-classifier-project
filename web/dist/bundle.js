!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=141)}([function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(72))},function(t,e,n){var r=n(0),o=n(46),i=n(4),a=n(47),s=n(52),u=n(82),c=o("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;t.exports=function(t){return i(c,t)||(s&&i(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(7);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(0),o=n(22).f,i=n(11),a=n(8),s=n(30),u=n(74),c=n(51);t.exports=function(t,e){var n,l,f,p,h,d=t.target,y=t.global,g=t.stat;if(n=y?r:g?r[d]||s(d,{}):(r[d]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(h=o(n,l))&&h.value:n[l],!c(y?l:d+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(n,l,p,t)}}},function(t,e,n){var r=n(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(0),o=n(11),i=n(4),a=n(30),s=n(31),u=n(13),c=u.get,l=u.enforce,f=String(String).split("String");(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),l(n).source=f.join("string"==typeof e?e:"")),t!==r?(u?!p&&t[e]&&(c=!0):delete t[e],c?t[e]=n:o(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(6),o=n(12),i=n(17);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(6),o=n(44),i=n(3),a=n(28),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r,o,i,a=n(73),s=n(0),u=n(7),c=n(11),l=n(4),f=n(32),p=n(33),h=s.WeakMap;if(a){var d=new h,y=d.get,g=d.has,m=d.set;r=function(t,e){return m.call(d,t,e),e},o=function(t){return y.call(d,t)||{}},i=function(t){return g.call(d,t)}}else{var v=f("state");p[v]=!0,r=function(t,e){return c(t,v,e),e},o=function(t){return l(t,v)?t[v]:{}},i=function(t){return l(t,v)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){t.exports=!1},function(t,e,n){var r=n(76),o=n(0),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(16),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){t.exports={}},function(t,e,n){var r=n(12).f,o=n(4),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(module,exports,__webpack_require__){var e;window,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=25)}([function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(13)),s=n(9),u=n(1);e.checkInputsShape=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].dims||t[r].dims.length!==e[r])return!1;return!0};var c=function(){function t(){}return t.preprocessInputShapes=function(t,e){return[1===t.length?[1,t[0]]:t,1===e.length?[e[0],1]:e]},t.postprocessOutputShape=function(t,e,n){1===e&&t.splice(t.length-2,1),1===n&&t.pop()},t.calcMatMulShape=function(t,e){return t[1]!==e[0]?void 0:[t[0],e[1]]},t}();e.MatMulUtil=c;var l=function(){function t(){}return t.calcShape=function(t,e,n){var o;void 0===n&&(n=!1);var i=t.length,a=e.length;if(0===i)return e;if(0===a)return t;var s=Math.max(t.length,e.length),u=new Array(s);if(n){if(i<2||a<2)return;var l=c.calcMatMulShape([t[i-2],t[i-1]],[e[a-2],e[a-1]]);if(void 0===l)return;o=r(l,2),u[s-2]=o[0],u[s-1]=o[1]}for(var f=n?3:1;f<=s;f++){var p=i-f<0?1:t[i-f],h=a-f<0?1:e[a-f];if(p!==h&&p>1&&h>1)return;u[s-f]=Math.max(p,h)}return u},t.index=function(e,n){var r=new Array(n.length);return t.fillIndex(e,n,r),r},t.fillIndex=function(t,e,n){for(var r=t.length-e.length,o=0;o<e.length;o++)n[o]=t[r+o]%e[o]},t.calc=function(e,n,r,o,i){var a=t.calcShape(e.dims,n.dims);if(a){if(o&&!d.areEqual(a,e.dims))return;var s=d.size(a),c=o?e:new u.Tensor(a,i||e.type);if(0===a.length)c.set([],r(e.get([]),n.get([])));else{var l=new Array(a.length),f=new Array(e.dims.length),p=new Array(n.dims.length),h=0,y=0,g=!1,m=!1;0===e.dims.length&&(h=e.get([]),g=!0),0===n.dims.length&&(y=n.get([]),m=!0);for(var v=void 0,b=0;b<s;b++){v=b;for(var w=a.length-1;w>=0;w--)l[w]=v%a[w],v=Math.floor(v/a[w]);g||(t.fillIndex(l,e.dims,f),h=e.get(f)),m||(t.fillIndex(l,n.dims,p),y=n.get(p)),c.set(l,r(h,y))}}return c}},t.isValidBroadcast=function(t,e){var n=t.length,r=e.length;if(n>r)return!1;for(var o=1;o<=n;o++)if(1!==t[n-o]&&t[n-o]!==e[r-o])return!1;return!0},t}();e.BroadcastUtil=l,e.arrayCopyHelper=function(t,e,n,r,o){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)t[n+i]=e[r+i]};var f=function(){function t(){}return t.getShapeOfGemmResult=function(t,e,n,r,o){if(2!==t.length||2!==n.length)throw new Error("shape need to be of size 2");var i,a,s;e?(i=t[1],a=t[0]):(i=t[0],a=t[1]);var u=-1;if(r?(s=n[0],u=1):(s=n[1],u=0),n[u]!==a)throw new Error("dimension mismatch");if(i<=0||s<=0||a<=0)throw new Error("invalid shape specified");if(!l.isValidBroadcast(o,[i,s]))throw new Error("gemm: invalid bias shape for broadcast");return[i,s,a]},t}();e.GemmUtil=f;var p=function(){function t(){}return t.tensorDataTypeFromProto=function(t){switch(t){case s.onnx.TensorProto.DataType.INT8:return"int8";case s.onnx.TensorProto.DataType.UINT8:return"uint8";case s.onnx.TensorProto.DataType.BOOL:return"bool";case s.onnx.TensorProto.DataType.INT16:return"int16";case s.onnx.TensorProto.DataType.UINT16:return"uint16";case s.onnx.TensorProto.DataType.INT32:return"int32";case s.onnx.TensorProto.DataType.UINT32:return"uint32";case s.onnx.TensorProto.DataType.FLOAT:return"float32";case s.onnx.TensorProto.DataType.DOUBLE:return"float64";case s.onnx.TensorProto.DataType.STRING:return"string";case s.onnx.TensorProto.DataType.INT64:return"int32";case s.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error("unsupported data type: "+s.onnx.TensorProto.DataType[t])}},t.tensorDimsFromProto=function(t){return t.map((function(t){return a.default.isLong(t)?t.toNumber():t}))},t.tensorValueTypeFromProto=function(e){return{tensorType:t.tensorDataTypeFromProto(e.elemType),shape:{dims:t.tensorDimsFromProto(e.shape.dim.map((function(t){return t.dimValue})))}}},t}();e.ProtoUtil=p;var h=function(){function t(){}return t.longToNumber=function(t){return a.default.isLong(t)?t.toNumber():t},t}();e.LongUtil=h;var d=function(){function t(){}return t.size=function(e){return t.getSizeFromDimensionRange(e,0,e.length)},t.sizeFromDimension=function(e,n){if(n<0||n>e.length)throw new Error("invalid dimension of "+n+" for sizeFromDimension as Tensor has "+e.length+" dimensions.");return t.getSizeFromDimensionRange(e,n,e.length)},t.sizeToDimension=function(e,n){if(n<0||n>e.length)throw new Error("invalid dimension of "+n+" for sizeToDimension as Tensor has "+e.length+" dimensions.");return t.getSizeFromDimensionRange(e,0,n)},t.getSizeFromDimensionRange=function(t,e,n){for(var r=1,o=e;o<n;o++){if(t[o]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=t[o]}return r},t.computeStrides=function(t){var e=t.length;if(0===e)return[];if(1===e)return[1];var n=new Array(e);n[e-1]=1,n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n},t.transpose=function(t){return t.slice().reverse()},t.indicesToOffset=function(t,e,n){void 0===n&&(n=t.length);for(var r=0,o=0;o<n;++o)r+=e[o]*t[o];return r},t.offsetToIndices=function(t,e){var n=e.length;if(0===n)return[];if(1===n)return[t*e[0]];for(var r=new Array(e.length),o=0;o<r.length-1;++o)r[o]=Math.floor(t/e[o]),t-=r[o]*e[o];return r[r.length-1]=t,r},t.parseAxis=function(t,e){if(t<-e&&t>=e)throw new Error("unsupported axis for this operation.");return t<0?t+e:t},t.incrementIndex=function(t,e,n){if(0===e.length||0===t.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=e.length;else if(n<=0||n>e.length)throw new Error("Incorrect axis to increment on");for(var r=n-1;r>=0&&(t[r]++,!(t[r]<e[r]));--r)t[r]=0},t.calculateReshapedDims=function(e,n){if(0===n.length){if(0===e.length||1===t.size(e))return[];throw new Error("cannot reshape to a scalar Tensor")}for(var r=n.length,o=new Array(r),i=-1,a=1,s=0;s<r;s++){if(n[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===n[s]){if(-1!==i)throw new Error("at most one dimension in shape hints can be -1");i=s}else{if(0===n[s]){if(s>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");o[s]=e[s]}else o[s]=n[s];a*=o[s]}}var u=t.size(e);if(-1!==i){if(u%a!=0)throw new Error("the input tensor cannot be reshaped to the requested shape. Input shape: ["+e+"] Output shape: ["+n+"]");o[i]=u/a}else if(a!==u)throw new Error("reshapedDims and originalDims don't have matching sizes");return o},t.sortBasedOnPerm=function(t,e){return e?e.map((function(e){return t[e]})):t.slice().reverse()},t.padShape=function(t,e){var n=t.length;return t.map((function(t,r){return t+e[r]+e[r+n]}))},t.areEqual=function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))},t.validateDimsAndCalcSize=function(t){var e,n;if(t.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");var r=1;try{for(var i=o(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(!Number.isInteger(s))throw new TypeError("Invalid shape: "+s+" is not an integer");if(s<=0||s>2147483647)throw new TypeError("Invalid shape: length "+s+" is not allowed");r*=s}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.flattenShape=function(t,e){var n=t.reduce((function(t,e){return t*e}),1),r=t.slice(e).reduce((function(t,e){return t*e}),1);return[n/r,r]},t.squeezeShape=function(t,e){var n=new Array;if(e.some((function(e){return e>=t.length||e<0})))throw new Error("'axes' has an out of range axis");for(var r=0;r<t.length;r++){var o=e.indexOf(r)>=0;if(o&&1!==t[r])throw new Error("squeeze an axis of size different than 1");(0===e.length&&t[r]>1||e.length>0&&!o)&&n.push(t[r])}return n},t.unsqueezeShape=function(t,e){var n=new Array(t.length+e.length);n.fill(0);for(var r=0;r<e.length;r++){var o=e[r];if(o>=n.length)throw new Error("'axes' has an out of range axis");if(0!==n[o])throw new Error("'axes' has a duplicate axis");n[o]=1}var i=0;for(r=0;r<n.length;r++)0===n[r]&&(n[r]=t[i++]);if(i!==t.length)throw new Error("the unsqueezed dimension could not be established");return n},t}();e.ShapeUtil=d;var y=function(){function t(){}return t.sqr=function(t,e,n,r,o){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)t[n+i]+=Math.pow(e[r+i],2)},t.axpy=function(t,e,n,r,o,i){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var a=0;a<o;a++)t[n+a]+=i*e[r+a]},t.powx=function(t,e,n,r,o,i){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var a=0;a<o;a++)t[n+a]=Math.pow(e[r+a],i)},t.mul=function(t,e,n,r,o){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)t[n+i]=e[r+i]*t[n+i]},t}();e.MathUtil=y;var g=function(){function t(){}return t.splitShape=function(e,n,r,o){if(0===r.length){if(!o)throw new Error("need to know number of outputs when the 'split' attribute is not specified");t.determineSplit(e[n],o,r)}for(var i=[],a=[0],s=0;s<r.length;++s){0!==s&&a.push(a[s-1]+r[s-1]);var u=e.slice();u[n]=r[s],i.push(u)}return[i,a]},t.determineSplit=function(t,e,n){if(t%e!=0)throw new Error("cannot split tensor to equal sized parts");for(var r=0;r<e;++r)n.push(t/e)},t}();e.SplitUtil=g;var m=function(){function t(){}return t.calcReduce=function(e,n,r,o,i){var a=e.dims.slice(0);0===n.length&&a.forEach((function(t,e){return n.push(e)}));for(var s=t.calcReduceShape(a,n,!0),c=d.size(s),f=new u.Tensor(s,e.type),p=d.computeStrides(s),h=d.computeStrides(a),y=new Array(a.length),g=0;g<c;g++){var m=d.offsetToIndices(g,p);l.fillIndex(m,a,y),f.set(m,t.calcReduceByAxis(e.numberData,n,a,0,d.indicesToOffset(y,h),o,i))}return r?f:new u.Tensor(t.calcReduceShape(a,n,r),f.type,void 0,void 0,f.data,f.dataId)},t.calcReduceByAxis=function(e,n,r,o,i,a,s){var u=0;if(o>=n.length)return a(e[i]);for(var c=n[o],l=c>=r.length?1:d.size(r.slice(c+1)),f=0;f<r[c];f++)u=0===f?t.calcReduceByAxis(e,n,r,o+1,i,a,s):s(u,t.calcReduceByAxis(e,n,r,o+1,i,a,s)),i+=l;return u},t.calcReduceShape=function(t,e,n){for(var r=t.slice(),o=0;o<e.length;o++)r[e[o]]=n?1:0;return r.filter((function(t){return 0!==t}))},t}();e.ReduceUtil=m;var v=function(){function t(){}return t.adjustPoolAttributes=function(t,e,n,r,o){if(!t&&n.length!==e.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(t)for(var i=0;i<e.length-2;i++)i>=n.length?n.push(e[i+2]):n[i]=e[i+2];for(i=0;i<n.length;i++)if(i<r.length){if(r[i]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(i=0;i<2*n.length;i++)if(i<o.length){if(o[i]<0)throw new Error("pad should be greater than or equal to 1")}else o.push(0);for(i=0;i<n.length;i++){if(n[i]<=0)throw new Error("kernel shapes need to be greater than 0");if(o[i]>=n[i]||o[i+n.length]>=n[i])throw new Error("pads should be smaller than kernel")}},t.adjustPadsBasedOnAutoPad=function(e,n,r,o,i,a){if(a){if(i.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(o.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(var s=0;s<e.length-2;s++)t.adjustPadAndReturnShape(e[s+2],n[s],r[s],o[s],i,s,s+e.length-2,a)}},t.computePoolOutputShape=function(e,n,r,o,i,a){if(n.length<=0)throw new Error("input shape must be of size greater than 0");var s=[n[0],n[1]],u=new Array(o.length).fill(1);return t.computeShapeHelper(e,n,s,r,u,o,i,a),s},t.computeConvOutputShape=function(e,n,r,o,i,a,s){if(e.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");var u=[e[0],n[0]];return t.computeShapeHelper(!1,e,u,r,o,i,a,s),u},t.computeShapeHelper=function(e,n,r,o,i,a,s,u){if(e)for(var c=0;c<n.length-2;c++)r.push(1);else for(c=0;c<n.length-2;c++)r.push(t.adjustPadAndReturnShape(n[c+2],o[c],i[c],a[c],s,c,c+n.length-2,u))},t.adjustPadAndReturnShape=function(t,e,n,r,o,i,a,s){var u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((t+o[i]+o[a]-u)/e+1);switch(s){case"VALID":return o[i]=0,o[a]=0,Math.floor((t-u)/e+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");var c=((t+e-1)/e-1)*e+r-t;return o[i]="SAME_LOWER"===s?Math.floor((c+1)/2):Math.floor(c/2),o[a]=c-o[i],Math.floor((t+c-r)/e+1);default:throw new Error("Unsupported AutoPad type")}},t}();e.PoolConvUtil=v},function(t,e,n){"use strict";(function(t){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(13)),s=n(9),u=n(0),c=function(){function e(t,e,n,r,o,i){void 0===i&&(i={}),this.dims=t,this.type=e,this.dataProvider=n,this.asyncDataProvider=r,this.cache=o,this.dataId=i,this.size=u.ShapeUtil.validateDimsAndCalcSize(t);var a=this.size,s=void 0===n&&void 0===r&&void 0===o;if(void 0!==o&&o.length!==a)throw new RangeError("Input dims doesn't match data length.");if("string"===e){if(!(void 0===o||Array.isArray(o)&&o.every((function(t){return"string"==typeof t}))))throw new TypeError("cache should be a string array");s&&(o=new Array(a))}else{if(void 0!==o){var c=l(e);if(!(o instanceof c))throw new TypeError("cache should be type "+c.name)}if(s){var f=new ArrayBuffer(a*function(t){switch(t){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error("cannot calculate sizeof() on type "+t)}}(e));this.cache=function(t,e){return new(l(e))(t)}(f,e)}}}return Object.defineProperty(e.prototype,"data",{get:function(){if(void 0===this.cache){var t=this.dataProvider(this.dataId);if(t.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=t}return this.cache},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringData",{get:function(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"integerData",{get:function(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"floatData",{get:function(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberData",{get:function(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")},enumerable:!0,configurable:!0}),e.prototype.get=function(t){return this.data[u.ShapeUtil.indicesToOffset(t,this.strides)]},e.prototype.set=function(t,e){this.data[u.ShapeUtil.indicesToOffset(t,this.strides)]=e},e.prototype.getData=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return void 0!==this.cache?[3,2]:(t=this,[4,this.asyncDataProvider(this.dataId)]);case 1:t.cache=e.sent(),e.label=2;case 2:return[2,this.cache]}}))}))},Object.defineProperty(e.prototype,"strides",{get:function(){return this._strides||(this._strides=u.ShapeUtil.computeStrides(this.dims)),this._strides},enumerable:!0,configurable:!0}),e.fromProto=function(n){if(!n)throw new Error("cannot construct Value from an empty tensor");var r=u.ProtoUtil.tensorDataTypeFromProto(n.dataType),o=new e(u.ProtoUtil.tensorDimsFromProto(n.dims),r);if("string"===r)n.stringData.forEach((function(e,n){var r=t.from(e.buffer,e.byteOffset,e.byteLength);o.data[n]=r.toString()}));else if(n.rawData&&"number"==typeof n.rawData.byteLength&&n.rawData.byteLength>0){var i=o.data,c=new DataView(n.rawData.buffer,n.rawData.byteOffset,n.rawData.byteLength),l=function(t){switch(t){case s.onnx.TensorProto.DataType.UINT8:case s.onnx.TensorProto.DataType.INT8:case s.onnx.TensorProto.DataType.BOOL:return 1;case s.onnx.TensorProto.DataType.UINT16:case s.onnx.TensorProto.DataType.INT16:return 2;case s.onnx.TensorProto.DataType.FLOAT:case s.onnx.TensorProto.DataType.INT32:case s.onnx.TensorProto.DataType.UINT32:return 4;case s.onnx.TensorProto.DataType.INT64:case s.onnx.TensorProto.DataType.DOUBLE:case s.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error("cannot calculate sizeof() on type "+s.onnx.TensorProto.DataType[t])}}(n.dataType),h=n.rawData.byteLength/l;if(n.rawData.byteLength%l!=0)throw new Error("invalid buffer length");if(i.length!==h)throw new Error("buffer length mismatch");for(var d=0;d<h;d++){var y=p(c,n.dataType,d*l);i[d]=y}}else{var g=void 0;switch(n.dataType){case s.onnx.TensorProto.DataType.FLOAT:g=n.floatData;break;case s.onnx.TensorProto.DataType.INT32:case s.onnx.TensorProto.DataType.INT16:case s.onnx.TensorProto.DataType.UINT16:case s.onnx.TensorProto.DataType.INT8:case s.onnx.TensorProto.DataType.UINT8:case s.onnx.TensorProto.DataType.BOOL:g=n.int32Data;break;case s.onnx.TensorProto.DataType.INT64:g=n.int64Data;break;case s.onnx.TensorProto.DataType.DOUBLE:g=n.doubleData;break;case s.onnx.TensorProto.DataType.UINT32:case s.onnx.TensorProto.DataType.UINT64:g=n.uint64Data;break;default:throw new Error("unspecific error")}if(null==g)throw new Error("failed to populate data from a tensorproto value");var m=o.data;if(m.length!==g.length)throw new Error("array length mismatch");for(d=0;d<g.length;d++){var v=g[d];a.default.isLong(v)?m[d]=f(v,n.dataType):m[d]=v}}return o},e.fromData=function(t,n,r){return new e(n,r,void 0,void 0,t)},e}();function l(t){switch(t){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function f(t,e){if(e===s.onnx.TensorProto.DataType.INT64){if(t.greaterThanOrEqual(2147483648)||t.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(e!==s.onnx.TensorProto.DataType.UINT32&&e!==s.onnx.TensorProto.DataType.UINT64)throw new TypeError("not a LONG type: "+s.onnx.TensorProto.DataType[e]);if(t.greaterThanOrEqual(4294967296)||t.lessThan(0))throw new TypeError("uint64 is not supported")}return t.toNumber()}function p(t,e,n){switch(e){case s.onnx.TensorProto.DataType.BOOL:case s.onnx.TensorProto.DataType.UINT8:return t.getUint8(n);case s.onnx.TensorProto.DataType.INT8:return t.getInt8(n);case s.onnx.TensorProto.DataType.UINT16:return t.getUint16(n,!0);case s.onnx.TensorProto.DataType.INT16:return t.getInt16(n,!0);case s.onnx.TensorProto.DataType.FLOAT:return t.getFloat32(n,!0);case s.onnx.TensorProto.DataType.INT32:return t.getInt32(n,!0);case s.onnx.TensorProto.DataType.UINT32:return t.getUint32(n,!0);case s.onnx.TensorProto.DataType.INT64:return f(a.default.fromBits(t.getUint32(n,!0),t.getUint32(n+4,!0),!1),e);case s.onnx.TensorProto.DataType.DOUBLE:return t.getFloat64(n,!0);case s.onnx.TensorProto.DataType.UINT64:return f(a.default.fromBits(t.getUint32(n,!0),t.getUint32(n+4,!0),!0),e);default:throw new Error("cannot read from DataView for type "+s.onnx.TensorProto.DataType[e])}}e.Tensor=c}).call(this,n(12).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},o={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function i(t){return 1===t?r:o}e.getGlsl=i,e.getVertexShaderSource=function(t){var e=i(t);return e.version+"\n      precision highp float;\n      "+e.attribute+" vec3 position;\n      "+e.attribute+" vec2 textureCoord;\n\n      "+e.varyingVertex+" vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }"},e.getFragShaderPreamble=function(t){var e=i(t);return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFrag+" vec2 TexCoords;\n    "+e.outputDeclaration+"\n\n    "},e.getDefaultFragShaderMain=function(t,e){return"\n  void main() {\n    int indices["+e+"];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    "+i(t).output+" = result;\n  }\n  "}},function(t,e,n){"use strict";var r,o;Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.log=function(t,e,n){},t}(),a=function(){function t(){}return t.prototype.log=function(t,e,n){console.log(this.color(t)+" "+(n?"[35m"+n+"[0m ":"")+e)},t.prototype.color=function(t){switch(t){case"verbose":return"[34;40mv[0m";case"info":return"[32mi[0m";case"warning":return"[30;43mw[0m";case"error":return"[31;40me[0m";default:throw new Error("unsupported severity: "+t)}},t}(),s={verbose:1e3,info:2e3,warning:4e3,error:5e3},u=((r={}).none=new i,r.console=new a,r),c={provider:"console",minimalSeverity:"info",logDateTime:!0,logSourceLocation:!1},l=((o={})[""]=c,o);function f(t,e,n,r){if(void 0===e)return o=t,{verbose:f.verbose.bind(null,o),info:f.info.bind(null,o),warning:f.warning.bind(null,o),error:f.error.bind(null,o)};if(void 0===n)p(t,e);else if("number"==typeof n&&void 0===r)p(t,e);else if("string"==typeof n&&void 0===r)p(t,n,0,e);else{if("string"!=typeof n||"number"!=typeof r)throw new TypeError("input is valid");p(t,n,0,e)}var o}function p(t,e,n,r){var o=l[r||""]||l[""];s[t]<s[o.minimalSeverity]||(o.logDateTime&&(e=(new Date).toISOString()+"|"+e),o.logSourceLocation,u[o.provider].log(t,e,r))}!function(t){function e(t){l={},n("",t||{})}function n(t,n){if("*"===t)e(n);else{var r=l[t]||c;l[t]={provider:n.provider||r.provider,minimalSeverity:n.minimalSeverity||r.minimalSeverity,logDateTime:void 0===n.logDateTime?r.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?r.logSourceLocation:n.logSourceLocation}}}t.verbose=function(e,n){t("verbose",e,n)},t.info=function(e,n){t("info",e,n)},t.warning=function(e,n){t("warning",e,n)},t.error=function(e,n){t("error",e,n)},t.reset=e,t.set=n}(f||(f={})),e.Logger=f;var h=function(){function t(t,e,n,r){this.category=t,this.name=e,this.startTime=n,this.endCallback=r}return t.prototype.end=function(){this.endCallback(this)},t}(),d=function(t,e,n,r){this.category=t,this.name=e,this.startTime=n,this.endTime=r},y=function(){function t(t,e,n){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===t?1e4:t,this._flushBatchSize=void 0===e?10:e,this._flushIntervalInMilliseconds=void 0===n?5e3:n}return t.create=function(t){return void 0===t?new this:new this(t.maxNumberEvents,t.flushBatchSize,t.flushIntervalInMilliseconds)},t.prototype.start=function(){this._started=!0,this._timingEvents=[],this._flushTime=e.now(),this._flushPointer=0},t.prototype.stop=function(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])},t.prototype.event=function(t,e,n){var r=this._started?this.begin(t,e):void 0,o=!1;try{var i=n();return i&&"function"==typeof i.then?(o=!0,new Promise((function(t,e){i.then((function(e){t(e),r&&r.end()}),(function(t){e(t),r&&r.end()}))}))):i}finally{!o&&r&&r.end()}},t.prototype.begin=function(t,n){var r=this;if(!this._started)throw new Error("profiler is not started yet");var o=e.now();return this.flush(o),new h(t,n,o,(function(t){return r.end(t)}))},t.prototype.end=function(t){if(this._timingEvents.length<this._maxNumberEvents){var n=e.now();this._timingEvents.push(new d(t.category,t.name,t.startTime,n)),this.flush(n)}},t.prototype.logOneEvent=function(t){e.Logger.verbose("Profiler."+t.category,(t.endTime-t.startTime).toFixed(2)+"ms on event '"+t.name+"' at "+t.endTime.toFixed(2))},t.prototype.flush=function(t){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||t-this._flushTime>=this._flushIntervalInMilliseconds){for(var n=this._flushPointer;this._flushPointer<n+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=e.now()}},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t}();e.Profiler=y,e.now="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a,s,u,c=n(3),l=i(n(96)),f=!1,p=!1;e.init=function(t,e){if(f)return Promise.resolve();if(p)throw new Error("multiple calls to 'init()' detected.");return p=!0,new Promise((function(r,o){var i,h=function(){void 0!==i&&(clearTimeout(i),i=void 0)},d=function(){h(),r(),p=!1,f=!0},y=l.init(),g=new Promise((function(t,n){i=setTimeout((function(){n("Wasm init promise failed to be resolved within set timeout")}),e)}));t>0?(c.Logger.verbose("WebAssembly-Workers","User has requested "+t+" Workers."),"undefined"==typeof window||void 0===window.Worker?(c.Logger.error("WebAssembly-Workers","Environment does not support usage of Workers. Will not spawn workers."),s=0):(c.Logger.verbose("WebAssembly-Workers","Environment supports usage of Workers. Will spawn "+t+" Workers"),s=t)):(c.Logger.verbose("WebAssembly-Workers","User has disabled usage of Workers. Will not spawn workers."),s=0);var m=new Array(s);a=new Array(s),u=new Array(s);for(var v=function(t){var e=new Promise((function(e,r){var o=n(99)();a[t]=o,u[t]=[],o.onerror=function(e){c.Logger.error("WebAssembly-Workers","worker-"+t+" ERR: "+e),f||r()},o.onmessage=function(n){if(!(n&&n.data&&n.data.type))throw new Error("missing message type from worker");if("init-success"===n.data.type)e();else{if("ccall"!==n.data.type)throw new Error("unknown message type from worker: "+n.data.type);var r=n.data.perfData;u[t].shift()(n.data.buffer,r)}}}));m[t]=e},b=0;b<s;b++)v(b);Promise.race([y,g]).then((function(){Promise.all(m).then(d,(function(){c.Logger.warning("WebAssembly-Workers","Unable to get all requested workers initialized. Will use Wasm backend with 0 workers."),s=0,d()}))}),(function(t){h(),o(t),p=!1}))}))};var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},Object.defineProperty(e,"workerNumber",{get:function(){return s},enumerable:!0,configurable:!0}),e.prototype.ccallRemote=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(!f)throw new Error("wasm not initialized. please ensure 'init()' is called.");if(t<0||t>=s)throw new Error("invalid worker ID "+t+". should be in range [0, "+s+")");var i=[],c=e.calculateOffsets(i,r),p=new ArrayBuffer(c);e.ccallSerialize(new Uint8Array(p),i,r);var h=l.now();return a[t].postMessage({type:"ccall",func:n,buffer:p},[p]),new Promise((function(n,o){u[t].push((function(t,o){o.startTimeWorker=o.startTime,o.endTimeWorker=o.endTime,o.startTime=h,o.endTime=l.now(),e.ccallDeserialize(new Uint8Array(t),i,r),n(o)}))}))},e}(l.WasmBinding);e.WasmBinding=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.ValueBased=0]="ValueBased",t[t.Positional=1]="Positional"}(e.FunctionType||(e.FunctionType={}));var r=function(t,e){this.glContext=t,this.programInfo=e};e.GlslContext=r;var o=function(t){this.context=t};e.GlslLib=o;var i=function(t,e){this.routineBody=t,this.dependencies=e};e.GlslLibRoutine=i;var a=function(){function t(t,e,n){this.name=t,this.dependencies=n||[],e&&(this.routineBody=e)}return t.prototype.addDependency=function(t){t&&this.dependencies.push(t)},t}();e.GlslLibRoutineNode=a;var s=function(){function t(){}return t.returnOrderedNodes=function(t){if(!t||0===t.length)return[];if(1===t.length)return t;var e=new Set,n=new Set,r=new Array;return this.createOrderedNodes(t,e,n,r),r},t.createOrderedNodes=function(t,e,n,r){for(var o=0;o<t.length;++o)this.dfsTraverse(t[o],e,n,r)},t.dfsTraverse=function(t,e,n,r){if(t&&!n.has(t.name)){if(e.has(t.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");e.add(t.name);var o=t.dependencies;if(o&&o.length>0)for(var i=0;i<o.length;++i)this.dfsTraverse(o[i],e,n,r);r.push(t),n.add(t.name),e.delete(t.name)}},t}();e.TopologicalSortGlslRoutines=s},function(t,e,n){"use strict";(function(t){var r=e;function o(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;++o)void 0!==t[r[o]]&&n||(t[r[o]]=e[r[o]]);return t}function i(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n(60),r.base64=n(61),r.EventEmitter=n(62),r.float=n(63),r.inquire=n(64),r.utf8=n(65),r.pool=n(66),r.LongBits=n(67),r.global="undefined"!=typeof window&&window||void 0!==t&&t||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=o,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(8))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],e.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],e.FLOAT_TYPES=["float32","float64"]},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(58),o=r.Reader,i=r.Writer,a=r.util,s=r.roots.default||(r.roots.default={});s.onnx=function(){var t,e,n={};return n.Version=(t={},(e=Object.create(t))[t[0]="_START_VERSION"]=0,e[t[1]="IR_VERSION_2017_10_10"]=1,e[t[2]="IR_VERSION_2017_10_30"]=2,e[t[3]="IR_VERSION_2017_11_3"]=3,e[t[4]="IR_VERSION_2019_1_22"]=4,e[t[5]="IR_VERSION"]=5,e),n.AttributeProto=function(){function t(t){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.refAttrName="",t.prototype.docString="",t.prototype.type=0,t.prototype.f=0,t.prototype.i=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.s=a.newBuffer([]),t.prototype.t=null,t.prototype.g=null,t.prototype.floats=a.emptyArray,t.prototype.ints=a.emptyArray,t.prototype.strings=a.emptyArray,t.prototype.tensors=a.emptyArray,t.prototype.graphs=a.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=i.create()),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(10).string(t.name),null!=t.f&&t.hasOwnProperty("f")&&e.uint32(21).float(t.f),null!=t.i&&t.hasOwnProperty("i")&&e.uint32(24).int64(t.i),null!=t.s&&t.hasOwnProperty("s")&&e.uint32(34).bytes(t.s),null!=t.t&&t.hasOwnProperty("t")&&s.onnx.TensorProto.encode(t.t,e.uint32(42).fork()).ldelim(),null!=t.g&&t.hasOwnProperty("g")&&s.onnx.GraphProto.encode(t.g,e.uint32(50).fork()).ldelim(),null!=t.floats&&t.floats.length){e.uint32(58).fork();for(var n=0;n<t.floats.length;++n)e.float(t.floats[n]);e.ldelim()}if(null!=t.ints&&t.ints.length){for(e.uint32(66).fork(),n=0;n<t.ints.length;++n)e.int64(t.ints[n]);e.ldelim()}if(null!=t.strings&&t.strings.length)for(n=0;n<t.strings.length;++n)e.uint32(74).bytes(t.strings[n]);if(null!=t.tensors&&t.tensors.length)for(n=0;n<t.tensors.length;++n)s.onnx.TensorProto.encode(t.tensors[n],e.uint32(82).fork()).ldelim();if(null!=t.graphs&&t.graphs.length)for(n=0;n<t.graphs.length;++n)s.onnx.GraphProto.encode(t.graphs[n],e.uint32(90).fork()).ldelim();return null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(106).string(t.docString),null!=t.type&&t.hasOwnProperty("type")&&e.uint32(160).int32(t.type),null!=t.refAttrName&&t.hasOwnProperty("refAttrName")&&e.uint32(170).string(t.refAttrName),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.AttributeProto;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.name=t.string();break;case 21:r.refAttrName=t.string();break;case 13:r.docString=t.string();break;case 20:r.type=t.int32();break;case 2:r.f=t.float();break;case 3:r.i=t.int64();break;case 4:r.s=t.bytes();break;case 5:r.t=s.onnx.TensorProto.decode(t,t.uint32());break;case 6:r.g=s.onnx.GraphProto.decode(t,t.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&i))for(var a=t.uint32()+t.pos;t.pos<a;)r.floats.push(t.float());else r.floats.push(t.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&i))for(a=t.uint32()+t.pos;t.pos<a;)r.ints.push(t.int64());else r.ints.push(t.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(t.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(s.onnx.TensorProto.decode(t,t.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(s.onnx.GraphProto.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.name&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(null!=t.refAttrName&&t.hasOwnProperty("refAttrName")&&!a.isString(t.refAttrName))return"refAttrName: string expected";if(null!=t.docString&&t.hasOwnProperty("docString")&&!a.isString(t.docString))return"docString: string expected";if(null!=t.type&&t.hasOwnProperty("type"))switch(t.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=t.f&&t.hasOwnProperty("f")&&"number"!=typeof t.f)return"f: number expected";if(null!=t.i&&t.hasOwnProperty("i")&&!(a.isInteger(t.i)||t.i&&a.isInteger(t.i.low)&&a.isInteger(t.i.high)))return"i: integer|Long expected";if(null!=t.s&&t.hasOwnProperty("s")&&!(t.s&&"number"==typeof t.s.length||a.isString(t.s)))return"s: buffer expected";if(null!=t.t&&t.hasOwnProperty("t")&&(n=s.onnx.TensorProto.verify(t.t)))return"t."+n;if(null!=t.g&&t.hasOwnProperty("g")&&(n=s.onnx.GraphProto.verify(t.g)))return"g."+n;if(null!=t.floats&&t.hasOwnProperty("floats")){if(!Array.isArray(t.floats))return"floats: array expected";for(var e=0;e<t.floats.length;++e)if("number"!=typeof t.floats[e])return"floats: number[] expected"}if(null!=t.ints&&t.hasOwnProperty("ints")){if(!Array.isArray(t.ints))return"ints: array expected";for(e=0;e<t.ints.length;++e)if(!(a.isInteger(t.ints[e])||t.ints[e]&&a.isInteger(t.ints[e].low)&&a.isInteger(t.ints[e].high)))return"ints: integer|Long[] expected"}if(null!=t.strings&&t.hasOwnProperty("strings")){if(!Array.isArray(t.strings))return"strings: array expected";for(e=0;e<t.strings.length;++e)if(!(t.strings[e]&&"number"==typeof t.strings[e].length||a.isString(t.strings[e])))return"strings: buffer[] expected"}if(null!=t.tensors&&t.hasOwnProperty("tensors")){if(!Array.isArray(t.tensors))return"tensors: array expected";for(e=0;e<t.tensors.length;++e)if(n=s.onnx.TensorProto.verify(t.tensors[e]))return"tensors."+n}if(null!=t.graphs&&t.hasOwnProperty("graphs")){if(!Array.isArray(t.graphs))return"graphs: array expected";for(e=0;e<t.graphs.length;++e){var n;if(n=s.onnx.GraphProto.verify(t.graphs[e]))return"graphs."+n}}return null},t.fromObject=function(t){if(t instanceof s.onnx.AttributeProto)return t;var e=new s.onnx.AttributeProto;switch(null!=t.name&&(e.name=String(t.name)),null!=t.refAttrName&&(e.refAttrName=String(t.refAttrName)),null!=t.docString&&(e.docString=String(t.docString)),t.type){case"UNDEFINED":case 0:e.type=0;break;case"FLOAT":case 1:e.type=1;break;case"INT":case 2:e.type=2;break;case"STRING":case 3:e.type=3;break;case"TENSOR":case 4:e.type=4;break;case"GRAPH":case 5:e.type=5;break;case"FLOATS":case 6:e.type=6;break;case"INTS":case 7:e.type=7;break;case"STRINGS":case 8:e.type=8;break;case"TENSORS":case 9:e.type=9;break;case"GRAPHS":case 10:e.type=10}if(null!=t.f&&(e.f=Number(t.f)),null!=t.i&&(a.Long?(e.i=a.Long.fromValue(t.i)).unsigned=!1:"string"==typeof t.i?e.i=parseInt(t.i,10):"number"==typeof t.i?e.i=t.i:"object"==typeof t.i&&(e.i=new a.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber())),null!=t.s&&("string"==typeof t.s?a.base64.decode(t.s,e.s=a.newBuffer(a.base64.length(t.s)),0):t.s.length&&(e.s=t.s)),null!=t.t){if("object"!=typeof t.t)throw TypeError(".onnx.AttributeProto.t: object expected");e.t=s.onnx.TensorProto.fromObject(t.t)}if(null!=t.g){if("object"!=typeof t.g)throw TypeError(".onnx.AttributeProto.g: object expected");e.g=s.onnx.GraphProto.fromObject(t.g)}if(t.floats){if(!Array.isArray(t.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");e.floats=[];for(var n=0;n<t.floats.length;++n)e.floats[n]=Number(t.floats[n])}if(t.ints){if(!Array.isArray(t.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(e.ints=[],n=0;n<t.ints.length;++n)a.Long?(e.ints[n]=a.Long.fromValue(t.ints[n])).unsigned=!1:"string"==typeof t.ints[n]?e.ints[n]=parseInt(t.ints[n],10):"number"==typeof t.ints[n]?e.ints[n]=t.ints[n]:"object"==typeof t.ints[n]&&(e.ints[n]=new a.LongBits(t.ints[n].low>>>0,t.ints[n].high>>>0).toNumber())}if(t.strings){if(!Array.isArray(t.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(e.strings=[],n=0;n<t.strings.length;++n)"string"==typeof t.strings[n]?a.base64.decode(t.strings[n],e.strings[n]=a.newBuffer(a.base64.length(t.strings[n])),0):t.strings[n].length&&(e.strings[n]=t.strings[n])}if(t.tensors){if(!Array.isArray(t.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(e.tensors=[],n=0;n<t.tensors.length;++n){if("object"!=typeof t.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");e.tensors[n]=s.onnx.TensorProto.fromObject(t.tensors[n])}}if(t.graphs){if(!Array.isArray(t.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(e.graphs=[],n=0;n<t.graphs.length;++n){if("object"!=typeof t.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");e.graphs[n]=s.onnx.GraphProto.fromObject(t.graphs[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[]),e.defaults){if(n.name="",n.f=0,a.Long){var r=new a.Long(0,0,!1);n.i=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.i=e.longs===String?"0":0;e.bytes===String?n.s="":(n.s=[],e.bytes!==Array&&(n.s=a.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.type=e.enums===String?"UNDEFINED":0,n.refAttrName=""}if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.f&&t.hasOwnProperty("f")&&(n.f=e.json&&!isFinite(t.f)?String(t.f):t.f),null!=t.i&&t.hasOwnProperty("i")&&("number"==typeof t.i?n.i=e.longs===String?String(t.i):t.i:n.i=e.longs===String?a.Long.prototype.toString.call(t.i):e.longs===Number?new a.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber():t.i),null!=t.s&&t.hasOwnProperty("s")&&(n.s=e.bytes===String?a.base64.encode(t.s,0,t.s.length):e.bytes===Array?Array.prototype.slice.call(t.s):t.s),null!=t.t&&t.hasOwnProperty("t")&&(n.t=s.onnx.TensorProto.toObject(t.t,e)),null!=t.g&&t.hasOwnProperty("g")&&(n.g=s.onnx.GraphProto.toObject(t.g,e)),t.floats&&t.floats.length){n.floats=[];for(var o=0;o<t.floats.length;++o)n.floats[o]=e.json&&!isFinite(t.floats[o])?String(t.floats[o]):t.floats[o]}if(t.ints&&t.ints.length)for(n.ints=[],o=0;o<t.ints.length;++o)"number"==typeof t.ints[o]?n.ints[o]=e.longs===String?String(t.ints[o]):t.ints[o]:n.ints[o]=e.longs===String?a.Long.prototype.toString.call(t.ints[o]):e.longs===Number?new a.LongBits(t.ints[o].low>>>0,t.ints[o].high>>>0).toNumber():t.ints[o];if(t.strings&&t.strings.length)for(n.strings=[],o=0;o<t.strings.length;++o)n.strings[o]=e.bytes===String?a.base64.encode(t.strings[o],0,t.strings[o].length):e.bytes===Array?Array.prototype.slice.call(t.strings[o]):t.strings[o];if(t.tensors&&t.tensors.length)for(n.tensors=[],o=0;o<t.tensors.length;++o)n.tensors[o]=s.onnx.TensorProto.toObject(t.tensors[o],e);if(t.graphs&&t.graphs.length)for(n.graphs=[],o=0;o<t.graphs.length;++o)n.graphs[o]=s.onnx.GraphProto.toObject(t.graphs[o],e);return null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?s.onnx.AttributeProto.AttributeType[t.type]:t.type),null!=t.refAttrName&&t.hasOwnProperty("refAttrName")&&(n.refAttrName=t.refAttrName),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t.AttributeType=function(){var t={},e=Object.create(t);return e[t[0]="UNDEFINED"]=0,e[t[1]="FLOAT"]=1,e[t[2]="INT"]=2,e[t[3]="STRING"]=3,e[t[4]="TENSOR"]=4,e[t[5]="GRAPH"]=5,e[t[6]="FLOATS"]=6,e[t[7]="INTS"]=7,e[t[8]="STRINGS"]=8,e[t[9]="TENSORS"]=9,e[t[10]="GRAPHS"]=10,e}(),t}(),n.ValueInfoProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.type=null,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=i.create()),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(10).string(t.name),null!=t.type&&t.hasOwnProperty("type")&&s.onnx.TypeProto.encode(t.type,e.uint32(18).fork()).ldelim(),null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(26).string(t.docString),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.ValueInfoProto;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.name=t.string();break;case 2:r.type=s.onnx.TypeProto.decode(t,t.uint32());break;case 3:r.docString=t.string();break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.name&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(null!=t.type&&t.hasOwnProperty("type")){var e=s.onnx.TypeProto.verify(t.type);if(e)return"type."+e}return null!=t.docString&&t.hasOwnProperty("docString")&&!a.isString(t.docString)?"docString: string expected":null},t.fromObject=function(t){if(t instanceof s.onnx.ValueInfoProto)return t;var e=new s.onnx.ValueInfoProto;if(null!=t.name&&(e.name=String(t.name)),null!=t.type){if("object"!=typeof t.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");e.type=s.onnx.TypeProto.fromObject(t.type)}return null!=t.docString&&(e.docString=String(t.docString)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.name="",n.type=null,n.docString=""),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.type&&t.hasOwnProperty("type")&&(n.type=s.onnx.TypeProto.toObject(t.type,e)),null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t}(),n.NodeProto=function(){function t(t){if(this.input=[],this.output=[],this.attribute=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.input=a.emptyArray,t.prototype.output=a.emptyArray,t.prototype.name="",t.prototype.opType="",t.prototype.domain="",t.prototype.attribute=a.emptyArray,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=i.create()),null!=t.input&&t.input.length)for(var n=0;n<t.input.length;++n)e.uint32(10).string(t.input[n]);if(null!=t.output&&t.output.length)for(n=0;n<t.output.length;++n)e.uint32(18).string(t.output[n]);if(null!=t.name&&t.hasOwnProperty("name")&&e.uint32(26).string(t.name),null!=t.opType&&t.hasOwnProperty("opType")&&e.uint32(34).string(t.opType),null!=t.attribute&&t.attribute.length)for(n=0;n<t.attribute.length;++n)s.onnx.AttributeProto.encode(t.attribute[n],e.uint32(42).fork()).ldelim();return null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(50).string(t.docString),null!=t.domain&&t.hasOwnProperty("domain")&&e.uint32(58).string(t.domain),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.NodeProto;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(t.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(t.string());break;case 3:r.name=t.string();break;case 4:r.opType=t.string();break;case 7:r.domain=t.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(s.onnx.AttributeProto.decode(t,t.uint32()));break;case 6:r.docString=t.string();break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.input&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var e=0;e<t.input.length;++e)if(!a.isString(t.input[e]))return"input: string[] expected"}if(null!=t.output&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(e=0;e<t.output.length;++e)if(!a.isString(t.output[e]))return"output: string[] expected"}if(null!=t.name&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(null!=t.opType&&t.hasOwnProperty("opType")&&!a.isString(t.opType))return"opType: string expected";if(null!=t.domain&&t.hasOwnProperty("domain")&&!a.isString(t.domain))return"domain: string expected";if(null!=t.attribute&&t.hasOwnProperty("attribute")){if(!Array.isArray(t.attribute))return"attribute: array expected";for(e=0;e<t.attribute.length;++e){var n=s.onnx.AttributeProto.verify(t.attribute[e]);if(n)return"attribute."+n}}return null!=t.docString&&t.hasOwnProperty("docString")&&!a.isString(t.docString)?"docString: string expected":null},t.fromObject=function(t){if(t instanceof s.onnx.NodeProto)return t;var e=new s.onnx.NodeProto;if(t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.NodeProto.input: array expected");e.input=[];for(var n=0;n<t.input.length;++n)e.input[n]=String(t.input[n])}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.NodeProto.output: array expected");for(e.output=[],n=0;n<t.output.length;++n)e.output[n]=String(t.output[n])}if(null!=t.name&&(e.name=String(t.name)),null!=t.opType&&(e.opType=String(t.opType)),null!=t.domain&&(e.domain=String(t.domain)),t.attribute){if(!Array.isArray(t.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(e.attribute=[],n=0;n<t.attribute.length;++n){if("object"!=typeof t.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");e.attribute[n]=s.onnx.AttributeProto.fromObject(t.attribute[n])}}return null!=t.docString&&(e.docString=String(t.docString)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.input=[],n.output=[],n.attribute=[]),e.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),t.input&&t.input.length){n.input=[];for(var r=0;r<t.input.length;++r)n.input[r]=t.input[r]}if(t.output&&t.output.length)for(n.output=[],r=0;r<t.output.length;++r)n.output[r]=t.output[r];if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.opType&&t.hasOwnProperty("opType")&&(n.opType=t.opType),t.attribute&&t.attribute.length)for(n.attribute=[],r=0;r<t.attribute.length;++r)n.attribute[r]=s.onnx.AttributeProto.toObject(t.attribute[r],e);return null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),null!=t.domain&&t.hasOwnProperty("domain")&&(n.domain=t.domain),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t}(),n.ModelProto=function(){function t(t){if(this.opsetImport=[],this.metadataProps=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.irVersion=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.opsetImport=a.emptyArray,t.prototype.producerName="",t.prototype.producerVersion="",t.prototype.domain="",t.prototype.modelVersion=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.docString="",t.prototype.graph=null,t.prototype.metadataProps=a.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=i.create()),null!=t.irVersion&&t.hasOwnProperty("irVersion")&&e.uint32(8).int64(t.irVersion),null!=t.producerName&&t.hasOwnProperty("producerName")&&e.uint32(18).string(t.producerName),null!=t.producerVersion&&t.hasOwnProperty("producerVersion")&&e.uint32(26).string(t.producerVersion),null!=t.domain&&t.hasOwnProperty("domain")&&e.uint32(34).string(t.domain),null!=t.modelVersion&&t.hasOwnProperty("modelVersion")&&e.uint32(40).int64(t.modelVersion),null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(50).string(t.docString),null!=t.graph&&t.hasOwnProperty("graph")&&s.onnx.GraphProto.encode(t.graph,e.uint32(58).fork()).ldelim(),null!=t.opsetImport&&t.opsetImport.length)for(var n=0;n<t.opsetImport.length;++n)s.onnx.OperatorSetIdProto.encode(t.opsetImport[n],e.uint32(66).fork()).ldelim();if(null!=t.metadataProps&&t.metadataProps.length)for(n=0;n<t.metadataProps.length;++n)s.onnx.StringStringEntryProto.encode(t.metadataProps[n],e.uint32(114).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.ModelProto;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.irVersion=t.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(s.onnx.OperatorSetIdProto.decode(t,t.uint32()));break;case 2:r.producerName=t.string();break;case 3:r.producerVersion=t.string();break;case 4:r.domain=t.string();break;case 5:r.modelVersion=t.int64();break;case 6:r.docString=t.string();break;case 7:r.graph=s.onnx.GraphProto.decode(t,t.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(s.onnx.StringStringEntryProto.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.irVersion&&t.hasOwnProperty("irVersion")&&!(a.isInteger(t.irVersion)||t.irVersion&&a.isInteger(t.irVersion.low)&&a.isInteger(t.irVersion.high)))return"irVersion: integer|Long expected";if(null!=t.opsetImport&&t.hasOwnProperty("opsetImport")){if(!Array.isArray(t.opsetImport))return"opsetImport: array expected";for(var e=0;e<t.opsetImport.length;++e)if(n=s.onnx.OperatorSetIdProto.verify(t.opsetImport[e]))return"opsetImport."+n}if(null!=t.producerName&&t.hasOwnProperty("producerName")&&!a.isString(t.producerName))return"producerName: string expected";if(null!=t.producerVersion&&t.hasOwnProperty("producerVersion")&&!a.isString(t.producerVersion))return"producerVersion: string expected";if(null!=t.domain&&t.hasOwnProperty("domain")&&!a.isString(t.domain))return"domain: string expected";if(null!=t.modelVersion&&t.hasOwnProperty("modelVersion")&&!(a.isInteger(t.modelVersion)||t.modelVersion&&a.isInteger(t.modelVersion.low)&&a.isInteger(t.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=t.docString&&t.hasOwnProperty("docString")&&!a.isString(t.docString))return"docString: string expected";if(null!=t.graph&&t.hasOwnProperty("graph")&&(n=s.onnx.GraphProto.verify(t.graph)))return"graph."+n;if(null!=t.metadataProps&&t.hasOwnProperty("metadataProps")){if(!Array.isArray(t.metadataProps))return"metadataProps: array expected";for(e=0;e<t.metadataProps.length;++e){var n;if(n=s.onnx.StringStringEntryProto.verify(t.metadataProps[e]))return"metadataProps."+n}}return null},t.fromObject=function(t){if(t instanceof s.onnx.ModelProto)return t;var e=new s.onnx.ModelProto;if(null!=t.irVersion&&(a.Long?(e.irVersion=a.Long.fromValue(t.irVersion)).unsigned=!1:"string"==typeof t.irVersion?e.irVersion=parseInt(t.irVersion,10):"number"==typeof t.irVersion?e.irVersion=t.irVersion:"object"==typeof t.irVersion&&(e.irVersion=new a.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber())),t.opsetImport){if(!Array.isArray(t.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");e.opsetImport=[];for(var n=0;n<t.opsetImport.length;++n){if("object"!=typeof t.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");e.opsetImport[n]=s.onnx.OperatorSetIdProto.fromObject(t.opsetImport[n])}}if(null!=t.producerName&&(e.producerName=String(t.producerName)),null!=t.producerVersion&&(e.producerVersion=String(t.producerVersion)),null!=t.domain&&(e.domain=String(t.domain)),null!=t.modelVersion&&(a.Long?(e.modelVersion=a.Long.fromValue(t.modelVersion)).unsigned=!1:"string"==typeof t.modelVersion?e.modelVersion=parseInt(t.modelVersion,10):"number"==typeof t.modelVersion?e.modelVersion=t.modelVersion:"object"==typeof t.modelVersion&&(e.modelVersion=new a.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber())),null!=t.docString&&(e.docString=String(t.docString)),null!=t.graph){if("object"!=typeof t.graph)throw TypeError(".onnx.ModelProto.graph: object expected");e.graph=s.onnx.GraphProto.fromObject(t.graph)}if(t.metadataProps){if(!Array.isArray(t.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(e.metadataProps=[],n=0;n<t.metadataProps.length;++n){if("object"!=typeof t.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");e.metadataProps[n]=s.onnx.StringStringEntryProto.fromObject(t.metadataProps[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.opsetImport=[],n.metadataProps=[]),e.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.irVersion=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.irVersion=e.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",a.Long?(r=new a.Long(0,0,!1),n.modelVersion=e.longs===String?r.toString():e.longs===Number?r.toNumber():r):n.modelVersion=e.longs===String?"0":0,n.docString="",n.graph=null}if(null!=t.irVersion&&t.hasOwnProperty("irVersion")&&("number"==typeof t.irVersion?n.irVersion=e.longs===String?String(t.irVersion):t.irVersion:n.irVersion=e.longs===String?a.Long.prototype.toString.call(t.irVersion):e.longs===Number?new a.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber():t.irVersion),null!=t.producerName&&t.hasOwnProperty("producerName")&&(n.producerName=t.producerName),null!=t.producerVersion&&t.hasOwnProperty("producerVersion")&&(n.producerVersion=t.producerVersion),null!=t.domain&&t.hasOwnProperty("domain")&&(n.domain=t.domain),null!=t.modelVersion&&t.hasOwnProperty("modelVersion")&&("number"==typeof t.modelVersion?n.modelVersion=e.longs===String?String(t.modelVersion):t.modelVersion:n.modelVersion=e.longs===String?a.Long.prototype.toString.call(t.modelVersion):e.longs===Number?new a.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber():t.modelVersion),null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),null!=t.graph&&t.hasOwnProperty("graph")&&(n.graph=s.onnx.GraphProto.toObject(t.graph,e)),t.opsetImport&&t.opsetImport.length){n.opsetImport=[];for(var o=0;o<t.opsetImport.length;++o)n.opsetImport[o]=s.onnx.OperatorSetIdProto.toObject(t.opsetImport[o],e)}if(t.metadataProps&&t.metadataProps.length)for(n.metadataProps=[],o=0;o<t.metadataProps.length;++o)n.metadataProps[o]=s.onnx.StringStringEntryProto.toObject(t.metadataProps[o],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t}(),n.StringStringEntryProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.key="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=i.create()),null!=t.key&&t.hasOwnProperty("key")&&e.uint32(10).string(t.key),null!=t.value&&t.hasOwnProperty("value")&&e.uint32(18).string(t.value),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.StringStringEntryProto;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.key&&t.hasOwnProperty("key")&&!a.isString(t.key)?"key: string expected":null!=t.value&&t.hasOwnProperty("value")&&!a.isString(t.value)?"value: string expected":null},t.fromObject=function(t){if(t instanceof s.onnx.StringStringEntryProto)return t;var e=new s.onnx.StringStringEntryProto;return null!=t.key&&(e.key=String(t.key)),null!=t.value&&(e.value=String(t.value)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.key="",n.value=""),null!=t.key&&t.hasOwnProperty("key")&&(n.key=t.key),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t}(),n.TensorAnnotation=function(){function t(t){if(this.quantParameterTensorNames=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tensorName="",t.prototype.quantParameterTensorNames=a.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=i.create()),null!=t.tensorName&&t.hasOwnProperty("tensorName")&&e.uint32(10).string(t.tensorName),null!=t.quantParameterTensorNames&&t.quantParameterTensorNames.length)for(var n=0;n<t.quantParameterTensorNames.length;++n)s.onnx.StringStringEntryProto.encode(t.quantParameterTensorNames[n],e.uint32(18).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.TensorAnnotation;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.tensorName=t.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(s.onnx.StringStringEntryProto.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.tensorName&&t.hasOwnProperty("tensorName")&&!a.isString(t.tensorName))return"tensorName: string expected";if(null!=t.quantParameterTensorNames&&t.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(t.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var e=0;e<t.quantParameterTensorNames.length;++e){var n=s.onnx.StringStringEntryProto.verify(t.quantParameterTensorNames[e]);if(n)return"quantParameterTensorNames."+n}}return null},t.fromObject=function(t){if(t instanceof s.onnx.TensorAnnotation)return t;var e=new s.onnx.TensorAnnotation;if(null!=t.tensorName&&(e.tensorName=String(t.tensorName)),t.quantParameterTensorNames){if(!Array.isArray(t.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");e.quantParameterTensorNames=[];for(var n=0;n<t.quantParameterTensorNames.length;++n){if("object"!=typeof t.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");e.quantParameterTensorNames[n]=s.onnx.StringStringEntryProto.fromObject(t.quantParameterTensorNames[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.quantParameterTensorNames=[]),e.defaults&&(n.tensorName=""),null!=t.tensorName&&t.hasOwnProperty("tensorName")&&(n.tensorName=t.tensorName),t.quantParameterTensorNames&&t.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<t.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=s.onnx.StringStringEntryProto.toObject(t.quantParameterTensorNames[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t}(),n.GraphProto=function(){function t(t){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.node=a.emptyArray,t.prototype.name="",t.prototype.initializer=a.emptyArray,t.prototype.docString="",t.prototype.input=a.emptyArray,t.prototype.output=a.emptyArray,t.prototype.valueInfo=a.emptyArray,t.prototype.quantizationAnnotation=a.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=i.create()),null!=t.node&&t.node.length)for(var n=0;n<t.node.length;++n)s.onnx.NodeProto.encode(t.node[n],e.uint32(10).fork()).ldelim();if(null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.initializer&&t.initializer.length)for(n=0;n<t.initializer.length;++n)s.onnx.TensorProto.encode(t.initializer[n],e.uint32(42).fork()).ldelim();if(null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(82).string(t.docString),null!=t.input&&t.input.length)for(n=0;n<t.input.length;++n)s.onnx.ValueInfoProto.encode(t.input[n],e.uint32(90).fork()).ldelim();if(null!=t.output&&t.output.length)for(n=0;n<t.output.length;++n)s.onnx.ValueInfoProto.encode(t.output[n],e.uint32(98).fork()).ldelim();if(null!=t.valueInfo&&t.valueInfo.length)for(n=0;n<t.valueInfo.length;++n)s.onnx.ValueInfoProto.encode(t.valueInfo[n],e.uint32(106).fork()).ldelim();if(null!=t.quantizationAnnotation&&t.quantizationAnnotation.length)for(n=0;n<t.quantizationAnnotation.length;++n)s.onnx.TensorAnnotation.encode(t.quantizationAnnotation[n],e.uint32(114).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.GraphProto;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(s.onnx.NodeProto.decode(t,t.uint32()));break;case 2:r.name=t.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(s.onnx.TensorProto.decode(t,t.uint32()));break;case 10:r.docString=t.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(s.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(s.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(s.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(s.onnx.TensorAnnotation.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.node&&t.hasOwnProperty("node")){if(!Array.isArray(t.node))return"node: array expected";for(var e=0;e<t.node.length;++e)if(n=s.onnx.NodeProto.verify(t.node[e]))return"node."+n}if(null!=t.name&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(null!=t.initializer&&t.hasOwnProperty("initializer")){if(!Array.isArray(t.initializer))return"initializer: array expected";for(e=0;e<t.initializer.length;++e)if(n=s.onnx.TensorProto.verify(t.initializer[e]))return"initializer."+n}if(null!=t.docString&&t.hasOwnProperty("docString")&&!a.isString(t.docString))return"docString: string expected";if(null!=t.input&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(e=0;e<t.input.length;++e)if(n=s.onnx.ValueInfoProto.verify(t.input[e]))return"input."+n}if(null!=t.output&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(e=0;e<t.output.length;++e)if(n=s.onnx.ValueInfoProto.verify(t.output[e]))return"output."+n}if(null!=t.valueInfo&&t.hasOwnProperty("valueInfo")){if(!Array.isArray(t.valueInfo))return"valueInfo: array expected";for(e=0;e<t.valueInfo.length;++e)if(n=s.onnx.ValueInfoProto.verify(t.valueInfo[e]))return"valueInfo."+n}if(null!=t.quantizationAnnotation&&t.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(t.quantizationAnnotation))return"quantizationAnnotation: array expected";for(e=0;e<t.quantizationAnnotation.length;++e){var n;if(n=s.onnx.TensorAnnotation.verify(t.quantizationAnnotation[e]))return"quantizationAnnotation."+n}}return null},t.fromObject=function(t){if(t instanceof s.onnx.GraphProto)return t;var e=new s.onnx.GraphProto;if(t.node){if(!Array.isArray(t.node))throw TypeError(".onnx.GraphProto.node: array expected");e.node=[];for(var n=0;n<t.node.length;++n){if("object"!=typeof t.node[n])throw TypeError(".onnx.GraphProto.node: object expected");e.node[n]=s.onnx.NodeProto.fromObject(t.node[n])}}if(null!=t.name&&(e.name=String(t.name)),t.initializer){if(!Array.isArray(t.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(e.initializer=[],n=0;n<t.initializer.length;++n){if("object"!=typeof t.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");e.initializer[n]=s.onnx.TensorProto.fromObject(t.initializer[n])}}if(null!=t.docString&&(e.docString=String(t.docString)),t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.GraphProto.input: array expected");for(e.input=[],n=0;n<t.input.length;++n){if("object"!=typeof t.input[n])throw TypeError(".onnx.GraphProto.input: object expected");e.input[n]=s.onnx.ValueInfoProto.fromObject(t.input[n])}}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.GraphProto.output: array expected");for(e.output=[],n=0;n<t.output.length;++n){if("object"!=typeof t.output[n])throw TypeError(".onnx.GraphProto.output: object expected");e.output[n]=s.onnx.ValueInfoProto.fromObject(t.output[n])}}if(t.valueInfo){if(!Array.isArray(t.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(e.valueInfo=[],n=0;n<t.valueInfo.length;++n){if("object"!=typeof t.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");e.valueInfo[n]=s.onnx.ValueInfoProto.fromObject(t.valueInfo[n])}}if(t.quantizationAnnotation){if(!Array.isArray(t.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(e.quantizationAnnotation=[],n=0;n<t.quantizationAnnotation.length;++n){if("object"!=typeof t.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");e.quantizationAnnotation[n]=s.onnx.TensorAnnotation.fromObject(t.quantizationAnnotation[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),e.defaults&&(n.name="",n.docString=""),t.node&&t.node.length){n.node=[];for(var r=0;r<t.node.length;++r)n.node[r]=s.onnx.NodeProto.toObject(t.node[r],e)}if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),t.initializer&&t.initializer.length)for(n.initializer=[],r=0;r<t.initializer.length;++r)n.initializer[r]=s.onnx.TensorProto.toObject(t.initializer[r],e);if(null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.input&&t.input.length)for(n.input=[],r=0;r<t.input.length;++r)n.input[r]=s.onnx.ValueInfoProto.toObject(t.input[r],e);if(t.output&&t.output.length)for(n.output=[],r=0;r<t.output.length;++r)n.output[r]=s.onnx.ValueInfoProto.toObject(t.output[r],e);if(t.valueInfo&&t.valueInfo.length)for(n.valueInfo=[],r=0;r<t.valueInfo.length;++r)n.valueInfo[r]=s.onnx.ValueInfoProto.toObject(t.valueInfo[r],e);if(t.quantizationAnnotation&&t.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<t.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=s.onnx.TensorAnnotation.toObject(t.quantizationAnnotation[r],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t}(),n.TensorProto=function(){function t(t){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.dims=a.emptyArray,t.prototype.dataType=0,t.prototype.segment=null,t.prototype.floatData=a.emptyArray,t.prototype.int32Data=a.emptyArray,t.prototype.stringData=a.emptyArray,t.prototype.int64Data=a.emptyArray,t.prototype.name="",t.prototype.docString="",t.prototype.rawData=a.newBuffer([]),t.prototype.externalData=a.emptyArray,t.prototype.dataLocation=0,t.prototype.doubleData=a.emptyArray,t.prototype.uint64Data=a.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=i.create()),null!=t.dims&&t.dims.length){e.uint32(10).fork();for(var n=0;n<t.dims.length;++n)e.int64(t.dims[n]);e.ldelim()}if(null!=t.dataType&&t.hasOwnProperty("dataType")&&e.uint32(16).int32(t.dataType),null!=t.segment&&t.hasOwnProperty("segment")&&s.onnx.TensorProto.Segment.encode(t.segment,e.uint32(26).fork()).ldelim(),null!=t.floatData&&t.floatData.length){for(e.uint32(34).fork(),n=0;n<t.floatData.length;++n)e.float(t.floatData[n]);e.ldelim()}if(null!=t.int32Data&&t.int32Data.length){for(e.uint32(42).fork(),n=0;n<t.int32Data.length;++n)e.int32(t.int32Data[n]);e.ldelim()}if(null!=t.stringData&&t.stringData.length)for(n=0;n<t.stringData.length;++n)e.uint32(50).bytes(t.stringData[n]);if(null!=t.int64Data&&t.int64Data.length){for(e.uint32(58).fork(),n=0;n<t.int64Data.length;++n)e.int64(t.int64Data[n]);e.ldelim()}if(null!=t.name&&t.hasOwnProperty("name")&&e.uint32(66).string(t.name),null!=t.rawData&&t.hasOwnProperty("rawData")&&e.uint32(74).bytes(t.rawData),null!=t.doubleData&&t.doubleData.length){for(e.uint32(82).fork(),n=0;n<t.doubleData.length;++n)e.double(t.doubleData[n]);e.ldelim()}if(null!=t.uint64Data&&t.uint64Data.length){for(e.uint32(90).fork(),n=0;n<t.uint64Data.length;++n)e.uint64(t.uint64Data[n]);e.ldelim()}if(null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(98).string(t.docString),null!=t.externalData&&t.externalData.length)for(n=0;n<t.externalData.length;++n)s.onnx.StringStringEntryProto.encode(t.externalData[n],e.uint32(106).fork()).ldelim();return null!=t.dataLocation&&t.hasOwnProperty("dataLocation")&&e.uint32(112).int32(t.dataLocation),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.TensorProto;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&i))for(var a=t.uint32()+t.pos;t.pos<a;)r.dims.push(t.int64());else r.dims.push(t.int64());break;case 2:r.dataType=t.int32();break;case 3:r.segment=s.onnx.TensorProto.Segment.decode(t,t.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&i))for(a=t.uint32()+t.pos;t.pos<a;)r.floatData.push(t.float());else r.floatData.push(t.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&i))for(a=t.uint32()+t.pos;t.pos<a;)r.int32Data.push(t.int32());else r.int32Data.push(t.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(t.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&i))for(a=t.uint32()+t.pos;t.pos<a;)r.int64Data.push(t.int64());else r.int64Data.push(t.int64());break;case 8:r.name=t.string();break;case 12:r.docString=t.string();break;case 9:r.rawData=t.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(s.onnx.StringStringEntryProto.decode(t,t.uint32()));break;case 14:r.dataLocation=t.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&i))for(a=t.uint32()+t.pos;t.pos<a;)r.doubleData.push(t.double());else r.doubleData.push(t.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&i))for(a=t.uint32()+t.pos;t.pos<a;)r.uint64Data.push(t.uint64());else r.uint64Data.push(t.uint64());break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.dims&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var e=0;e<t.dims.length;++e)if(!(a.isInteger(t.dims[e])||t.dims[e]&&a.isInteger(t.dims[e].low)&&a.isInteger(t.dims[e].high)))return"dims: integer|Long[] expected"}if(null!=t.dataType&&t.hasOwnProperty("dataType")&&!a.isInteger(t.dataType))return"dataType: integer expected";if(null!=t.segment&&t.hasOwnProperty("segment")&&(n=s.onnx.TensorProto.Segment.verify(t.segment)))return"segment."+n;if(null!=t.floatData&&t.hasOwnProperty("floatData")){if(!Array.isArray(t.floatData))return"floatData: array expected";for(e=0;e<t.floatData.length;++e)if("number"!=typeof t.floatData[e])return"floatData: number[] expected"}if(null!=t.int32Data&&t.hasOwnProperty("int32Data")){if(!Array.isArray(t.int32Data))return"int32Data: array expected";for(e=0;e<t.int32Data.length;++e)if(!a.isInteger(t.int32Data[e]))return"int32Data: integer[] expected"}if(null!=t.stringData&&t.hasOwnProperty("stringData")){if(!Array.isArray(t.stringData))return"stringData: array expected";for(e=0;e<t.stringData.length;++e)if(!(t.stringData[e]&&"number"==typeof t.stringData[e].length||a.isString(t.stringData[e])))return"stringData: buffer[] expected"}if(null!=t.int64Data&&t.hasOwnProperty("int64Data")){if(!Array.isArray(t.int64Data))return"int64Data: array expected";for(e=0;e<t.int64Data.length;++e)if(!(a.isInteger(t.int64Data[e])||t.int64Data[e]&&a.isInteger(t.int64Data[e].low)&&a.isInteger(t.int64Data[e].high)))return"int64Data: integer|Long[] expected"}if(null!=t.name&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(null!=t.docString&&t.hasOwnProperty("docString")&&!a.isString(t.docString))return"docString: string expected";if(null!=t.rawData&&t.hasOwnProperty("rawData")&&!(t.rawData&&"number"==typeof t.rawData.length||a.isString(t.rawData)))return"rawData: buffer expected";if(null!=t.externalData&&t.hasOwnProperty("externalData")){if(!Array.isArray(t.externalData))return"externalData: array expected";for(e=0;e<t.externalData.length;++e){var n;if(n=s.onnx.StringStringEntryProto.verify(t.externalData[e]))return"externalData."+n}}if(null!=t.dataLocation&&t.hasOwnProperty("dataLocation"))switch(t.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=t.doubleData&&t.hasOwnProperty("doubleData")){if(!Array.isArray(t.doubleData))return"doubleData: array expected";for(e=0;e<t.doubleData.length;++e)if("number"!=typeof t.doubleData[e])return"doubleData: number[] expected"}if(null!=t.uint64Data&&t.hasOwnProperty("uint64Data")){if(!Array.isArray(t.uint64Data))return"uint64Data: array expected";for(e=0;e<t.uint64Data.length;++e)if(!(a.isInteger(t.uint64Data[e])||t.uint64Data[e]&&a.isInteger(t.uint64Data[e].low)&&a.isInteger(t.uint64Data[e].high)))return"uint64Data: integer|Long[] expected"}return null},t.fromObject=function(t){if(t instanceof s.onnx.TensorProto)return t;var e=new s.onnx.TensorProto;if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".onnx.TensorProto.dims: array expected");e.dims=[];for(var n=0;n<t.dims.length;++n)a.Long?(e.dims[n]=a.Long.fromValue(t.dims[n])).unsigned=!1:"string"==typeof t.dims[n]?e.dims[n]=parseInt(t.dims[n],10):"number"==typeof t.dims[n]?e.dims[n]=t.dims[n]:"object"==typeof t.dims[n]&&(e.dims[n]=new a.LongBits(t.dims[n].low>>>0,t.dims[n].high>>>0).toNumber())}if(null!=t.dataType&&(e.dataType=0|t.dataType),null!=t.segment){if("object"!=typeof t.segment)throw TypeError(".onnx.TensorProto.segment: object expected");e.segment=s.onnx.TensorProto.Segment.fromObject(t.segment)}if(t.floatData){if(!Array.isArray(t.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(e.floatData=[],n=0;n<t.floatData.length;++n)e.floatData[n]=Number(t.floatData[n])}if(t.int32Data){if(!Array.isArray(t.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(e.int32Data=[],n=0;n<t.int32Data.length;++n)e.int32Data[n]=0|t.int32Data[n]}if(t.stringData){if(!Array.isArray(t.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(e.stringData=[],n=0;n<t.stringData.length;++n)"string"==typeof t.stringData[n]?a.base64.decode(t.stringData[n],e.stringData[n]=a.newBuffer(a.base64.length(t.stringData[n])),0):t.stringData[n].length&&(e.stringData[n]=t.stringData[n])}if(t.int64Data){if(!Array.isArray(t.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(e.int64Data=[],n=0;n<t.int64Data.length;++n)a.Long?(e.int64Data[n]=a.Long.fromValue(t.int64Data[n])).unsigned=!1:"string"==typeof t.int64Data[n]?e.int64Data[n]=parseInt(t.int64Data[n],10):"number"==typeof t.int64Data[n]?e.int64Data[n]=t.int64Data[n]:"object"==typeof t.int64Data[n]&&(e.int64Data[n]=new a.LongBits(t.int64Data[n].low>>>0,t.int64Data[n].high>>>0).toNumber())}if(null!=t.name&&(e.name=String(t.name)),null!=t.docString&&(e.docString=String(t.docString)),null!=t.rawData&&("string"==typeof t.rawData?a.base64.decode(t.rawData,e.rawData=a.newBuffer(a.base64.length(t.rawData)),0):t.rawData.length&&(e.rawData=t.rawData)),t.externalData){if(!Array.isArray(t.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(e.externalData=[],n=0;n<t.externalData.length;++n){if("object"!=typeof t.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");e.externalData[n]=s.onnx.StringStringEntryProto.fromObject(t.externalData[n])}}switch(t.dataLocation){case"DEFAULT":case 0:e.dataLocation=0;break;case"EXTERNAL":case 1:e.dataLocation=1}if(t.doubleData){if(!Array.isArray(t.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(e.doubleData=[],n=0;n<t.doubleData.length;++n)e.doubleData[n]=Number(t.doubleData[n])}if(t.uint64Data){if(!Array.isArray(t.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(e.uint64Data=[],n=0;n<t.uint64Data.length;++n)a.Long?(e.uint64Data[n]=a.Long.fromValue(t.uint64Data[n])).unsigned=!0:"string"==typeof t.uint64Data[n]?e.uint64Data[n]=parseInt(t.uint64Data[n],10):"number"==typeof t.uint64Data[n]?e.uint64Data[n]=t.uint64Data[n]:"object"==typeof t.uint64Data[n]&&(e.uint64Data[n]=new a.LongBits(t.uint64Data[n].low>>>0,t.uint64Data[n].high>>>0).toNumber(!0))}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),e.defaults&&(n.dataType=0,n.segment=null,n.name="",e.bytes===String?n.rawData="":(n.rawData=[],e.bytes!==Array&&(n.rawData=a.newBuffer(n.rawData))),n.docString="",n.dataLocation=e.enums===String?"DEFAULT":0),t.dims&&t.dims.length){n.dims=[];for(var r=0;r<t.dims.length;++r)"number"==typeof t.dims[r]?n.dims[r]=e.longs===String?String(t.dims[r]):t.dims[r]:n.dims[r]=e.longs===String?a.Long.prototype.toString.call(t.dims[r]):e.longs===Number?new a.LongBits(t.dims[r].low>>>0,t.dims[r].high>>>0).toNumber():t.dims[r]}if(null!=t.dataType&&t.hasOwnProperty("dataType")&&(n.dataType=t.dataType),null!=t.segment&&t.hasOwnProperty("segment")&&(n.segment=s.onnx.TensorProto.Segment.toObject(t.segment,e)),t.floatData&&t.floatData.length)for(n.floatData=[],r=0;r<t.floatData.length;++r)n.floatData[r]=e.json&&!isFinite(t.floatData[r])?String(t.floatData[r]):t.floatData[r];if(t.int32Data&&t.int32Data.length)for(n.int32Data=[],r=0;r<t.int32Data.length;++r)n.int32Data[r]=t.int32Data[r];if(t.stringData&&t.stringData.length)for(n.stringData=[],r=0;r<t.stringData.length;++r)n.stringData[r]=e.bytes===String?a.base64.encode(t.stringData[r],0,t.stringData[r].length):e.bytes===Array?Array.prototype.slice.call(t.stringData[r]):t.stringData[r];if(t.int64Data&&t.int64Data.length)for(n.int64Data=[],r=0;r<t.int64Data.length;++r)"number"==typeof t.int64Data[r]?n.int64Data[r]=e.longs===String?String(t.int64Data[r]):t.int64Data[r]:n.int64Data[r]=e.longs===String?a.Long.prototype.toString.call(t.int64Data[r]):e.longs===Number?new a.LongBits(t.int64Data[r].low>>>0,t.int64Data[r].high>>>0).toNumber():t.int64Data[r];if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.rawData&&t.hasOwnProperty("rawData")&&(n.rawData=e.bytes===String?a.base64.encode(t.rawData,0,t.rawData.length):e.bytes===Array?Array.prototype.slice.call(t.rawData):t.rawData),t.doubleData&&t.doubleData.length)for(n.doubleData=[],r=0;r<t.doubleData.length;++r)n.doubleData[r]=e.json&&!isFinite(t.doubleData[r])?String(t.doubleData[r]):t.doubleData[r];if(t.uint64Data&&t.uint64Data.length)for(n.uint64Data=[],r=0;r<t.uint64Data.length;++r)"number"==typeof t.uint64Data[r]?n.uint64Data[r]=e.longs===String?String(t.uint64Data[r]):t.uint64Data[r]:n.uint64Data[r]=e.longs===String?a.Long.prototype.toString.call(t.uint64Data[r]):e.longs===Number?new a.LongBits(t.uint64Data[r].low>>>0,t.uint64Data[r].high>>>0).toNumber(!0):t.uint64Data[r];if(null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.externalData&&t.externalData.length)for(n.externalData=[],r=0;r<t.externalData.length;++r)n.externalData[r]=s.onnx.StringStringEntryProto.toObject(t.externalData[r],e);return null!=t.dataLocation&&t.hasOwnProperty("dataLocation")&&(n.dataLocation=e.enums===String?s.onnx.TensorProto.DataLocation[t.dataLocation]:t.dataLocation),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t.DataType=function(){var t={},e=Object.create(t);return e[t[0]="UNDEFINED"]=0,e[t[1]="FLOAT"]=1,e[t[2]="UINT8"]=2,e[t[3]="INT8"]=3,e[t[4]="UINT16"]=4,e[t[5]="INT16"]=5,e[t[6]="INT32"]=6,e[t[7]="INT64"]=7,e[t[8]="STRING"]=8,e[t[9]="BOOL"]=9,e[t[10]="FLOAT16"]=10,e[t[11]="DOUBLE"]=11,e[t[12]="UINT32"]=12,e[t[13]="UINT64"]=13,e[t[14]="COMPLEX64"]=14,e[t[15]="COMPLEX128"]=15,e[t[16]="BFLOAT16"]=16,e}(),t.Segment=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.begin=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.end=a.Long?a.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=i.create()),null!=t.begin&&t.hasOwnProperty("begin")&&e.uint32(8).int64(t.begin),null!=t.end&&t.hasOwnProperty("end")&&e.uint32(16).int64(t.end),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.TensorProto.Segment;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.begin=t.int64();break;case 2:r.end=t.int64();break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.begin&&t.hasOwnProperty("begin")&&!(a.isInteger(t.begin)||t.begin&&a.isInteger(t.begin.low)&&a.isInteger(t.begin.high))?"begin: integer|Long expected":null!=t.end&&t.hasOwnProperty("end")&&!(a.isInteger(t.end)||t.end&&a.isInteger(t.end.low)&&a.isInteger(t.end.high))?"end: integer|Long expected":null},t.fromObject=function(t){if(t instanceof s.onnx.TensorProto.Segment)return t;var e=new s.onnx.TensorProto.Segment;return null!=t.begin&&(a.Long?(e.begin=a.Long.fromValue(t.begin)).unsigned=!1:"string"==typeof t.begin?e.begin=parseInt(t.begin,10):"number"==typeof t.begin?e.begin=t.begin:"object"==typeof t.begin&&(e.begin=new a.LongBits(t.begin.low>>>0,t.begin.high>>>0).toNumber())),null!=t.end&&(a.Long?(e.end=a.Long.fromValue(t.end)).unsigned=!1:"string"==typeof t.end?e.end=parseInt(t.end,10):"number"==typeof t.end?e.end=t.end:"object"==typeof t.end&&(e.end=new a.LongBits(t.end.low>>>0,t.end.high>>>0).toNumber())),e},t.toObject=function(t,e){e||(e={});var n={};if(e.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.begin=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.begin=e.longs===String?"0":0;a.Long?(r=new a.Long(0,0,!1),n.end=e.longs===String?r.toString():e.longs===Number?r.toNumber():r):n.end=e.longs===String?"0":0}return null!=t.begin&&t.hasOwnProperty("begin")&&("number"==typeof t.begin?n.begin=e.longs===String?String(t.begin):t.begin:n.begin=e.longs===String?a.Long.prototype.toString.call(t.begin):e.longs===Number?new a.LongBits(t.begin.low>>>0,t.begin.high>>>0).toNumber():t.begin),null!=t.end&&t.hasOwnProperty("end")&&("number"==typeof t.end?n.end=e.longs===String?String(t.end):t.end:n.end=e.longs===String?a.Long.prototype.toString.call(t.end):e.longs===Number?new a.LongBits(t.end.low>>>0,t.end.high>>>0).toNumber():t.end),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t}(),t.DataLocation=function(){var t={},e=Object.create(t);return e[t[0]="DEFAULT"]=0,e[t[1]="EXTERNAL"]=1,e}(),t}(),n.TensorShapeProto=function(){function t(t){if(this.dim=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.dim=a.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=i.create()),null!=t.dim&&t.dim.length)for(var n=0;n<t.dim.length;++n)s.onnx.TensorShapeProto.Dimension.encode(t.dim[n],e.uint32(10).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.TensorShapeProto;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.dim&&r.dim.length||(r.dim=[]),r.dim.push(s.onnx.TensorShapeProto.Dimension.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.dim&&t.hasOwnProperty("dim")){if(!Array.isArray(t.dim))return"dim: array expected";for(var e=0;e<t.dim.length;++e){var n=s.onnx.TensorShapeProto.Dimension.verify(t.dim[e]);if(n)return"dim."+n}}return null},t.fromObject=function(t){if(t instanceof s.onnx.TensorShapeProto)return t;var e=new s.onnx.TensorShapeProto;if(t.dim){if(!Array.isArray(t.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");e.dim=[];for(var n=0;n<t.dim.length;++n){if("object"!=typeof t.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");e.dim[n]=s.onnx.TensorShapeProto.Dimension.fromObject(t.dim[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.dim=[]),t.dim&&t.dim.length){n.dim=[];for(var r=0;r<t.dim.length;++r)n.dim[r]=s.onnx.TensorShapeProto.Dimension.toObject(t.dim[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t.Dimension=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e;return t.prototype.dimValue=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.dimParam="",t.prototype.denotation="",Object.defineProperty(t.prototype,"value",{get:a.oneOfGetter(e=["dimValue","dimParam"]),set:a.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=i.create()),null!=t.dimValue&&t.hasOwnProperty("dimValue")&&e.uint32(8).int64(t.dimValue),null!=t.dimParam&&t.hasOwnProperty("dimParam")&&e.uint32(18).string(t.dimParam),null!=t.denotation&&t.hasOwnProperty("denotation")&&e.uint32(26).string(t.denotation),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.TensorShapeProto.Dimension;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.dimValue=t.int64();break;case 2:r.dimParam=t.string();break;case 3:r.denotation=t.string();break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";var e={};if(null!=t.dimValue&&t.hasOwnProperty("dimValue")&&(e.value=1,!(a.isInteger(t.dimValue)||t.dimValue&&a.isInteger(t.dimValue.low)&&a.isInteger(t.dimValue.high))))return"dimValue: integer|Long expected";if(null!=t.dimParam&&t.hasOwnProperty("dimParam")){if(1===e.value)return"value: multiple values";if(e.value=1,!a.isString(t.dimParam))return"dimParam: string expected"}return null!=t.denotation&&t.hasOwnProperty("denotation")&&!a.isString(t.denotation)?"denotation: string expected":null},t.fromObject=function(t){if(t instanceof s.onnx.TensorShapeProto.Dimension)return t;var e=new s.onnx.TensorShapeProto.Dimension;return null!=t.dimValue&&(a.Long?(e.dimValue=a.Long.fromValue(t.dimValue)).unsigned=!1:"string"==typeof t.dimValue?e.dimValue=parseInt(t.dimValue,10):"number"==typeof t.dimValue?e.dimValue=t.dimValue:"object"==typeof t.dimValue&&(e.dimValue=new a.LongBits(t.dimValue.low>>>0,t.dimValue.high>>>0).toNumber())),null!=t.dimParam&&(e.dimParam=String(t.dimParam)),null!=t.denotation&&(e.denotation=String(t.denotation)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.denotation=""),null!=t.dimValue&&t.hasOwnProperty("dimValue")&&("number"==typeof t.dimValue?n.dimValue=e.longs===String?String(t.dimValue):t.dimValue:n.dimValue=e.longs===String?a.Long.prototype.toString.call(t.dimValue):e.longs===Number?new a.LongBits(t.dimValue.low>>>0,t.dimValue.high>>>0).toNumber():t.dimValue,e.oneofs&&(n.value="dimValue")),null!=t.dimParam&&t.hasOwnProperty("dimParam")&&(n.dimParam=t.dimParam,e.oneofs&&(n.value="dimParam")),null!=t.denotation&&t.hasOwnProperty("denotation")&&(n.denotation=t.denotation),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t}(),t}(),n.TypeProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e;return t.prototype.tensorType=null,t.prototype.denotation="",Object.defineProperty(t.prototype,"value",{get:a.oneOfGetter(e=["tensorType"]),set:a.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=i.create()),null!=t.tensorType&&t.hasOwnProperty("tensorType")&&s.onnx.TypeProto.Tensor.encode(t.tensorType,e.uint32(10).fork()).ldelim(),null!=t.denotation&&t.hasOwnProperty("denotation")&&e.uint32(50).string(t.denotation),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.TypeProto;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.tensorType=s.onnx.TypeProto.Tensor.decode(t,t.uint32());break;case 6:r.denotation=t.string();break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.tensorType&&t.hasOwnProperty("tensorType")){var e=s.onnx.TypeProto.Tensor.verify(t.tensorType);if(e)return"tensorType."+e}return null!=t.denotation&&t.hasOwnProperty("denotation")&&!a.isString(t.denotation)?"denotation: string expected":null},t.fromObject=function(t){if(t instanceof s.onnx.TypeProto)return t;var e=new s.onnx.TypeProto;if(null!=t.tensorType){if("object"!=typeof t.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");e.tensorType=s.onnx.TypeProto.Tensor.fromObject(t.tensorType)}return null!=t.denotation&&(e.denotation=String(t.denotation)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.denotation=""),null!=t.tensorType&&t.hasOwnProperty("tensorType")&&(n.tensorType=s.onnx.TypeProto.Tensor.toObject(t.tensorType,e),e.oneofs&&(n.value="tensorType")),null!=t.denotation&&t.hasOwnProperty("denotation")&&(n.denotation=t.denotation),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t.Tensor=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.elemType=0,t.prototype.shape=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=i.create()),null!=t.elemType&&t.hasOwnProperty("elemType")&&e.uint32(8).int32(t.elemType),null!=t.shape&&t.hasOwnProperty("shape")&&s.onnx.TensorShapeProto.encode(t.shape,e.uint32(18).fork()).ldelim(),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.TypeProto.Tensor;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.elemType=t.int32();break;case 2:r.shape=s.onnx.TensorShapeProto.decode(t,t.uint32());break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.elemType&&t.hasOwnProperty("elemType")&&!a.isInteger(t.elemType))return"elemType: integer expected";if(null!=t.shape&&t.hasOwnProperty("shape")){var e=s.onnx.TensorShapeProto.verify(t.shape);if(e)return"shape."+e}return null},t.fromObject=function(t){if(t instanceof s.onnx.TypeProto.Tensor)return t;var e=new s.onnx.TypeProto.Tensor;if(null!=t.elemType&&(e.elemType=0|t.elemType),null!=t.shape){if("object"!=typeof t.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");e.shape=s.onnx.TensorShapeProto.fromObject(t.shape)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.elemType=0,n.shape=null),null!=t.elemType&&t.hasOwnProperty("elemType")&&(n.elemType=t.elemType),null!=t.shape&&t.hasOwnProperty("shape")&&(n.shape=s.onnx.TensorShapeProto.toObject(t.shape,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t}(),t}(),n.OperatorSetIdProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.domain="",t.prototype.version=a.Long?a.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=i.create()),null!=t.domain&&t.hasOwnProperty("domain")&&e.uint32(10).string(t.domain),null!=t.version&&t.hasOwnProperty("version")&&e.uint32(16).int64(t.version),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new s.onnx.OperatorSetIdProto;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.domain=t.string();break;case 2:r.version=t.int64();break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.domain&&t.hasOwnProperty("domain")&&!a.isString(t.domain)?"domain: string expected":null!=t.version&&t.hasOwnProperty("version")&&!(a.isInteger(t.version)||t.version&&a.isInteger(t.version.low)&&a.isInteger(t.version.high))?"version: integer|Long expected":null},t.fromObject=function(t){if(t instanceof s.onnx.OperatorSetIdProto)return t;var e=new s.onnx.OperatorSetIdProto;return null!=t.domain&&(e.domain=String(t.domain)),null!=t.version&&(a.Long?(e.version=a.Long.fromValue(t.version)).unsigned=!1:"string"==typeof t.version?e.version=parseInt(t.version,10):"number"==typeof t.version?e.version=t.version:"object"==typeof t.version&&(e.version=new a.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber())),e},t.toObject=function(t,e){e||(e={});var n={};if(e.defaults)if(n.domain="",a.Long){var r=new a.Long(0,0,!1);n.version=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.version=e.longs===String?"0":0;return null!=t.domain&&t.hasOwnProperty("domain")&&(n.domain=t.domain),null!=t.version&&t.hasOwnProperty("version")&&("number"==typeof t.version?n.version=e.longs===String?String(t.version):t.version:n.version=e.longs===String?a.Long.prototype.toString.call(t.version):e.longs===Number?new a.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber():t.version),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t}(),n}(),t.exports=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(36),a=n(0),s=n(46),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){var n=a.ShapeUtil.calculateReshapedDims(e[0].dims,e[1].integerData);return[c(t,e[0],n)]},e}(i.Reshape);function c(t,e,n){var r=t.getOrCreateTextureData(e),o=n;4===r.channels&&(o=s.getPackedShape(n));var i={channels:r.channels,height:r.height,width:r.width,shape:0!==o.length?o:[1],strides:a.ShapeUtil.computeStrides(o),unpackedShape:n};return t.createSharedTextureData(i,e.type,r.texture,e.dataId).tensor}e.WebGLReshape=u,e.reshape=c},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};function o(t,e){if(e.endsWith("+")){var n=Number.parseInt(e.substring(0,e.length-1),10);return!isNaN(n)&&n<=t}if(2===e.split("-").length){var r=e.split("-"),o=(n=Number.parseInt(r[0],10),Number.parseInt(r[1],10));return!isNaN(n)&&!isNaN(o)&&n<=t&&t<=o}return Number.parseInt(e,10)===t}Object.defineProperty(e,"__esModule",{value:!0}),e.resolveOperator=function(t,e,n){var i,a,s,u;try{for(var c=r(n),l=c.next();!l.done;l=c.next()){var f=l.value,p=f[0],h=f[1],d=f[2],y=f[3];if(t.opType===p)try{for(var g=(s=void 0,r(e)),m=g.next();!m.done;m=g.next()){var v=m.value;if((v.domain===h||"ai.onnx"===v.domain&&""===h)&&o(v.version,d))return y(t)}}catch(t){s={error:t}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}}}catch(t){i={error:t}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}throw new TypeError("cannot resolve operator '"+t.opType+"' with opsets: "+e.map((function(t){return(t.domain||"ai.onnx")+" v"+t.version})).join(", "))}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(55),o=n(56),i=n(57);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),o=(t=s(t,r)).write(e,n);return o!==r&&(t=t.slice(0,o)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):p(t,e);if("Buffer"===e.type&&i(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|h(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return U(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,o){var i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,p=0;p<u;p++)if(c(t,i+p)!==c(e,p)){f=!1;break}if(f)return i}return-1}function v(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return z(U(e,t.length-n),t,n,r)}function w(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return w(t,e,n,r)}function x(t,e,n,r){return z(G(e),t,n,r)}function T(t,e,n,r){return z(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=P));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function A(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function E(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function k(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=F(t[i]);return o}function D(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function j(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function C(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function M(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,i){return i||M(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,i){return i||M(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||L(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||L(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):C(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):C(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);L(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);L(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):C(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):C(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:U(new u(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(8))},function(t,e){t.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function r(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function o(t){return!0===(t&&t.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=o;var i={},a={};function s(t,e){var n,r,o;return e?(o=0<=(t>>>=0)&&t<256)&&(r=a[t])?r:(n=c(t,(0|t)<0?-1:0,!0),o&&(a[t]=n),n):(o=-128<=(t|=0)&&t<128)&&(r=i[t])?r:(n=c(t,t<0?-1:0,!1),o&&(i[t]=n),n)}function u(t,e){if(isNaN(t))return e?v:m;if(e){if(t<0)return v;if(t>=d)return T}else{if(t<=-y)return S;if(t+1>=y)return x}return t<0?u(-t,e).neg():c(t%h|0,t/h|0,e)}function c(t,e,n){return new r(t,e,n)}r.fromInt=s,r.fromNumber=u,r.fromBits=c;var l=Math.pow;function f(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return m;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return f(t.substring(1),e,n).neg();for(var o=u(l(n,8)),i=m,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+s),n);if(s<8){var p=u(l(n,s));i=i.mul(p).add(u(c))}else i=(i=i.mul(o)).add(u(c))}return i.unsigned=e,i}function p(t,e){return"number"==typeof t?u(t,e):"string"==typeof t?f(t,e):c(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}r.fromString=f,r.fromValue=p;var h=4294967296,d=h*h,y=d/2,g=s(1<<24),m=s(0);r.ZERO=m;var v=s(0,!0);r.UZERO=v;var b=s(1);r.ONE=b;var w=s(1,!0);r.UONE=w;var _=s(-1);r.NEG_ONE=_;var x=c(-1,2147483647,!1);r.MAX_VALUE=x;var T=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=T;var S=c(0,-2147483648,!1);r.MIN_VALUE=S;var O=r.prototype;O.toInt=function(){return this.unsigned?this.low>>>0:this.low},O.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},O.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var e=u(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var o=u(l(t,6),this.unsigned),i=this,a="";;){var s=i.div(o),c=(i.sub(s.mul(o)).toInt()>>>0).toString(t);if((i=s).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},O.getHighBits=function(){return this.high},O.getHighBitsUnsigned=function(){return this.high>>>0},O.getLowBits=function(){return this.low},O.getLowBitsUnsigned=function(){return this.low>>>0},O.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},O.isZero=function(){return 0===this.high&&0===this.low},O.eqz=O.isZero,O.isNegative=function(){return!this.unsigned&&this.high<0},O.isPositive=function(){return this.unsigned||this.high>=0},O.isOdd=function(){return 1==(1&this.low)},O.isEven=function(){return 0==(1&this.low)},O.equals=function(t){return o(t)||(t=p(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},O.eq=O.equals,O.notEquals=function(t){return!this.eq(t)},O.neq=O.notEquals,O.ne=O.notEquals,O.lessThan=function(t){return this.comp(t)<0},O.lt=O.lessThan,O.lessThanOrEqual=function(t){return this.comp(t)<=0},O.lte=O.lessThanOrEqual,O.le=O.lessThanOrEqual,O.greaterThan=function(t){return this.comp(t)>0},O.gt=O.greaterThan,O.greaterThanOrEqual=function(t){return this.comp(t)>=0},O.gte=O.greaterThanOrEqual,O.ge=O.greaterThanOrEqual,O.compare=function(t){if(o(t)||(t=p(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},O.comp=O.compare,O.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},O.neg=O.negate,O.add=function(t){o(t)||(t=p(t));var e=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,a=t.high>>>16,s=65535&t.high,u=t.low>>>16,l=0,f=0,h=0,d=0;return h+=(d+=i+(65535&t.low))>>>16,f+=(h+=r+u)>>>16,l+=(f+=n+s)>>>16,l+=e+a,c((h&=65535)<<16|(d&=65535),(l&=65535)<<16|(f&=65535),this.unsigned)},O.subtract=function(t){return o(t)||(t=p(t)),this.add(t.neg())},O.sub=O.subtract,O.multiply=function(t){if(this.isZero())return m;if(o(t)||(t=p(t)),n)return c(n.mul(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned);if(t.isZero())return m;if(this.eq(S))return t.isOdd()?S:m;if(t.eq(S))return this.isOdd()?S:m;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(g)&&t.lt(g))return u(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,r=65535&this.high,i=this.low>>>16,a=65535&this.low,s=t.high>>>16,l=65535&t.high,f=t.low>>>16,h=65535&t.low,d=0,y=0,v=0,b=0;return v+=(b+=a*h)>>>16,y+=(v+=i*h)>>>16,v&=65535,y+=(v+=a*f)>>>16,d+=(y+=r*h)>>>16,y&=65535,d+=(y+=i*f)>>>16,y&=65535,d+=(y+=a*l)>>>16,d+=e*h+r*f+i*l+a*s,c((v&=65535)<<16|(b&=65535),(d&=65535)<<16|(y&=65535),this.unsigned)},O.mul=O.multiply,O.divide=function(t){if(o(t)||(t=p(t)),t.isZero())throw Error("division by zero");var e,r,i;if(n)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return v;if(t.gt(this.shru(1)))return w;i=v}else{if(this.eq(S))return t.eq(b)||t.eq(_)?S:t.eq(S)?b:(e=this.shr(1).div(t).shl(1)).eq(m)?t.isNegative()?b:_:(r=this.sub(t.mul(e)),i=e.add(r.div(t)));if(t.eq(S))return this.unsigned?v:m;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=m}for(r=this;r.gte(t);){e=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(e)/Math.LN2),s=a<=48?1:l(2,a-48),f=u(e),h=f.mul(t);h.isNegative()||h.gt(r);)h=(f=u(e-=s,this.unsigned)).mul(t);f.isZero()&&(f=b),i=i.add(f),r=r.sub(h)}return i},O.div=O.divide,O.modulo=function(t){return o(t)||(t=p(t)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},O.mod=O.modulo,O.rem=O.modulo,O.not=function(){return c(~this.low,~this.high,this.unsigned)},O.and=function(t){return o(t)||(t=p(t)),c(this.low&t.low,this.high&t.high,this.unsigned)},O.or=function(t){return o(t)||(t=p(t)),c(this.low|t.low,this.high|t.high,this.unsigned)},O.xor=function(t){return o(t)||(t=p(t)),c(this.low^t.low,this.high^t.high,this.unsigned)},O.shiftLeft=function(t){return o(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):c(0,this.low<<t-32,this.unsigned)},O.shl=O.shiftLeft,O.shiftRight=function(t){return o(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):c(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},O.shr=O.shiftRight,O.shiftRightUnsigned=function(t){if(o(t)&&(t=t.toInt()),0==(t&=63))return this;var e=this.high;return t<32?c(this.low>>>t|e<<32-t,e>>>t,this.unsigned):c(32===t?e:e>>>t-32,0,this.unsigned)},O.shru=O.shiftRightUnsigned,O.shr_u=O.shiftRightUnsigned,O.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},O.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},O.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},O.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},O.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},r.fromBytes=function(t,e,n){return n?r.fromBytesLE(t,e):r.fromBytesBE(t,e)},r.fromBytesLE=function(t,e){return new r(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},r.fromBytesBE=function(t,e){return new r(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.epsilon=t.getFloat("epsilon",1e-5),this.momentum=t.getFloat("momentum",.9),this.spatial=t.getInt("spatial",1)},t.prototype.checkInputs=function(t){return!(!t||5!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4];return!(e.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==o.dims.length||1!==i.dims.length||n.dims[0]!==e.dims[1]||r.dims[0]!==e.dims[1]||o.dims[0]!==e.dims[1]||i.dims[0]!==e.dims[1]||"float32"!==e.type&&"float64"!==e.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==i.type&&"float64"!==i.type)},t}();e.BatchNormalization=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.typeConstraint=t,this.opType=e,this.resultType=n}return t.prototype.initialize=function(t){},t.prototype.checkInputs=function(t){return!(!t||2!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return-1!==this.typeConstraint.indexOf(t[0].type)&&t[0].type===t[1].type},t}();e.BinaryOp=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.autoPad=t.getString("auto_pad","NOTSET"),this.dilations=t.getInts("dilations",[1,1]),this.group=t.getInt("group",1),this.kernelShape=t.getInts("kernel_shape",[]),this.pads=t.getInts("pads",[0,0,0,0]),this.strides=t.getInts("strides",[1,1])},t.prototype.checkInputs=function(t){if(!t||2!==t.length&&3!==t.length)return!1;if(4!==t[0].dims.length||4!==t[1].dims.length)return!1;if(t[0].dims[1]!==t[1].dims[1]*this.group)return!1;if(3===t.length&&(1!==t[2].dims.length||t[1].dims[0]!==t[2].dims[0]))return!1;var e=t[0].dims.length-2;return this.dilations.length===e&&this.strides.length===e&&this.pads.length===2*e&&(0===this.kernelShape.length||this.kernelShape.length===t[1].dims.length-2)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type&&"float32"===t[1].type&&(3!==t.length||"float32"===t[2].type)},t}();e.Conv=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=n(18),s=n(1),u=n(0),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[l(e[0],e[1])]},e}(a.MatMul);function l(t,e){var n=i(u.MatMulUtil.preprocessInputShapes(t.dims,e.dims),2),r=n[0],o=n[1],a=[r[r.length-2],o[o.length-1]],c=u.BroadcastUtil.calcShape(r,o,!0);if(!c)throw new Error("input dimensions do not match the requirement");for(var l=u.ShapeUtil.size(c)/(a[0]*a[1]),p=new s.Tensor(c,"float64"===t.type||"float64"===e.type?"float64":"float32"),h=0,d=new Array(c.length),y=new Array(t.dims.length),g=new Array(e.dims.length),m=0;m<l;m++){d[c.length-2]=0,d[c.length-1]=0;for(var v=m,b=c.length-3;b>=0;b--)d[b]=v%c[b],v=Math.floor(v/c[b]);u.BroadcastUtil.fillIndex(d,t.dims,y),u.BroadcastUtil.fillIndex(d,e.dims,g);var w=y.length<=2?0:u.ShapeUtil.indicesToOffset(y,t.strides,c.length-2),_=g.length<=2?0:u.ShapeUtil.indicesToOffset(g,e.strides,c.length-2);f(t.floatData.subarray(w),e.floatData.subarray(_),p.floatData.subarray(h),!1,!1,1,0,a[0],a[1],r[r.length-1]),h+=a[0]*a[1]}return p}function f(t,e,n,r,o,i,a,s,u,c){return r&&o?function(t,e,n,r,o,i,a,s){for(var u=0,c=0,l=0,f=0;f<i;f++){for(var p=0;p<a;p++){for(var h=0,d=0;d<s;d++)h+=t[u]*e[c],u+=i,c+=1;u-=i*s,c-=s,n[l]=r*h+o*n[l],l++,c+=s}c-=a*s,u++}}(t,e,n,i,a,s,u,c):r?function(t,e,n,r,o,i,a,s){for(var u=0,c=0,l=0,f=0;f<i;f++){for(var p=0;p<a;p++){for(var h=0,d=0;d<s;d++)h+=t[u]*e[c],u+=i,c+=a;u-=i*s,c-=a*s,n[l]=r*h+o*n[l],l++,c++}c-=a,u++}}(t,e,n,i,a,s,u,c):o?function(t,e,n,r,o,i,a,s){for(var u=0,c=0,l=0,f=0;f<i;f++){for(var p=0;p<a;p++){for(var h=0,d=0;d<s;d++)h+=t[u]*e[c],u+=1,c+=1;u-=s,c-=s,n[l]=r*h+o*n[l],l++,c+=s}c-=a*s,u+=s}}(t,e,n,i,a,s,u,c):function(t,e,n,r,o,i,a,s){for(var u=0,c=0,l=0,f=0;f<i;f++){for(var p=0;p<a;p++){for(var h=0,d=0;d<s;d++)h+=t[u]*e[c],u+=1,c+=a;u-=s,c-=a*s,n[l]=r*h+o*n[l],l++,c++}c-=a,u+=s}}(t,e,n,i,a,s,u,c)}e.CpuMatMul=c,e.matMul=l,e.matMul2d=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){},t.prototype.checkInputs=function(t){return!(!t||2!==t.length)&&t[0].dims[t[0].dims.length-1]===t[1].dims[t[1].dims.length-2]&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return!("float32"!==t[0].type&&"float64"!==t[0].type||"float32"!==t[1].type&&"float64"!==t[1].type||t[0].type!==t[1].type)},t}();e.MatMul=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.transA=0!==t.getInt("transA",0),this.transB=0!==t.getInt("transB",0),this.alpha=t.getFloat("alpha",1),this.beta=t.getFloat("beta",1)},t.prototype.checkInputs=function(t){return!(!t||3!==t.length)&&(1===t[2].dims.length||2===t[2].dims.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return!("float32"!==t[0].type&&"float64"!==t[0].type||"float32"!==t[1].type&&"float64"!==t[1].type||"float32"!==t[2].type&&"float64"!==t[2].type)&&t[0].type===t[1].type&&t[0].type===t[2].type},t}();e.Gemm=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initialize=function(t){if(this.autoPad=t.getString("auto_pad","NOTSET"),this.kernelShape=t.getInts("kernel_shape"),this.strides=t.getInts("strides",[]),this.pads=t.getInts("pads",[]),this.countIncludePad=0!==t.getInt("count_include_pad",0),this.ceilMode=t.getInt("ceil_mode",0),0!==this.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for AveragePool")},e}(i);e.AveragePool=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initialize=function(t){this.countIncludePad=0!==t.getInt("count_include_pad",0)},e}(i);e.GlobalAveragePool=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initialize=function(t){if(this.autoPad=t.getString("auto_pad","NOTSET"),this.kernelShape=t.getInts("kernel_shape"),this.strides=t.getInts("strides",[]),this.pads=t.getInts("pads",[]),this.ceilMode=t.getInt("ceil_mode",0),this.storageOrder=t.getInt("storage_order",0),0!==this.storageOrder)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==this.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for MaxPool")},e}(i);e.MaxPool=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initialize=function(t){},e}(i);e.GlobalMaxPool=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.axis=t.getInt("axis",1)},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}();e.Softmax=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){},t.prototype.checkInputs=function(t){if(!t||0===t.length)return!1;for(var e=t[0].dims.length,n=1;n<t.length;n++){if(e!==t[n].dims.length)return!1;for(var r=0;r<e;r++)if(t[0].dims[r]!==t[n].dims[r])return!1}return this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){if("float32"!==t[0].type&&"float64"!==t[0].type)return!1;for(var e=1;e<t.length;e++)if(t[0].type!==t[e].type)return!1;return!0},t}();e.Sum=r},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(148)),i=r(n(25)),a=function(){this.onnx=i,this.backend=i.backend,this.platform=o,this.debug=!1};e.env=new a},function(t,e,n){"use strict";(function(e){var r=(this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e})(n(49)),o=r;("undefined"!=typeof window?window:e).onnx=o,t.exports=r}).call(this,n(8))},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(53),a=n(73),s=n(74),u=n(75),c=n(76),l=n(77),f=n(78),p=n(79),h=n(80),d=n(81),y=n(82),g=n(83),m=n(17),v=n(85),b=r(n(86)),w=n(87),_=n(88),x=n(89),T=n(90),S=n(91),O=n(92),P=n(93),A=r(n(41)),E=n(41),k=n(94);e.CPU_OP_RESOLVE_RULES=[["Abs","","6+",function(){return new E.CpuUnaryOp(o.NUMBER_TYPES,A.abs)}],["Acos","","7+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.acos)}],["Acosh","","9+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.acosh)}],["Add","","7+",function(){return new s.CpuBinaryOp(o.NUMBER_TYPES,(function(t,e){return t+e}))}],["And","","7+",function(){return new s.CpuBinaryOp(["bool"],(function(t,e){return t&&e}))}],["ArgMax","","1+",function(){return new i.CpuArgMax}],["Asin","","7+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.asin)}],["Asinh","","9+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.asinh)}],["Atan","","7+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.atan)}],["Atanh","","9+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.atanh)}],["AveragePool","","7+",function(){return new v.CpuAveragePool}],["BatchNormalization","","7+",function(){return new a.CpuBatchNormalization}],["Ceil","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.ceil)}],["Clip","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.clip,A.clipInitializer)}],["Concat","","4+",function(){return new u.CpuConcat}],["Conv","","1+",function(){return new c.CpuConv}],["Cos","","7+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.cos)}],["Cosh","","9+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.cosh)}],["Div","","7+",function(){return new s.CpuBinaryOp(o.NUMBER_TYPES,(function(t,e){return t/e}))}],["Dropout","","7+",function(){return new l.CpuDropout}],["Elu","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.elu,A.eluInitializer)}],["Exp","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.exp)}],["Flatten","","1+",function(){return new f.CpuFlatten}],["Floor","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.floor)}],["Gather","","1+",function(){return new p.CpuGather}],["Gemm","","7+",function(){return new h.CpuGemm}],["GlobalAveragePool","","1+",function(){return new v.CpuGlobalAveragePool}],["GlobalMaxPool","","1+",function(){return new v.CpuGlobalMaxPool}],["ImageScaler","","1+",function(){return new d.CpuImageScaler}],["InstanceNormalization","","6+",function(){return new y.CpuInstanceNormalization}],["IsNaN","","9+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.isNan,void 0,"bool")}],["LeakyRelu","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.leakyRelu,A.leakyReluInitializer)}],["Log","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.log)}],["LRN","","1+",function(){return new g.CpuLrn}],["MatMul","","1+",function(){return new m.CpuMatMul}],["MaxPool","","1+",function(){return new v.CpuMaxPool}],["Mul","","7+",function(){return new s.CpuBinaryOp(o.NUMBER_TYPES,(function(t,e){return t*e}))}],["Neg","","6+",function(){return new E.CpuUnaryOp(o.NUMBER_TYPES,A.neg)}],["Not","","1+",function(){return new E.CpuUnaryOp(["bool"],A.not,void 0,"bool")}],["Or","","7+",function(){return new s.CpuBinaryOp(["bool"],(function(t,e){return t||e}))}],["PRelu","","7+",function(){return new s.CpuBinaryOp(o.NUMBER_TYPES,(function(t,e){return t>=0?t:t*e}))}],["Reciprocal","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.reciprocal)}],["ReduceLogSum","","1+",function(){return new b.CpuReduceLogSum}],["ReduceMax","","1+",function(){return new b.CpuReduceMax}],["ReduceMean","","1+",function(){return new b.CpuReduceMean}],["ReduceMin","","1+",function(){return new b.CpuReduceMin}],["ReduceProd","","1+",function(){return new b.CpuReduceProd}],["ReduceSum","","1+",function(){return new b.CpuReduceSum}],["ReduceSumSquare","","1+",function(){return new b.CpuReduceSumSquare}],["Relu","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.relu)}],["Reshape","","5+",function(){return new w.CpuReshape}],["Sigmoid","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.sigmoid)}],["Sign","","9+",function(){return new E.CpuUnaryOp(o.NUMBER_TYPES,A.sign)}],["Sin","","7+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.sin)}],["Sinh","","9+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.sinh)}],["Slice","","10+",function(){return new _.CpuSliceV10}],["Slice","","1-9",function(){return new _.CpuSlice}],["Softmax","","1+",function(){return new x.CpuSoftmax}],["Sqrt","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.sqrt)}],["Squeeze","","1+",function(){return new T.CpuSqueeze}],["Sub","","7+",function(){return new s.CpuBinaryOp(o.NUMBER_TYPES,(function(t,e){return t-e}))}],["Sum","","6+",function(){return new S.CpuSum}],["Tan","","7+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.tan)}],["Tanh","","6+",function(){return new E.CpuUnaryOp(o.FLOAT_TYPES,A.tanh)}],["Tile","","6+",function(){return new O.CpuTile}],["Transpose","","1+",function(){return new P.CpuTranspose}],["Unsqueeze","","1+",function(){return new k.CpuUnsqueeze}],["Xor","","7+",function(){return new s.CpuBinaryOp(["bool"],(function(t,e){return t^e}))}]]},function(t,e,n){"use strict";t.exports=f;var r,o=n(6),i=o.LongBits,a=o.base64,s=o.utf8;function u(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function c(){}function l(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function f(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}function p(t,e,n){e[n]=255&t}function h(t,e){this.len=t,this.next=void 0,this.val=e}function d(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function y(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}f.create=o.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f},f.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(f.alloc=o.pool(f.alloc,o.Array.prototype.subarray)),f.prototype._push=function(t,e,n){return this.tail=this.tail.next=new u(t,e,n),this.len+=e,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},f.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new h((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},f.prototype.int32=function(t){return t<0?this._push(d,10,i.fromNumber(t)):this.uint32(t)},f.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},f.prototype.uint64=function(t){var e=i.from(t);return this._push(d,e.length(),e)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(t){var e=i.from(t).zzEncode();return this._push(d,e.length(),e)},f.prototype.bool=function(t){return this._push(p,1,t?1:0)},f.prototype.fixed32=function(t){return this._push(y,4,t>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(t){var e=i.from(t);return this._push(y,4,e.lo)._push(y,4,e.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},f.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var g=o.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};f.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(p,1,0);if(o.isString(t)){var n=f.alloc(e=a.length(t));a.decode(t,n,0),t=n}return this.uint32(e)._push(g,e,t)},f.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(p,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},f.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},f.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},f._configure=function(t){r=t}},function(t,e,n){"use strict";t.exports=u;var r,o=n(6),i=o.LongBits,a=o.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function u(t){this.buf=t,this.pos=0,this.len=t.length}var c,l="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new u(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new u(t);throw Error("illegal buffer")};function f(){var t=new i(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function p(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new i(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}u.create=o.Buffer?function(t){return(u.create=function(t){return o.Buffer.isBuffer(t)?new r(t):l(t)})(t)}:l,u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},u.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},u.prototype.string=function(){var t=this.bytes();return a.read(t,0,t.length)},u.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},u._configure=function(t){r=t;var e=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return f.call(this)[e](!1)},uint64:function(){return f.call(this)[e](!0)},sint64:function(){return f.call(this).zzDecode()[e](!1)},fixed64:function(){return h.call(this)[e](!0)},sfixed64:function(){return h.call(this)[e](!1)}})}},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.initialize=function(t){this.axis=t.getInt("axis")},t.prototype.checkInputs=function(t){return!(!t||t.length<1)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){var e,n,o=t[0].type,i=t[0].dims.length;if("string"===o)return!1;try{for(var a=r(t),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.type!==o)return!1;if(u.dims.length!==i)return!1}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!0},t}();e.Concat=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.ratio=t.getFloat("ratio",.5),this.testMode=!0},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}();e.Dropout=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.axis=t.getInt("axis",1)},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&0!==t[0].dims.length&&!(this.axis<0||this.axis>t[0].dims.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"string"!==t[0].type},t}();e.Flatten=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=function(){function t(){}return t.prototype.initialize=function(t){this.axis=t.getInt("axis",0)},t.prototype.checkInputs=function(t){if(!t||2!==t.length)return!1;var e=t[0].dims.length;return!(e<1)&&!(this.axis<-e||this.axis>e-1)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return-1!==r.NUMBER_TYPES.indexOf(t[0].type)&&("int32"===t[1].type||"int16"===t[1].type)},t}();e.Gather=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.scale=t.getFloat("scale"),this.bias=t.getFloats("bias")},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&4===t[0].dims.length&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}();e.ImageScaler=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.epsilon=t.getFloat("epsilon",1e-5)},t.prototype.checkInputs=function(t){return!(!t||3!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){var e=t[0],n=t[1],r=t[2];return!(e.dims.length<3||1!==n.dims.length||1!==r.dims.length||n.dims[0]!==e.dims[1]||r.dims[0]!==e.dims[1]||"float32"!==e.type&&"float64"!==e.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)},t}();e.InstanceNormalization=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=function(){function t(){}return t.prototype.initialize=function(t){this.axes=t.getInts("axes",[]),this.keepDims=1===t.getInt("keepdims",1)},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return-1!==r.NUMBER_TYPES.indexOf(t[0].type)},t}();e.ReduceBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){},t.prototype.checkInputs=function(t){return!(!t||2!==t.length||1!==t[1].dims.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return("float32"===t[0].type||"float64"===t[0].type)&&"int32"===t[1].type},t}();e.Reshape=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.starts=t.getInts("starts"),this.ends=t.getInts("ends"),this.axes=t.getInts("axes",[])},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}();e.Slice=r;var o=function(){function t(){}return t.prototype.initialize=function(t){},t.prototype.checkInputs=function(t){return!(!t||t.length<3||t.length>5)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return!("int32"!==t[1].type||1!==t[1].dims.length||"int32"!==t[2].type||1!==t[2].dims.length||t.length>=4&&("int32"!==t[3].type||1!==t[3].dims.length)||t.length>=5&&("int32"!==t[4].type||1!==t[4].dims.length))},t}();e.SliceV10=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.axes=t.getInts("axes")},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"string"!==t[0].type},t}();e.Squeeze=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=function(){function t(){}return t.prototype.initialize=function(t){},t.prototype.checkInputs=function(t){return!(!t||2!==t.length)&&1===t[1].dims.length&&t[1].dims[0]===t[0].dims.length&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return-1!==r.NUMBER_TYPES.indexOf(t[0].type)&&("int32"===t[1].type||"int16"===t[1].type)},t}();e.Tile=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.perm=t.getInts("perm",[])},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}();e.Transpose=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(42),a=n(1),s=function(t){function e(e,n,r,o){var i=t.call(this,e,o)||this;return i.func=n,i.attributesInitializer=r,i}return o(e,t),e.prototype.initialize=function(t){this.attributesInitializer&&(this.attributes=this.attributesInitializer(t))},e.prototype.run=function(t,e){return[u(e[0],this.func,this.attributes,this.resultType)]},e}(i.UnaryOp);function u(t,e,n,r){var o=new a.Tensor(t.dims,r||t.type);return e(t.data,o.data,n),o}e.CpuUnaryOp=s,e.unaryOp=u,e.abs=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.abs(t[n])},e.acos=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.acos(t[n])},e.acosh=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.acosh(t[n])},e.asin=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.asin(t[n])},e.asinh=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.asinh(t[n])},e.atan=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.atan(t[n])},e.atanh=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.atanh(t[n])},e.ceil=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.ceil(t[n])},e.clipInitializer=function(t){return{min:t.getFloat("min",-34028234663852886e22),max:t.getFloat("max",34028234663852886e22)}},e.clip=function(t,e,n){for(var r=n.min,o=n.max,i=0;i<t.length;i++){var a=t[i];e[i]=a<r?r:a>o?o:a}},e.cos=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.cos(t[n])},e.cosh=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.cosh(t[n])},e.eluInitializer=function(t){return t.getFloat("alpha",1)},e.elu=function(t,e,n){for(var r=n,o=0;o<t.length;o++){var i=t[o];e[o]=i>=0?i:r*(Math.exp(i)-1)}},e.exp=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.exp(t[n])},e.floor=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.floor(t[n])},e.isNan=function(t,e){for(var n=0;n<t.length;n++)e[n]=Number.isNaN(t[n])?1:0},e.leakyReluInitializer=function(t){return t.getFloat("alpha",.01)},e.leakyRelu=function(t,e,n){for(var r=n,o=0;o<t.length;o++){var i=t[o];e[o]=i>=0?i:r*i}},e.log=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.log(t[n])},e.neg=function(t,e){for(var n=0;n<t.length;n++)e[n]=-t[n]},e.not=function(t,e){for(var n=0;n<t.length;n++)e[n]=t[n]?0:1},e.reciprocal=function(t,e){for(var n=0;n<t.length;n++)e[n]=1/t[n]},e.relu=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.max(0,t[n])},e.sigmoid=function(t,e){for(var n=0;n<t.length;n++)e[n]=1/(1+Math.exp(-t[n]))},e.sign=function(t,e){for(var n=0;n<t.length;n++)e[n]=t[n]>0?1:t[n]<0?-1:0},e.sin=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.sin(t[n])},e.sinh=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.sinh(t[n])},e.sqrt=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.sqrt(t[n])},e.tan=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.tan(t[n])},e.tanh=function(t,e){for(var n=0;n<t.length;n++)e[n]=Math.tanh(t[n])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.typeConstraint=t,this.resultType=e}return t.prototype.initialize=function(t){},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return-1!==this.typeConstraint.indexOf(t[0].type)},t}();e.UnaryOp=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.axes=t.getInts("axes")},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"string"!==t[0].type},t}();e.Unsqueeze=r},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.min=t.getFloat("min",-34028234663852886e22),this.max=t.getFloat("max",34028234663852886e22)},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}();e.Clip=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPackedShape=function(t){var e=t.length;return t.slice(0,e-1).concat(t[e-1]/4)}},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=i(n(48)),u=function(){function t(t,e,n){var r=n||[t.length];if(0===t.length)throw new RangeError("Tensor data should contain at least one element.");Array.isArray(t)&&"string"!==e?"float32"===e?this.data=Float32Array.from(t):"bool"===e?this.data=Uint8Array.from(t):"int32"===e&&(this.data=Int32Array.from(t)):this.data=t,this.dims=r,this.type=e,this.internalTensor=new a.Tensor(this.dims,this.type,void 0,void 0,this.data),this.size=this.internalTensor.size}return t.prototype.get=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=[];if("number"==typeof t)i=o([t],n);else{if(!t)throw new Error("Input index array is undefined. ");i=t}if(s.validateIndices(i),i.length!==this.dims.length)throw new RangeError("Input index array dims don't match the tensor dims.");i.forEach((function(t,n){if(t>=e.dims[n])throw new RangeError("Input index array dims don't match the tensor dims.")}));var a=this.internalTensor.get(i);return"bool"===this.type?1===a:a},t.prototype.set=function(t,e){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];s.matchElementType(this.type,t);var a=[];if("number"==typeof e)a=o([e],r);else{if(!e)throw new Error("Input index array is undefined.");a=e}if(s.validateIndices(a),a.length!==this.dims.length)throw new RangeError("Input index array dims don't match the tensor dims.");a.forEach((function(t,e){if(t>=n.dims[e])throw new RangeError("Input index array dims don't match the tensor dims.")})),"boolean"==typeof t?this.internalTensor.set(a,t?1:0):this.internalTensor.set(a,t)},t}();e.Tensor=u},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(47);e.fromInternalTensor=function(t){switch(t.type){case"bool":return new i.Tensor(new Uint8Array(t.integerData),"bool",t.dims);case"float32":return new i.Tensor(t.floatData,"float32",t.dims);case"float64":return new i.Tensor(new Float32Array(t.floatData),"float32",t.dims);case"string":return new i.Tensor(t.stringData,"string",t.dims);case"int8":return new i.Tensor(new Int32Array(t.integerData),"int32",t.dims);case"int32":return new i.Tensor(t.integerData,"int32",t.dims);default:throw new TypeError("Tensor type is not supported. ")}},e.toInternalTensor=function(t){return new o.Tensor(t.dims,t.type,void 0,void 0,t.data)},e.matchElementType=function(t,e){switch(typeof e){case"string":if("string"!==t)throw new TypeError("The new element type doesn't match the tensor data type.");break;case"number":if("float32"!==t&&"int32"!==t)throw new TypeError("The new element type doesn't match the tensor data type.");if("float32"===t&&Number.isInteger(e))throw new TypeError("The new element type doesn't match the tensor data type.");if("int32"===t&&!Number.isInteger(e))throw new TypeError("The new element type doesn't match the tensor data type.");break;case"boolean":if("bool"!==t)throw new TypeError("The new element type doesn't match the tensor data type.");break;default:throw new TypeError("The new element type is not supported.")}},e.validateIndices=function(t){var e,n;if(t.length<0||t.length>6)throw new RangeError("Only rank 0 to 6 is supported for tensor shape.");try{for(var o=r(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(!Number.isInteger(a))throw new TypeError("Invalid index: "+a+" is not an integer");if(a<0||a>2147483647)throw new TypeError("Invalid index: length "+a+" is not allowed")}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0});var o=n(50),i=n(95),a=n(113),s=n(163);r(n(164)),r(n(165)),e.backend={cpu:new o.CpuBackend,wasm:new i.WasmBackend,webgl:new a.WebGLBackend},e.ENV=s.envImpl},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(51),o=function(){function t(){}return t.prototype.initialize=function(){return!0},t.prototype.createSessionHandler=function(t){return new r.CpuSessionHandler(this,t)},t.prototype.dispose=function(){},t}();e.CpuBackend=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),o=n(52),i=n(26),a=function(){function t(t,e){this.backend=t,this.context=e}return t.prototype.createInferenceHandler=function(){return new o.CpuInferenceHandler(this,this.context.profiler)},t.prototype.dispose=function(){},t.prototype.resolve=function(t,e){var n=r.resolveOperator(t,e,i.CPU_OP_RESOLVE_RULES);return n.initialize(t.attributes),n},t}();e.CpuSessionHandler=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.session=t,this.profiler=e}return t.prototype.dispose=function(){},t}();e.CpuInferenceHandler=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(54),a=n(1),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[c(e[0],this.axis,this.keepDims)]},e}(i.ArgMax);function c(t,e,n){var r=t.dims?t.dims.length:1;e=s.ShapeUtil.parseAxis(e,r);for(var o=s.ReduceUtil.calcReduceShape(t.dims,[e],!0),i=t.data,u=new Int32Array(s.ShapeUtil.size(o)),c=s.ShapeUtil.sizeFromDimension(t.dims,e+1),l=s.ShapeUtil.computeStrides(o),f=s.ShapeUtil.computeStrides(t.dims),p=new Array(t.dims.length),h=0;h<u.length;h++){var d=s.ShapeUtil.offsetToIndices(h,l);s.BroadcastUtil.fillIndex(d,t.dims,p);for(var y=s.ShapeUtil.indicesToOffset(p,f),g=t.data[y],m=0,v=0;v<t.dims[e];++v){var b=i[y+v*c];b>g&&(g=b,m=v)}u[h]=m}return new a.Tensor(n?o:s.ReduceUtil.calcReduceShape(t.dims,[e],n),"int32",void 0,void 0,u)}e.CpuArgMax=u,e.argMax=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=function(){function t(){}return t.prototype.initialize=function(t){this.axis=t.getInt("axis",0),this.keepDims=1===t.getInt("keepdims",1)},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return-1!==r.NUMBER_TYPES.indexOf(t[0].type)},t}();e.ArgMax=o},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],a=n[1],s=new i(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),u=0,l=a>0?r-4:r,f=0;f<l;f+=4)e=o[t.charCodeAt(f)]<<18|o[t.charCodeAt(f+1)]<<12|o[t.charCodeAt(f+2)]<<6|o[t.charCodeAt(f+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;return 2===a&&(e=o[t.charCodeAt(f)]<<2|o[t.charCodeAt(f+1)]>>4,s[u++]=255&e),1===a&&(e=o[t.charCodeAt(f)]<<10|o[t.charCodeAt(f+1)]<<4|o[t.charCodeAt(f+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e),s},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(t,a,a+16383>s?s:a+16383));return 1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,p=n?-1:1,h=t[e+f];for(f+=p,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+h]=255&a,h+=d,a/=256,c-=8);t[n+h-d]|=128*y}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";t.exports=n(59)},function(t,e,n){"use strict";var r=e;function o(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=n(27),r.BufferWriter=n(68),r.Reader=n(28),r.BufferReader=n(69),r.util=n(6),r.rpc=n(70),r.roots=n(72),r.configure=o,r.Writer._configure(r.BufferWriter),o()},function(t,e,n){"use strict";t.exports=function(t,e){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(t){if(i)if(i=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];o.apply(null,e)}};try{t.apply(e||null,n)}catch(t){i&&(i=!1,a(t))}}))}},function(t,e,n){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var o=new Array(64),i=new Array(123),a=0;a<64;)i[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(t,e,n){for(var r,i=null,a=[],s=0,u=0;e<n;){var c=t[e++];switch(u){case 0:a[s++]=o[c>>2],r=(3&c)<<4,u=1;break;case 1:a[s++]=o[r|c>>4],r=(15&c)<<2,u=2;break;case 2:a[s++]=o[r|c>>6],a[s++]=o[63&c],u=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=o[r],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))},r.decode=function(t,e,n){for(var r,o=n,a=0,s=0;s<t.length;){var u=t.charCodeAt(s++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error("invalid encoding");switch(a){case 0:r=u,a=1;break;case 1:e[n++]=r<<2|(48&u)>>4,r=u,a=2;break;case 2:e[n++]=(15&r)<<4|(60&u)>>2,r=u,a=3;break;case 3:e[n++]=(3&r)<<6|u,a=0}}if(1===a)throw Error("invalid encoding");return n-o},r.test=function(t){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t)}},function(t,e,n){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},function(t,e,n){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(t,r,o){e[0]=t,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function s(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?o:i,t.writeFloatBE=r?i:o,t.readFloatLE=r?a:s,t.readFloatBE=r?s:a}():function(){function e(t,e,n,r){var o=e<0?1:0;if(o&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((o<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((o<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(e)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,n,r)}}function n(t,e,n){var r=t(e,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}t.writeFloatLE=e.bind(null,o),t.writeFloatBE=e.bind(null,i),t.readFloatLE=n.bind(null,a),t.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(t,r,o){e[0]=t,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function s(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?o:i,t.writeDoubleBE=r?i:o,t.readDoubleLE=r?a:s,t.readDoubleBE=r?s:a}():function(){function e(t,e,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,o,i+e),t(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))t(0,o,i+e),t(2146959360,o,i+n);else if(r>17976931348623157e292)t(0,o,i+e),t((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)t((s=r/5e-324)>>>0,o,i+e),t((a<<31|s/4294967296)>>>0,o,i+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),t(4503599627370496*(s=r*Math.pow(2,-u))>>>0,o,i+e),t((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+n)}}}function n(t,e,n,r,o){var i=t(r,o+e),a=t(r,o+n),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+i;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}t.writeDoubleLE=e.bind(null,o,0,4),t.writeDoubleBE=e.bind(null,i,4,0),t.readDoubleLE=n.bind(null,a,0,4),t.readDoubleBE=n.bind(null,s,4,0)}(),t}function o(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function i(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function a(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function s(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,e,n){"use strict";var r=e;r.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},r.read=function(t,e,n){if(n-e<1)return"";for(var r,o=null,i=[],a=0;e<n;)(r=t[e++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},r.write=function(t,e,n){for(var r,o,i=n,a=0;a<t.length;++a)(r=t.charCodeAt(a))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-i}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return t(n);a+n>r&&(i=t(r),a=0);var s=e.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},function(t,e,n){"use strict";t.exports=o;var r=n(6);function o(t,e){this.lo=t>>>0,this.hi=e>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(r.isString(t)){if(!r.Long)return o.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===a?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},function(t,e,n){"use strict";t.exports=a;var r=n(27);(a.prototype=Object.create(r.prototype)).constructor=a;var o=n(6),i=o.Buffer;function a(){r.call(this)}a.alloc=function(t){return(a.alloc=o._Buffer_allocUnsafe)(t)};var s=i&&i.prototype instanceof Uint8Array&&"set"===i.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]};function u(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write(t,n)}a.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(s,e,t),this},a.prototype.string=function(t){var e=i.byteLength(t);return this.uint32(e),e&&this._push(u,e,t),this}},function(t,e,n){"use strict";t.exports=i;var r=n(28);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(6);function i(t){r.call(this,t)}o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice),i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,e,n){"use strict";e.Service=n(71)},function(t,e,n){"use strict";t.exports=o;var r=n(6);function o(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(e,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(t,s,e,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,n){if(t)return s.emit("error",t,e),a(t);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)}s.end(!0)}))}catch(t){return s.emit("error",t,e),void setTimeout((function(){a(t)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(14),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[u(e[0],e[1],e[2],e[3],e[4],this.epsilon,this.momentum,this.spatial)]},e}(i.BatchNormalization);function u(t,e,n,r,o,i,s,u){for(var c=t.dims,l=c[0],f=c[1],p=1,h=2;h<c.length;h++)p*=c[h];for(var d=new a.Tensor(t.dims,t.type),y=t.floatData,g=d.floatData,m=e.numberData,v=n.numberData,b=r.numberData,w=o.numberData,_=0;_<l*f;_++){var x=_*p;for(h=0;h<p;h++)g[x+h]=m[_%f]*((y[x+h]-b[_%f])/Math.sqrt(w[_%f]+i))+v[_%f]}return d}e.CpuBatchNormalization=s,e.batchNormalization=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),a=n(0),s=function(t){function e(e,n,r,o){var i=t.call(this,e,r,o)||this;return i.opLambda=n,i}return o(e,t),e.prototype.initialize=function(t){if(!this.opType&&!this.opLambda)throw new Error("Both opType and opLambda cannot be missing for a binary op");if(!this.opLambda)throw this.opType,new Error("Binary op could not be initialized. Missing op lambda.")},e.prototype.run=function(t,e){return[function(t,e,n,r,o){var i=a.BroadcastUtil.calc(t,e,n,!1,o);if(!i)throw new Error("not broadcastable");return i}(e[0],e[1],this.opLambda,0,this.resultType)]},e}(i.BinaryOp);e.CpuBinaryOp=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=n(29),s=n(1),u=i(n(0)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[l(e,this.axis)]},e}(a.Concat);function l(t,e){var n=t[0],r=n.dims;if(e>=r.length||e<-1*r.length)throw new Error("axis specified for concat doesn't match input dimensionality");e<0&&(e=r.length+e);for(var o=r[e],i=new Array(r.length),a=1;a<t.length;a++)for(var c=(g=t[a]).dims,l=0;l<r.length;l++){if(l===e)o+=c[l];else if(r[l]!==c[l])throw new Error("non concat dimensions must match");i[l]=c[l]}i[e]=o;var f=new s.Tensor(i,n.type),p=f.numberData,h=1;for(a=i.length-1;a>=e;a--)h*=i[a];for(var d=0,y=0;y<t.length;y++){var g,m=1;for(a=(g=t[y]).dims.length-1;a>=e;a--)m*=g.dims[a];for(var v=g.numberData,b=u.ShapeUtil.size(g.dims),w=d,_=(a=0,0);a<b;a++)p[w+a]=v[a],++_===m&&(w+=h-m,_=0);d+=m}return f}e.CpuConcat=c,e.concat=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),a=n(1),s=n(0),u=n(17),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){var n=e[0],r=e[1],o=3===e.length?e[2]:void 0;if(0===this.kernelShape.length)for(var i=e[1].dims,u=2;u<i.length;++u)this.kernelShape.push(i[u]);var c=s.PoolConvUtil.computeConvOutputShape(n.dims,r.dims,this.strides,this.dilations,this.kernelShape,this.pads,this.autoPad),f=new a.Tensor(c,n.type);return l(f,n,r,o,this.dilations,this.group,this.pads,this.strides),[f]},e}(i.Conv);function l(t,e,n,r,o,i,a,s){for(var c=e.dims[0],l=e.dims[1],p=e.dims[2],h=e.dims[3],d=n.dims[0],y=n.dims[1],g=n.dims[2],m=n.dims[3],v=d*y*g*m,b=[g,m],w=t.dims[0],_=t.dims[1],x=t.dims[2],T=t.dims[3],S=x*T,O=l/i*(p*h),P=w*_*x*T/w/i,A=v/i,E=l/i*(b[0]*b[1]),k=new Float32Array(E*S),D=0;D<c;++D){for(var I=0,L=0,j=0;j<i;++j)f(e.floatData.subarray(I+j*O),k,l/i,p,h,b[0],b[1],o[0],o[1],a[0],a[1],a[2],a[3],s[0],s[1]),u.matMul2d(n.floatData.subarray(j*A),k,t.floatData.subarray(L+j*P),!1,!1,1,0,d/i,S,E);I+=O*i,L+=P*i}if(r)for(var C=r.floatData,M=t.floatData,B=t.dims[0],R=t.dims[1],N=t.dims[2]*t.dims[3],F=R*N,U=0;U<B;++U)for(var G=0;G<R;++G)for(var z=U*F+G*N,V=0;V<N;++V)M[z+V]+=C[G]}function f(t,e,n,r,o,i,a,s,u,c,l,f,p,h,d){var y=1+~~((r+f+c-(s*(i-1)+1))/h),g=1+~~((o+l+p-(u*(a-1)+1))/d);if(1!==s||1!==u||0!==l||0!==p||0!==c||0!==f)for(var m=1+~~((r+c+f-(s*(i-1)+1))/h),v=1+~~((o+l+p-(u*(a-1)+1))/d),b=n*i*a,w=0;w<b;++w)for(var _=w%a,x=~~(w/a)%i,T=~~(w/(i*a)),S=0;S<m;++S)for(var O=0;O<v;++O){var P=S*h-c+x*s,A=O*d-l+_*u;e[(w*m+S)*v+O]=P>=0&&P<r&&A>=0&&A<o?t[(T*r+P)*o+A]:0}else for(var E=0;E<n*i*a;E++)for(var k=~~(E/(i*a)),D=E%(i*a),I=~~(D/a),L=D%a,j=k*(i*a*y*g)+I*(a*y*g)+L*(y*g),C=k*(r*o),M=0;M<y;M++){var B=M*h+I,R=L;if(1===d)e.set(t.subarray(C+B*o+R,C+B*o+R+g),j+M*g);else for(var N=0;N<g;N++)e[j+(M*g+N)]=t[C+(B*o+R+N*d)]}}e.CpuConv=c,e.conv2d=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[u(e[0],this.ratio,this.testMode)]},e}(i.Dropout);function u(t,e,n){if(!n)throw new Error("only test mode is supported");var r=new a.Tensor(t.dims,t.type),o=t.floatData;return r.numberData.set(o),r}e.CpuDropout=s,e.dropout=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(31),a=n(1),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[c(e[0],this.axis)]},e}(i.Flatten);function c(t,e){var n=s.ShapeUtil.flattenShape(t.dims,e),r=new a.Tensor(n,t.type),o=t.numberData;return r.numberData.set(o),r}e.CpuFlatten=u,e.flatten=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(32),a=n(1),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[c(e[0],e[1],this.axis)]},e}(i.Gather);function c(t,e,n){n=s.ShapeUtil.parseAxis(n,t.dims.length);var r=t.dims.slice(),o=r.slice(),i=e.data;o[n]=i.length;for(var u=s.ShapeUtil.computeStrides(r),c=s.ShapeUtil.computeStrides(o),l=new a.Tensor(o,t.type).numberData,f=t.data,p=0;p<l.length;++p){var h=s.ShapeUtil.offsetToIndices(p,c),d=h.slice();d[n]=i[h[n]];var y=s.ShapeUtil.indicesToOffset(d,u);l[p]=f[y]}var g=r.slice(0,n).concat(e.dims).concat(r.slice(n+1));return new a.Tensor(g,t.type,void 0,void 0,l)}e.CpuGather=u,e.gather=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var s=n(19),u=n(1),c=a(n(0)),l=n(17),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[p(e[0],e[1],e[2],this.alpha,this.beta,this.transA,this.transB)]},e}(s.Gemm);function p(t,e,n,r,o,a,s){var f=i(c.GemmUtil.getShapeOfGemmResult(t.dims,a,e.dims,s,n.dims),3),p=f[0],h=f[1],d=f[2],y=new u.Tensor([p,h],t.type);if(c.BroadcastUtil.calc(y,n,(function(t,e){return e}),!0)!==y)throw new Error("tensor C is not broadcastable to [M,N]");return l.matMul2d(t.floatData,e.floatData,y.floatData,a,s,r,o,p,h,d),y}e.CpuGemm=f,e.gemm=p},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=n(33),s=n(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[c(e[0],this.bias,this.scale)]},e}(a.ImageScaler);function c(t,e,n){for(var r=i(t.dims,4),o=r[0],a=r[1],u=r[2],c=r[3],l=new s.Tensor([o,a,u,c],t.type),f=t.floatData,p=l.floatData,h=0;h<o*a;h++)for(var d=0;d<u*c;d++){var y=h*u*c+d;p[y]=f[y]*n+e[h%a]}return l}e.CpuImageScaler=u,e.imageScaler=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[u(e[0],e[1],e[2],this.epsilon)]},e}(i.InstanceNormalization);function u(t,e,n,r){for(var o=t.dims,i=o[0],s=o[1],u=1,c=2;c<o.length;c++)u*=o[c];for(var l,f,p,h,d,y,g=new a.Tensor(t.dims,t.type),m=t.floatData,v=g.floatData,b=e.numberData,w=n.numberData,_=0;_<i*s;_++){for(d=(h=_*u)+u,y=_%s,l=0,c=h;c<d;++c)l+=m[c];for(f=l/u,l=0,c=h;c<d;++c)l+=Math.pow(m[c]-f,2);for(p=l/u,c=h;c<d;++c)v[c]=b[y]*((m[c]-f)/Math.sqrt(p+r))+w[y]}return g}e.CpuInstanceNormalization=s,e.instanceNormalization=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=n(84),s=n(1),u=i(n(0)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[l(e[0],this.alpha,this.beta,this.bias,this.size)]},e}(a.Lrn);function l(t,e,n,r,o){for(var i=t.dims[0],a=t.dims[1],c=t.floatData,l=1,f=2;f<t.dims.length;++f)l*=t.dims[f];var p=l*a,h=new s.Tensor(t.dims,t.type),d=new Array(u.ShapeUtil.size(t.dims));for(f=0;f<d.length;++f)d[f]=r;for(var y=new Float64Array((a+o-1)*l),g=e/o,m=(o-1)/2,v=0;v<i;++v){u.MathUtil.sqr(y,c,m*l,p*v,p);for(var b=0;b<o;++b)u.MathUtil.axpy(d,y,p*v,b*l,l,g);for(b=1;b<a;++b){var w=v*p+b*l;u.arrayCopyHelper(d,d,w,w-l,l),u.MathUtil.axpy(d,y,w,(b+o-1)*l,l,g),u.MathUtil.axpy(d,y,w,(b-1)*l,l,-g)}}return u.MathUtil.powx(d,d,0,0,u.ShapeUtil.size(t.dims),-n),u.MathUtil.mul(d,c,0,0,u.ShapeUtil.size(t.dims)),h.floatData.set(d),h}e.CpuLrn=c,e.lrn=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.alpha=t.getFloat("alpha",1e-4),this.beta=t.getFloat("beta",.75),this.bias=t.getFloat("bias",1),this.size=t.getInt("size")},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&!(t[0].dims.length<3)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}();e.Lrn=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),a=n(1),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[p(e[0],this.autoPad,this.countIncludePad,this.kernelShape,this.pads,this.strides)]},e}(i.AveragePool);e.CpuAveragePool=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[h(e[0])]},e}(i.GlobalAveragePool);e.CpuGlobalAveragePool=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[d(e[0],this.autoPad,this.kernelShape,this.pads,this.strides)]},e}(i.MaxPool);e.CpuMaxPool=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[y(e[0])]},e}(i.GlobalMaxPool);function p(t,e,n,r,o,i){return g(!1,t,e,n,r,o,i,0,(function(t,e){return t+e}),(function(t,e){return t/e}))}function h(t){return g(!0,t,"NOTSET",!1,[],[],[],0,(function(t,e){return t+e}),(function(t,e){return t/e}))}function d(t,e,n,r,o){return g(!1,t,e,!1,n,r,o,Number.MIN_SAFE_INTEGER,(function(t,e){return Math.max(t,e)}),(function(t,e){return t}))}function y(t){return g(!0,t,"NOTSET",!1,[],[],[],Number.MIN_SAFE_INTEGER,(function(t,e){return Math.max(t,e)}),(function(t,e){return t}))}function g(t,e,n,r,o,i,u,c,l,f){s.PoolConvUtil.adjustPoolAttributes(t,e.dims,o,u,i);for(var p=s.PoolConvUtil.computePoolOutputShape(t,e.dims,u,o,i,n),h=s.ShapeUtil.size(o),d=s.ShapeUtil.computeStrides(o),y=d.length,g=p.length,m=s.ShapeUtil.size(p),v=new a.Tensor(p,e.type),b=s.ShapeUtil.computeStrides(p),w=0;w<m;w++){for(var _=s.ShapeUtil.offsetToIndices(w,b),x=_.slice(0),T=_.slice(0),S=0;S<y;S++)x[g-y+S]=_[g-y+S]*u[S];var O=c,P=0,A=!1;for(S=0;S<h;S++){var E=s.ShapeUtil.offsetToIndices(S,d);A=!1;for(var k=g-y;k<g;k++)if(T[k]=x[k]+E[k-g+y]-i[k-2],T[k]>=e.dims[k]||T[k]<0){P++,A=!0;break}O=A?O:l(O,e.get(T))}O=f(O,r?h:h-P),v.set(_,O)}return v}e.CpuGlobalMaxPool=f,e.averagePool=p,e.globalAveragePool=h,e.maxPool=d,e.globalMaxPool=y,e.pool=g},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(35),a=n(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[d(e[0],this.axes,this.keepDims)]},e}(i.ReduceBase);e.CpuReduceSum=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[y(e[0],this.axes,this.keepDims)]},e}(i.ReduceBase);e.CpuReduceSumSquare=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[g(e[0],this.axes,this.keepDims)]},e}(i.ReduceBase);e.CpuReduceLogSum=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[m(e[0],this.axes,this.keepDims)]},e}(i.ReduceBase);e.CpuReduceMax=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[v(e[0],this.axes,this.keepDims)]},e}(i.ReduceBase);e.CpuReduceMin=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[b(e[0],this.axes,this.keepDims)]},e}(i.ReduceBase);e.CpuReduceMean=p;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[w(e[0],this.axes,this.keepDims)]},e}(i.ReduceBase);function d(t,e,n){return a.ReduceUtil.calcReduce(t,e,n,(function(t){return t}),(function(t,e){return t+e}))}function y(t,e,n){return a.ReduceUtil.calcReduce(t,e,n,(function(t){return t*t}),(function(t,e){return t+e}))}function g(t,e,n){for(var r=a.ReduceUtil.calcReduce(t,e,n,(function(t){return t}),(function(t,e){return t+e})),o=r.floatData.length,i=0;i<o;i++)r.floatData[i]=Math.log(r.floatData[i]);return r}function m(t,e,n){return a.ReduceUtil.calcReduce(t,e,n,(function(t){return t}),(function(t,e){return Math.max(t,e)}))}function v(t,e,n){return a.ReduceUtil.calcReduce(t,e,n,(function(t){return t}),(function(t,e){return Math.min(t,e)}))}function b(t,e,n){for(var r=a.ReduceUtil.calcReduce(t,e,n,(function(t){return t}),(function(t,e){return t+e})),o=a.ReduceUtil.calcReduceShape(t.dims,e,n),i=a.ShapeUtil.size(t.dims)/a.ShapeUtil.size(o),s=r.floatData.length,u=0;u<s;u++)r.floatData[u]=r.floatData[u]/i;return r}function w(t,e,n){return a.ReduceUtil.calcReduce(t,e,n,(function(t){return t}),(function(t,e){return t*e}))}e.CpuReduceProd=h,e.reduceSum=d,e.reduceSumSquare=y,e.reduceLogSum=g,e.reduceMax=m,e.reduceMin=v,e.reduceMean=b,e.reduceProd=w},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(36),a=n(1),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[c(e[0],e[1])]},e}(i.Reshape);function c(t,e){var n=s.ShapeUtil.calculateReshapedDims(t.dims,e.integerData),r=new a.Tensor(n,t.type);return r.floatData.set(t.floatData),r}e.CpuReshape=u,e.reshape=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(37),a=n(1),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[l(e[0],this.starts,this.ends,this.axes)]},e}(i.Slice);e.CpuSlice=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){if(e.length>=5&&e[4].integerData.some((function(t){return 1!==t})))throw new Error("currently non-1 steps is not supported for Slice");var n=Array.from(e[1].integerData),r=Array.from(e[2].integerData),o=e.length>=4?Array.from(e[3].integerData):[];return[l(e[0],n,r,o)]},e}(i.SliceV10);function l(t,e,n,r){0===r.length&&(r=t.dims.map((function(t,e){return e}))),r=r.map((function(e){return s.ShapeUtil.parseAxis(e,t.dims.length)})),e=e.map((function(e,n){return e>t.dims[r[n]]-1?t.dims[r[n]]:s.ShapeUtil.parseAxis(e,t.dims[r[n]])})),n=n.map((function(e,n){return e>t.dims[r[n]]-1?t.dims[r[n]]:s.ShapeUtil.parseAxis(e,t.dims[r[n]])}));var o=[],i=[];r.forEach((function(t,r){o[t]=n[r]-e[r],i[t]=e[r]}));for(var u=0;u<t.dims.length;u++)o[u]=o[u]||t.dims[u],i[u]=i[u]||0;var c=s.ShapeUtil.computeStrides(o),l=s.ShapeUtil.computeStrides(t.dims?t.dims:[t.data.length]),f=t.data,p=new a.Tensor(o,t.type),h=p.data;for(u=0;u<h.length;++u){var d=s.ShapeUtil.offsetToIndices(u,c).map((function(t,e){return t+i[e]})),y=s.ShapeUtil.indicesToOffset(d,l);h[u]=f[y]}return p}e.CpuSliceV10=c,e.slice=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=n(21),s=n(1),u=i(n(0)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[l(e[0],this.axis)]},e}(a.Softmax);function l(t,e){for(var n=t.dims,r=n.length,o=u.ShapeUtil.parseAxis(e,r),i=u.ShapeUtil.sizeToDimension(n,o),a=u.ShapeUtil.sizeFromDimension(n,o),c=t.numberData,l=new s.Tensor(t.dims,t.type),f=l.numberData,p=0;p<i;p++){for(var h=p*a,d=Number.MIN_VALUE,y=0;y<a;y++)c[h+y]>d&&(d=c[h+y]);var g=0;for(y=0;y<a;y++){var m=c[h+y]-d;f[h+y]=Math.exp(m),g+=Math.exp(m)}for(y=0;y<a;y++)0===g?f[h+y]=0:f[h+y]/=g}return l}e.CpuSoftmax=c,e.softmax=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(38),a=n(1),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[c(e[0],this.axes)]},e}(i.Squeeze);function c(t,e){var n=s.ShapeUtil.squeezeShape(t.dims,e),r=new a.Tensor(n,t.type),o=t.numberData;return r.numberData.set(o),r}e.CpuSqueeze=u,e.squeeze=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[u(e)]},e}(i.Sum);function u(t){for(var e=new a.Tensor(t[0].dims,t[0].type),n=t[0].floatData.length,r=e.floatData,o=0;o<t.length;o++)for(var i=t[o].floatData,s=0;s<n;++s)r[s]+=i[s];return e}e.CpuSum=s,e.sum=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(39),a=n(1),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[c(e[0],e[1])]},e}(i.Tile);function c(t,e){for(var n=t.dims?t.dims:[t.data.length],r=n.length,o=new Array(r),i=0;i<r;i++)o[i]=n[i]*e.numberData[i];var u=s.ShapeUtil.computeStrides(n),c=s.ShapeUtil.computeStrides(o),l=new a.Tensor(o,t.type),f=l.numberData,p=t.data;for(i=0;i<f.length;++i){for(var h=s.ShapeUtil.offsetToIndices(i,c),d=new Array(r),y=0;y<r;++y)d[y]=h[y]%t.dims[y];var g=s.ShapeUtil.indicesToOffset(d,u);f[i]=p[g]}return l}e.CpuTile=u,e.tile=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(40),a=n(1),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[c(e[0],this.perm)]},e}(i.Transpose);function c(t,e){var n=t.dims,r=n.length,o=new Array(r);if(e.length===r)o=e;else for(var i=0;i<r;i++)o[i]=r-i-1;var u=new Array(r),c=new Array(r);for(i=0;i<r;i++){var l=o[i];u[i]=n[l],c[i]=l+1<r?s.ShapeUtil.sizeFromDimension(n,l+1):1}var f,p,h,d=new a.Tensor(u,t.type),y=t.floatData,g=d.floatData,m=0,v=1,b=1,w=!0;for(i=r-1;i>=0;--i){var _=o[i];w&&_===i?v*=n[_]:(w=!1,b*=n[_],++m)}return 1===b?(f=v,p=g,h=y,s.arrayCopyHelper(p,h,0,0,f)):1===v?function(t,e,n,r,o,i){for(var a=new Array(t).fill(0),u=0,c=0;c<n;++c){var l=s.ShapeUtil.indicesToOffset(a,r,t);o[u++]=i[l],s.ShapeUtil.incrementIndex(a,e,t)}}(m,u,b,c,g,y):function(t,e,n,r,o,i,a){for(var u=new Array(t).fill(0),c=0,l=0;l<n;++l){var f=s.ShapeUtil.indicesToOffset(u,o,t);s.arrayCopyHelper(i,a,c,0+f,r),s.ShapeUtil.incrementIndex(u,e,t),c+=r}}(m,u,b,v,c,g,y),d}e.CpuTranspose=u,e.transpose=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(43),a=n(1),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return[c(e[0],this.axes)]},e}(i.Unsqueeze);function c(t,e){var n=s.ShapeUtil.unsqueezeShape(t.dims,e),r=new a.Tensor(n,t.type),o=t.numberData;return r.numberData.set(o),r}e.CpuUnsqueeze=u,e.unsqueeze=c},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),s=i(n(4)),u=n(100),c=function(){function t(){this.cpuFallback=!0,this.worker=3,this.initTimeout=5e3}return t.prototype.initialize=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.checkIfNumWorkersIsValid(),[4,this.isWasmSupported()];case 1:return t.sent()?[2,!0]:[2,!1]}}))}))},t.prototype.createSessionHandler=function(t){return new u.WasmSessionHandler(this,t,this.cpuFallback)},t.prototype.dispose=function(){},t.prototype.checkIfNumWorkersIsValid=function(){if(!Number.isFinite(this.worker)||Number.isNaN(this.worker))throw new Error(this.worker+" is not valid number of workers");if(!Number.isInteger(this.worker))throw new Error(this.worker+" is not an integer and hence not valid number of workers")},t.prototype.isWasmSupported=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,s.init(this.worker,this.initTimeout)];case 1:return e.sent(),[2,!0];case 2:return t=e.sent(),a.Logger.warning("WebAssembly","Unable to initialize WebAssembly backend. "+t),[2,!1];case 3:return[2]}}))}))},t}();e.WasmBackend=c},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0});var o=!1,i=!1;e.init=function(){if(o)return Promise.resolve();if(i)throw new Error("multiple calls to 'init()' detected.");return i=!0,new Promise((function(t,e){(r=n(97))(r).then((function(){t(),i=!1,o=!0}),(function(t){i=!1,e(t)}))}))};var a=function(){function t(){this.ptr8=0,this.numBytesAllocated=0}return t.prototype.ccall=function(n){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(!o)throw new Error("wasm not initialized. please ensure 'init()' is called.");var s=e.now(),u=[],c=t.calculateOffsets(u,i);c>this.numBytesAllocated&&this.expandMemory(c),t.ccallSerialize(r.HEAPU8.subarray(this.ptr8,this.ptr8+c),u,i);var l=e.now();this.func(n,this.ptr8);var f=e.now();return t.ccallDeserialize(r.HEAPU8.subarray(this.ptr8,this.ptr8+c),u,i),{startTime:s,endTime:e.now(),startTimeFunc:l,endTimeFunc:f}},t.prototype.ccallRaw=function(t,n){if(!o)throw new Error("wasm not initialized. please ensure 'init()' is called.");var i=e.now(),a=n.byteLength;a>this.numBytesAllocated&&this.expandMemory(a),r.HEAPU8.subarray(this.ptr8,this.ptr8+a).set(n);var s=e.now();this.func(t,this.ptr8);var u=e.now();return n.set(r.HEAPU8.subarray(this.ptr8,this.ptr8+a)),{startTime:i,endTime:e.now(),startTimeFunc:s,endTimeFunc:u}},t.prototype.func=function(t,e){(0,r[t])(e)},t.calculateOffsets=function(t,e){for(var n=4+4*e.length,r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],s=o[2],u=0;switch(a){case"bool":case"int32":case"float32":u=4;break;case"float64":u=8;break;case"boolptr":if(!i){t.push(0);continue}if(!Array.isArray(i)&&!ArrayBuffer.isView(i))throw new Error("boolptr requires boolean array or Uint8Array");u=4*Math.ceil(i.length/4);break;case"int32ptr":case"float32ptr":if(!i){t.push(0);continue}if(Array.isArray(i)){if("inout"===s||"out"===s)throw new TypeError("inout/out parameters must be ArrayBufferView for ptr types.");u=4*i.length}else{if(!ArrayBuffer.isView(i))throw new TypeError("unsupported data type in 'ccall()'");u=i.byteLength}break;default:throw new Error("not supported parameter type: "+a)}t.push(n),n+=u}return n},t.ccallSerialize=function(t,e,n){var r=new Int32Array(t.buffer,t.byteOffset),o=new Uint32Array(t.buffer,t.byteOffset),i=new Float32Array(t.buffer,t.byteOffset);o[0]=n.length;for(var a=0;a<n.length;a++){var s=n[a],u=s[0],c=s[1],l=s[2],f=e[a],p=f>>2;if(o[a+1]=f,"out"!==l&&0!==f)switch(c){case"bool":t[f]=!0===u?1:0;break;case"int32":r[p]=u;break;case"float32":i[p]=u;break;case"boolptr":var h=u;t.subarray(f,f+h.length).set(u);break;case"int32ptr":var d=u;r.subarray(p,p+d.length).set(d);break;case"float32ptr":var y=u;i.subarray(p,p+y.length).set(y);break;default:throw new Error("not supported parameter type: "+c)}}},t.ccallDeserialize=function(t,e,n){for(var r=new Float32Array(t.buffer,t.byteOffset),o=new Uint8Array(t.buffer,t.byteOffset),i=0;i<n.length;i++){var a=n[i],s=a[0],u=a[1],c=a[2],l=e[i],f=l>>2;if("out"===c||"inout"===c)switch(u){case"float32ptr":var p=s;p.set(r.subarray(f,f+p.length));break;case"boolptr":var h=s;h.set(o.subarray(l,l+h.length));break;default:throw new Error("not supported parameter type: "+u)}}},t.prototype.expandMemory=function(t){if(0!==this.ptr8&&r._free(this.ptr8),this.numBytesAllocated=2*t,this.ptr8=r._malloc(this.numBytesAllocated),0===this.ptr8)throw new Error("Unable to allocate requested amount of memory. Failing.")},t.prototype.dispose=function(){if(!o)throw new Error("wasm not initialized. please ensure 'init()' is called.");0!==this.ptr8&&r._free(this.ptr8)},t}();e.WasmBinding=a,e.now="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now},function(t,e,n){(function(e,r){var o,i=(o="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){t=void 0!==(t=t||{})?t:{};var i,a={};for(i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);t.arguments=[],t.thisProgram="./this.program",t.quit=function(t,e){throw e},t.preRun=[],t.postRun=[];var s,u,c=!1,l=!1;c="object"==typeof window,l="function"==typeof importScripts,s="object"==typeof e&&!c&&!l,u=!c&&!s&&!l;var f,p,h="";s?(h=r+"/",t.read=function(t,e){var r;return f||(f=n(44)),p||(p=n(98)),t=p.normalize(t),r=f.readFileSync(t),e?r:r.toString()},t.readBinary=function(e){var n=t.read(e,!0);return n.buffer||(n=new Uint8Array(n)),_(n.buffer),n},e.argv.length>1&&(t.thisProgram=e.argv[1].replace(/\\/g,"/")),t.arguments=e.argv.slice(2),e.on("uncaughtException",(function(t){if(!(t instanceof st))throw t})),e.on("unhandledRejection",ct),t.quit=function(t){e.exit(t)},t.inspect=function(){return"[Emscripten Module object]"}):u?("undefined"!=typeof read&&(t.read=function(t){return read(t)}),t.readBinary=function(t){var e;return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(_("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof scriptArgs?t.arguments=scriptArgs:void 0!==arguments&&(t.arguments=arguments),"function"==typeof quit&&(t.quit=function(t){quit(t)})):(c||l)&&(l?h=self.location.href:document.currentScript&&(h=document.currentScript.src),o&&(h=o),h=0!==h.indexOf("blob:")?h.substr(0,h.lastIndexOf("/")+1):"",t.read=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},l&&(t.readBinary=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),t.readAsync=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)},t.setWindowTitle=function(t){document.title=t});var d=t.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),y=t.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||d);for(i in a)a.hasOwnProperty(i)&&(t[i]=a[i]);a=void 0;var g={"f64-rem":function(t,e){return t%e},debugger:function(){}};new Array(0);var m,v=0,b=function(t){v=t};"object"!=typeof WebAssembly&&y("no native wasm support detected");var w=!1;function _(t,e){t||ct("Assertion failed: "+e)}var x,T,S,O,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function A(t,e,n){for(var r=e+n,o=e;t[o]&&!(o>=r);)++o;if(o-e>16&&t.subarray&&P)return P.decode(t.subarray(e,o));for(var i="";e<o;){var a=t[e++];if(128&a){var s=63&t[e++];if(192!=(224&a)){var u=63&t[e++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&t[e++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function E(t,e){return t?A(S,t,e):""}function k(t,e){return t%e>0&&(t+=e-t%e),t}function D(){t.HEAP8=T=new Int8Array(x),t.HEAP16=new Int16Array(x),t.HEAP32=O=new Int32Array(x),t.HEAPU8=S=new Uint8Array(x),t.HEAPU16=new Uint16Array(x),t.HEAPU32=new Uint32Array(x),t.HEAPF32=new Float32Array(x),t.HEAPF64=new Float64Array(x)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var I=6096,L=t.TOTAL_MEMORY||16777216;function j(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var r=n.func;"number"==typeof r?void 0===n.arg?t.dynCall_v(r):t.dynCall_vi(r,n.arg):r(void 0===n.arg?null:n.arg)}else n()}}L<5242880&&y("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+L+"! (TOTAL_STACK=5242880)"),t.buffer?x=t.buffer:"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(m=new WebAssembly.Memory({initial:L/65536}),x=m.buffer):x=new ArrayBuffer(L),D(),O[I>>2]=5249232;var C=[],M=[],B=[],R=[],N=[],F=!1;Math.abs,Math.ceil,Math.floor,Math.min;var U=0,G=null,z=null;t.preloadedImages={},t.preloadedAudios={};var V="data:application/octet-stream;base64,";function W(t){return String.prototype.startsWith?t.startsWith(V):0===t.indexOf(V)}var q,H="onnx-wasm.wasm";function Y(){try{if(t.wasmBinary)return new Uint8Array(t.wasmBinary);if(t.readBinary)return t.readBinary(H);throw"both async and sync fetching of the wasm failed"}catch(t){ct(t)}}function X(e){var n={env:e,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:g};function r(e,n){var r=e.exports;t.asm=r,function(e){if(U--,t.monitorRunDependencies&&t.monitorRunDependencies(U),0==U&&(null!==G&&(clearInterval(G),G=null),z)){var n=z;z=null,n()}}()}if(U++,t.monitorRunDependencies&&t.monitorRunDependencies(U),t.instantiateWasm)try{return t.instantiateWasm(n,r)}catch(t){return y("Module.instantiateWasm callback failed with error: "+t),!1}function o(t){r(t.instance)}function i(e){(t.wasmBinary||!c&&!l||"function"!=typeof fetch?new Promise((function(t,e){t(Y())})):fetch(H,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+H+"'";return t.arrayBuffer()})).catch((function(){return Y()}))).then((function(t){return WebAssembly.instantiate(t,n)})).then(e,(function(t){y("failed to asynchronously prepare wasm: "+t),ct(t)}))}return t.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||W(H)||"function"!=typeof fetch?i(o):WebAssembly.instantiateStreaming(fetch(H,{credentials:"same-origin"}),n).then(o,(function(t){y("wasm streaming compile failed: "+t),y("falling back to ArrayBuffer instantiation"),i(o)})),{}}function K(){return!!K.uncaught_exception}function $(t){try{return it(t)}catch(t){}}W(H)||(q=H,H=t.locateFile?t.locateFile(q,h):h+q),t.asm=function(t,e,n){return e.memory=m,e.table=new WebAssembly.Table({initial:41,maximum:41,element:"anyfunc"}),e.__memory_base=1024,e.__table_base=0,X(e)};var J={last:0,caught:[],infos:{},deAdjust:function(t){if(!t||J.infos[t])return t;for(var e in J.infos)for(var n=+e,r=J.infos[n].adjusted,o=r.length,i=0;i<o;i++)if(r[i]===t)return n;return t},addRef:function(t){t&&J.infos[t].refcount++},decRef:function(e){if(e){var n=J.infos[e];_(n.refcount>0),n.refcount--,0!==n.refcount||n.rethrown||(n.destructor&&t.dynCall_vi(n.destructor,e),delete J.infos[e],$(e))}},clearRef:function(t){t&&(J.infos[t].refcount=0)}},Z={buffers:[null,[],[]],printChar:function(t,e){var n=Z.buffers[t];0===e||10===e?((1===t?d:y)(A(n,0)),n.length=0):n.push(e)},varargs:0,get:function(t){return Z.varargs+=4,O[Z.varargs-4>>2]},getStr:function(){return E(Z.get())},get64:function(){var t=Z.get();return Z.get(),t},getZero:function(){Z.get()}};function Q(){var e=t._fflush;e&&e(0);var n=Z.buffers;n[1].length&&Z.printChar(1,10),n[2].length&&Z.printChar(2,10)}function tt(){return T.length}function et(t){t=k(t,65536);var e=x.byteLength;try{return-1!==m.grow((t-e)/65536)?x=m.buffer:null}catch(t){return null}}function nt(t){var e=tt();if(t>2147418112)return!1;for(var n=Math.max(e,16777216);n<t;)n=n<=536870912?k(2*n,65536):Math.min(k((3*n+2147483648)/4,65536),2147418112);var r=et(n);return!(!r||r.byteLength!=n||(D(),0))}R.push(Q);var rt={abort:ct,setTempRet0:b,getTempRet0:function(){return v},__ZSt18uncaught_exceptionv:K,___assert_fail:function(t,e,n,r){ct("Assertion failed: "+E(t)+", at: "+[e?E(e):"unknown filename",n,r?E(r):"unknown function"])},___cxa_allocate_exception:function(t){return at(t)},___cxa_find_matching_catch:function e(){var n=J.last;if(!n)return 0|(b(0),0);var r=J.infos[n],o=r.type;if(!o)return 0|(b(0),n);var i=Array.prototype.slice.call(arguments);t.___cxa_is_pointer_type(o),e.buffer||(e.buffer=at(4)),O[e.buffer>>2]=n,n=e.buffer;for(var a=0;a<i.length;a++)if(i[a]&&t.___cxa_can_catch(i[a],o,n))return n=O[n>>2],r.adjusted.push(n),0|(b(i[a]),n);return n=O[n>>2],0|(b(o),n)},___cxa_free_exception:$,___cxa_throw:function(t,e,n){throw J.infos[t]={ptr:t,adjusted:[t],type:e,destructor:n,refcount:0,caught:!1,rethrown:!1},J.last=t,"uncaught_exception"in K?K.uncaught_exception++:K.uncaught_exception=1,t},___gxx_personality_v0:function(){},___lock:function(){},___resumeException:function(t){throw J.last||(J.last=t),t},___setErrNo:function(e){return t.___errno_location&&(O[t.___errno_location()>>2]=e),e},___syscall140:function(t,e){Z.varargs=e;try{var n=Z.getStreamFromFD(),r=(Z.get(),Z.get()),o=Z.get(),i=Z.get(),a=r;return FS.llseek(n,a,i),O[o>>2]=n.position,n.getdents&&0===a&&0===i&&(n.getdents=null),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||ct(t),-t.errno}},___syscall146:function(t,e){Z.varargs=e;try{for(var n=Z.get(),r=Z.get(),o=Z.get(),i=0,a=0;a<o;a++){for(var s=O[r+8*a>>2],u=O[r+(8*a+4)>>2],c=0;c<u;c++)Z.printChar(n,S[s+c]);i+=u}return i}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||ct(t),-t.errno}},___syscall54:function(t,e){Z.varargs=e;try{return 0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||ct(t),-t.errno}},___syscall6:function(t,e){Z.varargs=e;try{var n=Z.getStreamFromFD();return FS.close(n),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||ct(t),-t.errno}},___unlock:function(){},_abort:function(){t.abort()},_emscripten_get_heap_size:tt,_emscripten_memcpy_big:function(t,e,n){S.set(S.subarray(e,e+n),t)},_emscripten_resize_heap:nt,_llvm_trap:function(){ct("trap!")},abortOnCannotGrowMemory:function(t){ct("OOM")},emscripten_realloc_buffer:et,flush_NO_FILESYSTEM:Q,tempDoublePtr:6336,DYNAMICTOP_PTR:I},ot=t.asm({},rt,x);t.asm=ot,t.___errno_location=function(){return t.asm.___errno_location.apply(null,arguments)},t._add_f32=function(){return t.asm._add_f32.apply(null,arguments)},t._and_u8=function(){return t.asm._and_u8.apply(null,arguments)},t._average_pool_f32=function(){return t.asm._average_pool_f32.apply(null,arguments)},t._batch_normalization_f32=function(){return t.asm._batch_normalization_f32.apply(null,arguments)},t._clip_f32=function(){return t.asm._clip_f32.apply(null,arguments)},t._conv_f32=function(){return t.asm._conv_f32.apply(null,arguments)},t._div_f32=function(){return t.asm._div_f32.apply(null,arguments)},t._emscripten_replace_memory=function(){return t.asm._emscripten_replace_memory.apply(null,arguments)},t._fflush=function(){return t.asm._fflush.apply(null,arguments)};var it=t._free=function(){return t.asm._free.apply(null,arguments)},at=(t._gemm_f32=function(){return t.asm._gemm_f32.apply(null,arguments)},t._instance_normalization_f32=function(){return t.asm._instance_normalization_f32.apply(null,arguments)},t._malloc=function(){return t.asm._malloc.apply(null,arguments)});function st(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function ut(e){function n(){t.calledRun||(t.calledRun=!0,w||(F||(F=!0,j(M)),j(B),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),N.unshift(e);var e;j(N)}()))}e=e||t.arguments,U>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),C.unshift(e);var e;j(C)}(),U>0||t.calledRun||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),n()}),1)):n()))}function ct(e){throw t.onAbort&&t.onAbort(e),void 0!==e?(d(e),y(e),e=JSON.stringify(e)):e="",w=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(t._matmul_f32=function(){return t.asm._matmul_f32.apply(null,arguments)},t._max_pool_f32=function(){return t.asm._max_pool_f32.apply(null,arguments)},t._memcpy=function(){return t.asm._memcpy.apply(null,arguments)},t._memset=function(){return t.asm._memset.apply(null,arguments)},t._mul_f32=function(){return t.asm._mul_f32.apply(null,arguments)},t._or_u8=function(){return t.asm._or_u8.apply(null,arguments)},t._prelu_f32=function(){return t.asm._prelu_f32.apply(null,arguments)},t._sbrk=function(){return t.asm._sbrk.apply(null,arguments)},t._softmax_f32=function(){return t.asm._softmax_f32.apply(null,arguments)},t._sub_f32=function(){return t.asm._sub_f32.apply(null,arguments)},t._sum_f32=function(){return t.asm._sum_f32.apply(null,arguments)},t._xor_u8=function(){return t.asm._xor_u8.apply(null,arguments)},t.establishStackSpace=function(){return t.asm.establishStackSpace.apply(null,arguments)},t.stackAlloc=function(){return t.asm.stackAlloc.apply(null,arguments)},t.stackRestore=function(){return t.asm.stackRestore.apply(null,arguments)},t.stackSave=function(){return t.asm.stackSave.apply(null,arguments)},t.dynCall_ii=function(){return t.asm.dynCall_ii.apply(null,arguments)},t.dynCall_iiii=function(){return t.asm.dynCall_iiii.apply(null,arguments)},t.dynCall_v=function(){return t.asm.dynCall_v.apply(null,arguments)},t.dynCall_vi=function(){return t.asm.dynCall_vi.apply(null,arguments)},t.dynCall_viiii=function(){return t.asm.dynCall_viiii.apply(null,arguments)},t.dynCall_viiiii=function(){return t.asm.dynCall_viiiii.apply(null,arguments)},t.dynCall_viiiiii=function(){return t.asm.dynCall_viiiiii.apply(null,arguments)},t.asm=ot,t.then=function(e){if(t.calledRun)e(t);else{var n=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){n&&n(),e(t)}}return t},st.prototype=new Error,st.prototype.constructor=st,z=function e(){t.calledRun||ut(),t.calledRun||(z=e)},t.run=ut,t.abort=ct,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return ut(),t});t.exports=i}).call(this,n(23),"/")},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return(r?"/":"")+(e=n(i(e.split("/"),(function(t){return!!t})),!r).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),o="/"===a(t,-1);return(t=n(i(t.split("/"),(function(t){return!!t})),!r).join("/"))||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}var c=[];for(u=s;u<o.length;u++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(23))},function(t,e,n){t.exports=function(){return new Worker(n.p+"./onnx-worker.js")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),o=n(26),i=n(101),a=n(102),s=function(){function t(t,e,n){this.backend=t,this.context=e,this.opResolveRules=n?a.WASM_OP_RESOLVE_RULES.concat(o.CPU_OP_RESOLVE_RULES):a.WASM_OP_RESOLVE_RULES}return t.prototype.createInferenceHandler=function(){return new i.WasmInferenceHandler(this,this.context.profiler)},t.prototype.dispose=function(){},t.prototype.resolve=function(t,e){var n=r.resolveOperator(t,e,this.opResolveRules);return n.initialize(t.attributes),n},t}();e.WasmSessionHandler=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.session=t,this.profiler=e}return t.prototype.dispose=function(){},t}();e.WasmInferenceHandler=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(103),o=n(104),i=n(105),a=n(106),s=n(107),u=n(108),c=n(109),l=n(110),f=n(111),p=n(112);e.WASM_OP_RESOLVE_RULES=[["Add","","7+",function(){return new o.WasmBinaryOp(["float32"],"Add")}],["And","","7+",function(){return new o.WasmBinaryOp(["bool"],"And")}],["AveragePool","","7+",function(){return new l.WasmAveragePool}],["BatchNormalization","","7+",function(){return new r.WasmBatchNormalization}],["Clip","","6+",function(){return new i.WasmClip}],["Conv","","1+",function(){return new a.WasmConv}],["Div","","7+",function(){return new o.WasmBinaryOp(["float32"],"Div")}],["Gemm","","7+",function(){return new s.WasmGemm}],["GlobalAveragePool","","1+",function(){return new l.WasmGlobalAveragePool}],["GlobalMaxPool","","1+",function(){return new l.WasmGlobalMaxPool}],["InstanceNormalization","","6+",function(){return new u.WasmInstanceNormalization}],["MatMul","","1+",function(){return new c.WasmMatMul}],["MaxPool","","1+",function(){return new l.WasmMaxPool}],["Mul","","7+",function(){return new o.WasmBinaryOp(["float32"],"Mul")}],["Or","","7+",function(){return new o.WasmBinaryOp(["bool"],"Or")}],["PRelu","","7+",function(){return new o.WasmBinaryOp(["float32"],"PRelu")}],["Softmax","","1+",function(){return new f.WasmSoftmax}],["Sub","","7+",function(){return new o.WasmBinaryOp(["float32"],"Sub")}],["Sum","","6+",function(){return new p.WasmSum}],["Xor","","7+",function(){return new o.WasmBinaryOp(["bool"],"Xor")}]]},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(14),a=n(1),s=n(4),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){for(var n=e[0],r=e[1],o=e[2],i=e[3],u=e[4],c=1,l=2;l<n.dims.length;l++)c*=n.dims[l];var f=new a.Tensor(n.dims,n.type);return s.WasmBinding.getInstance().ccall("_batch_normalization_f32",[n.floatData,"float32ptr"],[f.floatData,"float32ptr","out"],[n.dims[0],"int32"],[n.dims[1],"int32"],[c,"int32"],[r.floatData,"float32ptr"],[o.floatData,"float32ptr"],[i.floatData,"float32ptr"],[u.floatData,"float32ptr"],[this.epsilon,"float32"]),[f]},e.prototype.checkInputTypes=function(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4];return!(e.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==o.dims.length||1!==i.dims.length)&&n.dims[0]===e.dims[1]&&r.dims[0]===e.dims[1]&&o.dims[0]===e.dims[1]&&i.dims[0]===e.dims[1]&&"float32"===e.type&&"float32"===n.type&&"float32"===r.type&&"float32"===o.type&&"float32"===i.type},e}(i.BatchNormalization);e.WasmBatchNormalization=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),a=n(1),s=n(0),u=n(4),c=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return o(e,t),e.prototype.run=function(t,e){var n=s.BroadcastUtil.calcShape(e[0].dims,e[1].dims,!1);if(!n)throw new Error("not broadcastable");var r,o="",i="";switch(this.opType){case"Add":"float32"===e[0].type&&(o="_add_f32",i="float32InFloat32Out");break;case"Sub":"float32"===e[0].type&&(o="_sub_f32",i="float32InFloat32Out");break;case"Mul":"float32"===e[0].type&&(o="_mul_f32",i="float32InFloat32Out");break;case"Div":"float32"===e[0].type&&(o="_div_f32",i="float32InFloat32Out");break;case"PRelu":"float32"===e[0].type&&(o="_prelu_f32",i="float32InFloat32Out");break;case"Xor":o="_xor_u8",i="boolInBoolOut";break;case"Or":o="_or_u8",i="boolInBoolOut";break;case"And":o="_and_u8",i="boolInBoolOut";break;default:throw Error("unsupported binary op by the Wasm backend")}if("float32InFloat32Out"===i)r=new a.Tensor(n,"float32"),u.WasmBinding.getInstance().ccall(o,[e[0].floatData,"float32ptr"],[e[0].dims.length,"int32"],[e[0].dims,"int32ptr"],[e[1].floatData,"float32ptr"],[e[1].dims.length,"int32"],[e[1].dims,"int32ptr"],[r.floatData,"float32ptr","out"],[r.floatData.length,"int32"],[n.length,"int32"],[n,"int32ptr"]);else{if("boolInBoolOut"!==i)throw new Error("Unsupported binary op format. Probably unsupported data types.");r=new a.Tensor(n,"bool"),u.WasmBinding.getInstance().ccall(o,[e[0].integerData,"boolptr"],[e[0].dims.length,"int32"],[e[0].dims,"int32ptr"],[e[1].integerData,"boolptr"],[e[1].dims.length,"int32"],[e[1].dims,"int32ptr"],[r.integerData,"boolptr","out"],[r.integerData.length,"int32"],[n.length,"int32"],[n,"int32ptr"])}return[r]},e}(i.BinaryOp);e.WasmBinaryOp=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(45),a=n(1),s=n(4),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){var n=new a.Tensor(e[0].dims,e[0].type),r=n.floatData.length;if("float32"!==e[0].type)throw new Error("Unsupported input type for Clip operator.");return s.WasmBinding.getInstance().ccall("_clip_f32",[e[0].floatData,"float32ptr"],[n.floatData,"float32ptr","out"],[r,"int32"],[this.min,"float32"],[this.max,"float32"]),[n]},e.prototype.checkInputTypes=function(t){return"float32"===t[0].type},e}(i.Clip);e.WasmClip=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(16),u=n(1),c=n(0),l=n(4),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return i(this,void 0,void 0,(function(){var t,n,r,o,i,s,f,p,h,d,y,g,m,v,b,w,_,x;return a(this,(function(a){switch(a.label){case 0:if(t=e[0],n=e[1],r=3===e.length?e[2]:void 0,0===this.kernelShape.length)for(o=e[1].dims,x=2;x<o.length;++x)this.kernelShape.push(o[x]);return i=c.PoolConvUtil.computeConvOutputShape(t.dims,n.dims,this.strides,this.dilations,this.kernelShape,this.pads,this.autoPad),s=new u.Tensor(i,t.type),1!==(f=function(t,e,n,r){return 1!==t||1!==e||1===n||r<=0?1:Math.min(n,r+1)}(t.dims[0],this.group,n.dims[0],l.WasmBinding.workerNumber))?[3,1]:(l.WasmBinding.getInstance().ccall("_conv_f32",[t.floatData,"float32ptr"],[t.dims,"int32ptr"],[n.floatData,"float32ptr"],[n.dims,"int32ptr"],[s.floatData,"float32ptr","out"],[s.dims,"int32ptr"],[r?r.floatData:null,"float32ptr"],[this.dilations,"int32ptr"],[this.group,"int32"],[this.pads,"int32ptr"],[this.strides,"int32ptr"]),[2,[s]]);case 1:for((p=n.dims.slice(0))[0]=Math.floor(n.dims[0]/f),h=p[0]*p[1]*p[2]*p[3],(d=n.dims.slice(0))[0]=n.dims[0]-(f-1)*p[0],y=[1,p[0],i[2],i[3]],g=p[0]*i[2]*i[3],m=[1,d[0],i[2],i[3]],v=new Array(f),b=new Array(f),w=new Array(f),_=new Array(f-1),x=0;x<f;++x)x!==f-1?(v[x]=n.floatData.subarray(x*h,(x+1)*h),b[x]=s.floatData.subarray(x*g,(x+1)*g),r&&(w[x]=r.floatData.subarray(x*p[0],(x+1)*p[0])),_[x]=l.WasmBinding.getInstance().ccallRemote(x,"_conv_f32",[t.floatData,"float32ptr"],[t.dims,"int32ptr"],[v[x],"float32ptr"],[p,"int32ptr"],[b[x],"float32ptr","out"],[y,"int32ptr"],[w.length>0?w[x]:null,"float32ptr"],[this.dilations,"int32ptr"],[this.group,"int32"],[this.pads,"int32ptr"],[this.strides,"int32ptr"])):(v[x]=n.floatData.subarray(x*h),b[x]=s.floatData.subarray(x*g),r&&(w[x]=r.floatData.subarray(x*p[0])),l.WasmBinding.getInstance().ccall("_conv_f32",[t.floatData,"float32ptr"],[t.dims,"int32ptr"],[v[x],"float32ptr"],[d,"int32ptr"],[b[x],"float32ptr","out"],[m,"int32ptr"],[w.length>0?w[x]:null,"float32ptr"],[this.dilations,"int32ptr"],[this.group,"int32"],[this.pads,"int32ptr"],[this.strides,"int32ptr"]));return[4,Promise.all(_)];case 2:return a.sent(),[2,[s]]}}))}))},e.prototype.checkInputTypes=function(t){return"float32"===t[0].type&&"float32"===t[1].type&&(3!==t.length||"float32"===t[2].type)},e}(s.Conv);e.WasmConv=f},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=n(19),s=n(1),u=n(0),c=n(4),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){var n=e[0],r=e[1],o=e[2],a=i(u.GemmUtil.getShapeOfGemmResult(n.dims,this.transA,r.dims,this.transB,o.dims),2),l=a[0],f=a[1],p=new s.Tensor([l,f],n.type);if(!u.BroadcastUtil.calc(p,o,(function(t,e){return e}),!0))throw new Error("c is not broadcastable to the shape of the result of the Gemm operator");return c.WasmBinding.getInstance().ccall("_gemm_f32",[this.transA,"bool"],[this.transB,"bool"],[this.transA?n.dims[1]:n.dims[0],"int32"],[this.transB?r.dims[0]:r.dims[1],"int32"],[this.transA?n.dims[0]:n.dims[1],"int32"],[this.alpha,"float32"],[n.floatData,"float32ptr"],[r.floatData,"float32ptr"],[this.beta,"float32"],[p.floatData,"float32ptr","inout"]),[p]},e.prototype.checkInputTypes=function(t){return"float32"===t[0].type&&"float32"===t[1].type&&"float32"===t[2].type&&t[0].type===t[1].type&&t[0].type===t[2].type},e}(a.Gemm);e.WasmGemm=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),a=n(1),s=n(4),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){for(var n=e[0],r=e[1],o=e[2],i=1,u=2;u<n.dims.length;u++)i*=n.dims[u];var c=new a.Tensor(n.dims,n.type);return s.WasmBinding.getInstance().ccall("_instance_normalization_f32",[n.floatData,"float32ptr"],[c.floatData,"float32ptr","out"],[n.dims[0],"int32"],[n.dims[1],"int32"],[i,"int32"],[r.floatData,"float32ptr"],[o.floatData,"float32ptr"],[this.epsilon,"float32"]),[c]},e.prototype.checkInputTypes=function(t){var e=t[0],n=t[1],r=t[2];return!(e.dims.length<3||1!==n.dims.length||1!==r.dims.length)&&n.dims[0]===e.dims[1]&&r.dims[0]===e.dims[1]&&"float32"===e.type&&"float32"===n.type&&"float32"===r.type},e}(i.InstanceNormalization);e.WasmInstanceNormalization=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=n(18),s=n(1),u=n(0),c=n(4),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){var n=i(u.MatMulUtil.preprocessInputShapes(e[0].dims,e[1].dims),2),r=n[0],o=n[1],a=u.BroadcastUtil.calcShape(r,o,!0);if(!a)throw new Error("input dimensions do not match the requirement");var l=u.ShapeUtil.size(a),f=new Float32Array(l);c.WasmBinding.getInstance().ccall("_matmul_f32",[e[0].floatData,"float32ptr"],[e[0].dims,"int32ptr"],[e[0].dims.length,"int32"],[e[1].floatData,"float32ptr"],[e[1].dims,"int32ptr"],[e[1].dims.length,"int32"],[f,"float32ptr","out"],[f.length,"int32"],[a,"int32ptr"],[a.length,"int32"]),u.MatMulUtil.postprocessOutputShape(a,e[0].dims.length,e[1].dims.length);var p=new s.Tensor(a,e[0].type);return p.floatData.set(f),[p]},e.prototype.checkInputTypes=function(t){return"float32"===t[0].type&&"float32"===t[1].type&&t[0].type===t[1].type},e}(a.MatMul);e.WasmMatMul=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),u=n(1),c=n(0),l=n(4),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.checkInputTypes=function(t){return y(t)},e.prototype.run=function(t,e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,g(e[0],this.autoPad,this.countIncludePad,this.kernelShape,this.pads,this.strides)]}))}))},e}(s.AveragePool);e.WasmAveragePool=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.checkInputTypes=function(t){return y(t)},e.prototype.run=function(t,e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,m(e[0])]}))}))},e}(s.GlobalAveragePool);e.WasmGlobalAveragePool=p;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.checkInputTypes=function(t){return y(t)},e.prototype.run=function(t,e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,v(e[0],this.autoPad,this.kernelShape,this.pads,this.strides)]}))}))},e}(s.MaxPool);e.WasmMaxPool=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.checkInputTypes=function(t){return y(t)},e.prototype.run=function(t,e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,b(e[0])]}))}))},e}(s.GlobalMaxPool);function y(t){return"float32"===t[0].type}function g(t,e,n,r,o,s){return i(this,void 0,void 0,(function(){return a(this,(function(i){return[2,w(!1,1,t,e,n,r,o,s)]}))}))}function m(t){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,w(!0,1,t,"NOTSET",!1,[],[],[])]}))}))}function v(t,e,n,r,o){return i(this,void 0,void 0,(function(){return a(this,(function(i){return[2,w(!1,2,t,e,!1,n,r,o)]}))}))}function b(t){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,w(!0,2,t,"NOTSET",!1,[],[],[])]}))}))}function w(t,e,n,r,o,s,f,p){return i(this,void 0,void 0,(function(){var i,h,d,y,g,m,v,b,w,_,x,T,S,O;return a(this,(function(a){switch(a.label){case 0:switch(i="",e){case 1:i="_average_pool_f32";break;case 2:i="_max_pool_f32";break;default:throw new Error("unknown pool type")}return c.PoolConvUtil.adjustPoolAttributes(t,n.dims,s,p,f),h=c.PoolConvUtil.computePoolOutputShape(t,n.dims,p,s,f,r),d=new u.Tensor(h,n.type),1!==(y=function(t,e,n){return 1!==t||1===e||n<=0?1:Math.min(e,n+1)}(n.dims[0],n.dims[1],l.WasmBinding.workerNumber))?[3,1]:(l.WasmBinding.getInstance().ccall(i,[s.length,"int32"],[t,"bool"],[n.floatData,"float32ptr"],[n.dims,"int32ptr"],[d.floatData,"float32ptr","out"],[d.dims,"int32ptr"],[s,"int32ptr"],[f,"int32ptr"],[p,"int32ptr"],[o,"bool"]),[3,3]);case 1:for((g=n.dims.slice(0))[1]=Math.floor(n.dims[1]/y),m=c.ShapeUtil.size(g),(v=n.dims.slice(0))[1]=n.dims[1]-(y-1)*g[1],(b=h.slice(0))[1]=g[1],w=c.ShapeUtil.size(b),(_=h.slice(0))[1]=v[1],x=new Array(y-1),T=n.floatData,S=d.floatData,O=0;O<y;++O)O!==y-1?x[O]=l.WasmBinding.getInstance().ccallRemote(O,i,[s.length,"int32"],[t,"bool"],[T.subarray(O*m,(O+1)*m),"float32ptr"],[g,"int32ptr"],[S.subarray(O*w,(O+1)*w),"float32ptr","out"],[b,"int32ptr"],[s,"int32ptr"],[f,"int32ptr"],[p,"int32ptr"],[o,"bool"]):l.WasmBinding.getInstance().ccall(i,[s.length,"int32"],[t,"bool"],[T.subarray((y-1)*m),"float32ptr"],[v,"int32ptr"],[S.subarray((y-1)*w),"float32ptr","out"],[_,"int32ptr"],[s,"int32ptr"],[f,"int32ptr"],[p,"int32ptr"],[o,"bool"]);return[4,Promise.all(x)];case 2:a.sent(),a.label=3;case 3:return[2,[d]]}}))}))}e.WasmGlobalMaxPool=d},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),a=n(1),s=n(0),u=n(4),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){var n=e[0],r=s.ShapeUtil.parseAxis(this.axis,n.dims.length),o=s.ShapeUtil.sizeToDimension(n.dims,r),i=s.ShapeUtil.sizeFromDimension(n.dims,r),c=new a.Tensor(n.dims,n.type);return u.WasmBinding.getInstance().ccall("_softmax_f32",[n.floatData,"float32ptr"],[c.floatData,"float32ptr","out"],[o,"int32"],[i,"int32"]),[c]},e.prototype.checkInputTypes=function(t){return"float32"===t[0].type},e}(i.Softmax);e.WasmSoftmax=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(22),u=n(1),c=n(4),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){for(var n,r=new u.Tensor(e[0].dims,e[0].type),o=e[0].floatData.length,i=new Array(e.length),s=0;s<e.length;s++)i[s]=[e[s].floatData,"float32ptr"];return(n=c.WasmBinding.getInstance()).ccall.apply(n,a(["_sum_f32",[e.length,"int32"],[o,"int32"],[r.floatData,"float32ptr","inout"]],i)),[r]},e.prototype.checkInputTypes=function(t){if("float32"!==t[0].type)return!1;for(var e=1;e<t.length;e++)if(t[0].type!==t[e].type)return!1;return!0},e}(s.Sum);e.WasmSum=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(114),i=n(160),a=function(){function t(){}return t.prototype.initialize=function(){try{return this.glContext=i.createWebGLContext(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),r.Logger.verbose("WebGLBackend","Created WebGLContext: "+typeof this.glContext),!0}catch(t){return r.Logger.warning("WebGLBackend","Unable to initialize WebGLBackend. "+t),!1}},t.prototype.createSessionHandler=function(t){return new o.WebGLSessionHandler(this,t)},t.prototype.dispose=function(){this.glContext.dispose()},t}();e.WebGLBackend=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(11),i=n(115),a=n(117),s=n(147),u=n(158),c=n(159),l=function(){function t(t,e){this.backend=t,this.context=e,this.programManager=new s.ProgramManager(this.context.profiler,t.glContext),this.layoutStrategy=new u.AlwaysKeepOriginalSizeStrategy(t.glContext.maxTextureSize),this.textureManager=new c.TextureManager(t.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===t.textureCacheMode}),this.textureDataCache=new Map}return t.prototype.createInferenceHandler=function(){return new i.WebGLInferenceHandler(this)},t.prototype.onGraphInitialized=function(t){var e=t.getValues().filter((function(t){return-1===t.from&&t.tensor})).map((function(t){return t.tensor.dataId}));this.initializers=new Set(e)},t.prototype.isInitializer=function(t){return!!this.initializers&&this.initializers.has(t)},t.prototype.getTextureData=function(t){return this.textureDataCache.get(t)},t.prototype.setTextureData=function(t,e){r.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),this.textureDataCache.set(t,e)},t.prototype.dispose=function(){var t=this;this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.textureDataCache.forEach((function(e){return t.textureManager.releaseTexture(e,!0)})),this.textureDataCache=new Map},t.prototype.resolve=function(t,e){var n=o.resolveOperator(t,e,a.WEBGL_OP_RESOLVE_RULES);return n.initialize(t.attributes),n},t}();e.WebGLSessionHandler=l},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),a=n(1),s=n(0),u=n(116),c=n(46),l=function(){function t(t){this.session=t,this.textureDataCache=new Map}return t.prototype.run=function(t,e){var n=this.session.programManager.getArtifact(t);if(!n){var r=t.createProgramInfo(this,e);n=this.session.programManager.build(r),this.session.programManager.setArtifact(t,n)}var o=t.createRunData(this,n.programInfo,e);return this.session.programManager.run(n,o),[o.outputTextureData.tensor]},t.prototype.getOrCreateTextureData=function(t,e){var n=this.getTextureData(t.dataId);return n?i.Logger.verbose("InferenceHandler","Retrieving TextureData from cache: ["+t.dims+"]"):(i.Logger.verbose("InferenceHandler","Creating new TextureData for dims: ["+t.dims+"]"),e||(e=this.createTextureLayoutFromShape(t.dims.slice())),n=this.createTextureData(e,t.type,t.numberData,t,1)),n},t.prototype.createTextureDataFromLayout=function(t,e){return this.createTextureData(t,e)},t.prototype.createTextureDataFromLayoutBindTensor=function(t,e,n,r){return this.createTextureData(t,e,n,r,1)},t.prototype.createTextureData=function(t,e,n,r,o){i.Logger.verbose("InferenceHandler","Creating TextureData: layout:["+JSON.stringify(t)+"]");var a=this.session.textureManager.createTextureFromLayout(e,t,n,o);return this.createTextureDataFromTexture(t,e,a,r)},t.prototype.createSharedTextureData=function(t,e,n,r){return this.createTextureDataFromTexture(t,e,n,void 0,r)},t.prototype.createTextureDataFromTexture=function(t,e,n,o,i){var s=this,u=r({},t,{tensor:o||new a.Tensor(t.unpackedShape,e,(function(t){return s.readTexture(u)}),void 0,void 0,i),texture:n});return this.setTextureData(u.tensor.dataId,u),u},t.prototype.getTextureData=function(t){return this.session.isInitializer(t)?this.session.getTextureData(t):this.textureDataCache.get(t)},t.prototype.setTextureData=function(t,e){this.session.isInitializer(t)?this.session.setTextureData(t,e):this.textureDataCache.set(t,e)},t.prototype.getOrCreateTextureLayout=function(t,e,n){return void 0===e&&(e=1),this.getTextureData(t.dataId)||this.createTextureLayoutFromShape(1===e?t.dims.slice():c.getPackedShape(t.dims.slice()),e,n)},t.prototype.createTextureLayoutFromShape=function(t,e,n,r){void 0===e&&(e=1);var i=o(this.session.layoutStrategy.computeTextureWH(t,r),2),a=i[0],u=i[1],c=t;if(0===t.length&&(c=[1]),1===e)n=t;else if(!n)throw new Error("Unpacked shape is needed when using channels > 1");return{width:a,height:u,channels:e||1,shape:c,strides:s.ShapeUtil.computeStrides(c),unpackedShape:n}},t.prototype.dispose=function(){var t=this;this.session.textureManager.clearActiveTextures(),this.textureDataCache.forEach((function(e){return t.session.textureManager.releaseTexture(e)})),this.textureDataCache=new Map},t.prototype.readTexture=function(t){if(!this.session.backend.glContext.isFloat32DownloadSupported){var e=(new u.WebGLUint8Encode).runInternal(this,t);return this.session.textureManager.readUint8TextureAsFloat(e)}return this.session.textureManager.readTexture(t,t.tensor.type,t.channels)},t}();e.WebGLInferenceHandler=l},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(2),a=function(){function t(){}return t.prototype.runInternal=function(t,e){var n=e.shape,a=r(t.session.layoutStrategy.computeTextureWH(e.shape),2),s={width:a[0],height:a[1],channels:4,shape:n,strides:o.ShapeUtil.computeStrides(n),unpackedShape:n},u=i.getGlsl(t.session.backend.glContext.version),c={inputLayouts:[e],outputLayout:s,samplers:["X"],shaderSource:"\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      bool isNaN(float val) {\n        return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n      }\n\n      highp vec4 encodeAsUint8(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float value = "+u.texture2D+"(X,TexCoords).r;\n        "+u.output+" = encodeAsUint8(value);\n      }",hasMain:!0},l=t.session.programManager.build(c),f=t.session.backend.glContext.getEncoder("byte",4),p=t.session.backend.glContext.allocateTexture(s.width,s.height,f),h={inputTextureDatas:[e],outputTextureData:t.createSharedTextureData(s,"uint8",p,{}),uniformData:{}};return t.session.programManager.run(l,h),h.outputTextureData},t}();e.WebGLUint8Encode=a},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(118),a=r(n(119)),s=n(120),u=n(121),c=n(122),l=n(123),f=n(124),p=n(126),h=n(127),d=n(128),y=n(129),g=n(130),m=n(132),v=n(133),b=n(135),w=r(n(136)),_=n(10),x=n(137),T=n(138),S=n(139),O=n(141),P=n(142),A=n(143),E=n(144),k=r(n(145)),D=n(146);e.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",function(){return new k.WebGLUnaryOp(o.NUMBER_TYPES,k.glslAbs())}],["Acos","","7+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslAcos())}],["Add","","7+",function(){return new a.WebGLBinaryOp(o.NUMBER_TYPES,a.glslAdd())}],["And","","7+",function(){return new a.WebGLBinaryOp(["bool"],a.glslAnd())}],["Asin","","7+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslAsin())}],["Atan","","7+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslAtan())}],["AveragePool","","7+",function(){return new b.WebGLAveragePool}],["BatchNormalization","","7+",function(){return new i.WebGLBatchNormalization}],["Ceil","","6+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslCeil())}],["Clip","","6+",function(){return new s.WebGLClip}],["Concat","","4+",function(){return new u.WebGLConcat}],["Conv","","1+",function(){return new c.WebGLConv}],["Cos","","7+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslCos())}],["Div","","7+",function(){return new a.WebGLBinaryOp(o.NUMBER_TYPES,a.glslDiv())}],["Dropout","","7+",function(){return new l.WebGLDropout}],["Equal","","7+",function(){return new a.WebGLBinaryOp(o.NUMBER_TYPES,a.glslEqual(),void 0,"bool")}],["Elu","","6+",function(){return new f.WebGLElu}],["Exp","","6+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslExp())}],["Flatten","","1+",function(){return new p.WebGLFlatten}],["Floor","","6+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslFloor())}],["Gather","","1+",function(){return new h.WebGLGather}],["Gemm","","7+",function(){return new d.WebGLGemm}],["GlobalAveragePool","","1+",function(){return new b.WebGLGlobalAveragePool}],["GlobalMaxPool","","1+",function(){return new b.WebGLGlobalMaxPool}],["Greater","","7+",function(){return new a.WebGLBinaryOp(o.NUMBER_TYPES,a.glslGreater(),void 0,"bool")}],["Identity","","1+",function(){return new k.WebGLUnaryOp(o.NUMBER_TYPES,k.glslIdentity())}],["ImageScaler","","1+",function(){return new y.WebGLImageScaler}],["LeakyRelu","","6+",function(){return new g.WebGLLeakyRelu}],["Less","","7+",function(){return new a.WebGLBinaryOp(o.NUMBER_TYPES,a.glslLess(),void 0,"bool")}],["Log","","6+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslLog())}],["MatMul","","1+",function(){return new m.WebGLMatMul}],["MaxPool","","1+",function(){return new b.WebGLMaxPool}],["Mul","","7+",function(){return new a.WebGLBinaryOp(o.NUMBER_TYPES,a.glslMul())}],["Neg","","6+",function(){return new k.WebGLUnaryOp(o.NUMBER_TYPES,k.glslNeg())}],["Not","","1+",function(){return new k.WebGLUnaryOp(["bool"],k.glslNot())}],["Or","","7+",function(){return new a.WebGLBinaryOp(["bool"],a.glslOr())}],["Pad","","2+",function(){return new v.WebGLPad}],["Pow","","7+",function(){return new a.WebGLBinaryOp(o.FLOAT_TYPES,a.glslPow())}],["PRelu","","7+",function(){return new a.WebGLBinaryOp(o.FLOAT_TYPES,a.glslPRelu())}],["ReduceLogSum","","1+",function(){return new w.WebGLReduceLogSum}],["ReduceMax","","1+",function(){return new w.WebGLReduceMax}],["ReduceMean","","1+",function(){return new w.WebGLReduceMean}],["ReduceMin","","1+",function(){return new w.WebGLReduceMin}],["ReduceProd","","1+",function(){return new w.WebGLReduceProd}],["ReduceSum","","1+",function(){return new w.WebGLReduceSum}],["ReduceSumSquare","","1+",function(){return new w.WebGLReduceSumSquare}],["Relu","","6+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslRelu())}],["Reshape","","5+",function(){return new _.WebGLReshape}],["Sigmoid","","6+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslSigmoid())}],["Sin","","7+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslSin())}],["Slice","","10+",function(){return new x.WebGLSliceV10}],["Slice","","1-9",function(){return new x.WebGLSlice}],["Softmax","","1+",function(){return new T.WebGLSoftmax}],["Split","","2+",function(t){return new S.WebGLSplit(t.outputs.length)}],["Sqrt","","6+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslSqrt())}],["Squeeze","","1+",function(){return new O.WebGLSqueeze}],["Sub","","7+",function(){return new a.WebGLBinaryOp(o.NUMBER_TYPES,a.glslSub())}],["Sum","","6+",function(){return new P.WebGLSum}],["Tan","","7+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslTan())}],["Tanh","","6+",function(){return new k.WebGLUnaryOp(o.FLOAT_TYPES,k.glslTanh())}],["Tile","","6+",function(){return new A.WebGLTile}],["Transpose","","1+",function(){return new E.WebGLTranspose}],["Unsqueeze","","1+",function(){return new D.WebGLUnsqueeze}],["Xor","","7+",function(){return new a.WebGLBinaryOp(["bool"],a.glslXor())}]]},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(14),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e.map((function(e){return t.getOrCreateTextureLayout(e)})),r=e[0].dims.slice(),o=r.length,i=n[1],s=a.getGlsl(t.session.backend.glContext.version),u="\n      float process(int["+o+"] indices) {\n        vec2 position = offsetToCoords(indices[1], "+i.width+", "+i.height+");\n        float scale = getColorAsFloat("+s.texture2D+"(Scale, position));\n        float mean = getColorAsFloat("+s.texture2D+"(Mean, position));\n        float variance = getColorAsFloat("+s.texture2D+"(Variance, position));\n        float b = getColorAsFloat("+s.texture2D+"(B, position));\n\n        return scale * ( (_A(indices) - mean) / sqrt(variance + float("+this.epsilon+")) ) + b;\n      }";return{inputLayouts:n,outputLayout:t.createTextureLayoutFromShape(r),samplers:["A","Scale","B","Mean","Variance"],shaderSource:u}},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];n.slice(1).forEach((function(e){return r.push(t.getOrCreateTextureData(e))}));var o=t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type);return{inputTextureDatas:r,outputTextureData:o,uniformData:{}}},e}(i.BatchNormalization);e.WebGLBatchNormalization=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),a=n(0),s=n(5),u=n(2),c=function(t){function e(e,n,r,o){var i=t.call(this,e,r,o)||this;return i.glslFunc=n,i}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e.map((function(e){return t.getOrCreateTextureLayout(e)}));if(!a.ShapeUtil.areEqual(e[0].dims,e[1].dims)){var r=a.BroadcastUtil.calcShape(e[0].dims,e[1].dims,!1);if(!r)throw new Error("Can't perform binary op on the given tensors");var o=r.length,i=0!==e[0].dims.length?e[0].dims.length:1,s=0!==e[1].dims.length?e[1].dims.length:1,c=0!==e[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",l=0!==e[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",f="\n      "+this.glslFunc.body+"\n      float process(int indices["+o+"]) {\n        int aindices["+i+"];\n        int bindices["+s+"];\n        "+c+"\n        "+l+"\n        return "+this.glslFunc.name+"(_A(aindices), _B(bindices));\n    }";return{inputLayouts:n,outputLayout:t.createTextureLayoutFromShape(r),samplers:["A","B"],shaderSource:f}}var p=u.getGlsl(t.session.backend.glContext.version),h="\n    "+this.glslFunc.body+"\n    void main() {\n      vec4 v1 = "+p.texture2D+"(A, TexCoords);\n      vec4 v2 = "+p.texture2D+"(B, TexCoords);\n      vec4 result = "+this.glslFunc.name+"(v1, v2);\n      "+p.output+" = result;\n    }\n    ";return{hasMain:!0,inputLayouts:n,outputLayout:t.createTextureLayoutFromShape(e[0].dims),samplers:["A","B"],shaderSource:h}},e.prototype.createRunData=function(t,e,n){return{inputTextureDatas:n.map((function(n,r){return t.getOrCreateTextureData(n,e.inputLayouts[r])})),outputTextureData:t.createTextureDataFromLayout(e.outputLayout,this.resultType?this.resultType:n[0].type),uniformData:{}}},e}(i.BinaryOp);e.WebGLBinaryOp=c,e.glslAdd=function(){return{body:"\n  float add_(float a, float b) {\n    return a + b;\n  }\n  vec4 add_(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  ",name:"add_",type:s.FunctionType.ValueBased}},e.glslDiv=function(){return{body:"\n  float div_(float a, float b) {\n    return a / b;\n  }\n  vec4 div_(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  ",name:"div_",type:s.FunctionType.ValueBased}},e.glslMul=function(){return{body:"\n  float mul_(float a, float b) {\n    return a * b;\n  }\n  vec4 mul_(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  ",name:"mul_",type:s.FunctionType.ValueBased}},e.glslSub=function(){return{body:"\n  float sub_(float a, float b) {\n    return a - b;\n  }\n  vec4 sub_(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  ",name:"sub_",type:s.FunctionType.ValueBased}},e.glslEqual=function(){return{body:"\n  float equal_(float a, float b) {\n    return float(a == b);\n  }\n  vec4 equal_(vec4 v1, vec4 v2) {\n    return vec4( v1 == v2 );\n  }\n  ",name:"equal_",type:s.FunctionType.ValueBased}},e.glslGreater=function(){return{body:"\n  float greater_(float a, float b) {\n    return float(a > b);\n  }\n  vec4 greater_(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  ",name:"greater_",type:s.FunctionType.ValueBased}},e.glslLess=function(){return{body:"\n  float less_(float a, float b) {\n    return float(a < b);\n  }\n  vec4 less_(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  ",name:"less_",type:s.FunctionType.ValueBased}},e.glslAnd=function(){return{body:"\n  float and_(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 and_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  ",name:"and_",type:s.FunctionType.ValueBased}},e.glslOr=function(){return{body:"\n  float or_(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 or_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  ",name:"or_",type:s.FunctionType.ValueBased}},e.glslXor=function(){return{body:"\n  float xor_(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 xor_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  ",name:"xor_",type:s.FunctionType.ValueBased}},e.glslPow=function(){return function(t){var e="pow_";return{body:"\n  float pow_(float a, float b) {\n    return pow(a, b);\n  }\n  vec4 pow_(vec4 v1, vec4 v2) {\n    return pow(v1, v2);\n  }\n  ",name:e,type:s.FunctionType.ValueBased}}()},e.glslPRelu=function(){return{body:"\n  float prelu_(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 prelu_(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  ",name:"prelu_",type:s.FunctionType.ValueBased}}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(45),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e[0].dims.slice(),r=a.getGlsl(t.session.backend.glContext.version),o="\n      const float min = float("+this.min+");\n      const float max = float("+this.max+");\n      void main() {\n        float v = "+r.texture2D+"(A, TexCoords).r;\n        "+r.output+" = vec4(clamp(v, min, max));\n      }\n      ";return{inputLayouts:[t.getOrCreateTextureLayout(e[0])],outputLayout:t.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:o,hasMain:!0}},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.Clip);e.WebGLClip=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e[0].dims.slice();if(this.axis>=n.length||this.axis<-1*n.length)throw new Error("axis specified for concat doesn't match input dimensionality");this.axis<0&&(this.axis=n.length+this.axis);for(var r=n.slice(0),o=1;o<e.length;o++)for(var i=e[o].dims.slice(),a=0;a<n.length;a++)if(a===this.axis)r[this.axis]+=i[a];else if(n[a]!==i[a])throw new Error("non concat dimensions must match");var s,u=r.length;s=e.length<5?this.getTextureIndexWhereDataResidesLinearSearch(e.length):this.getTextureIndexWhereDataResidesBinarySearch(e.length);var c=this.fetchDataFromCorrectTextureMethod(e.length,u),l=this.getValueFromArrayIndexMethod(e.length),f=e.map((function(t,e){return"X"+e})),p="\n      "+c+"\n      "+l+"\n      "+s+"\n      float process(int indices["+u+"]) {\n        int textureIndex = getTextureWhereDataResides (indices["+this.axis+"]);\n\n        if(textureIndex != 0) {\n          indices["+this.axis+"] = indices["+this.axis+"] - int(getValueFromArrayIndex(sizeInConcatAxis, textureIndex-int(1)));\n        }\n\n        return fetchDataFromCorrectTexture(textureIndex, indices);\n      }";return{inputLayouts:e.map((function(e){return t.getOrCreateTextureLayout(e)})),outputLayout:t.createTextureLayoutFromShape(r),samplers:f,variables:[{name:"sizeInConcatAxis",type:"int",arrayLength:e.length}],shaderSource:p}},e.prototype.createRunData=function(t,e,n){for(var r=n.map((function(n,r){return t.getOrCreateTextureData(n,e.inputLayouts[r])})),o=new Array(e.inputLayouts.length),i=0,a=0;a<e.inputLayouts.length;++a)i+=e.inputLayouts[a].shape[this.axis],o[a]=i;var s={sizeInConcatAxis:o};return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:s}},e.prototype.getTextureIndexWhereDataResidesLinearSearch=function(t){return"int getTextureWhereDataResides(int index) {\n      for(int i=0; i<"+t+"; i++) {\n          if(index < int(sizeInConcatAxis[i])){\n              return i;\n          }\n        }\n      }"},e.prototype.getTextureIndexWhereDataResidesBinarySearch=function(t){return this.getTextureIndexWhereDataResidesLinearSearch(t)},e.prototype.fetchDataFromCorrectTextureMethod=function(t,e){for(var n=["float fetchDataFromCorrectTexture(int textureIndex, int indices["+e+"]) {"],r=0;r<t;++r)0===r?n.push("\tif (textureIndex == "+r+") { return _X"+r+"(indices); }"):r===t-1?n.push("\telse { return _X"+r+"(indices); }"):n.push("\telse if (textureIndex == "+r+") { return _X"+r+"(indices); }");return n.push("\t}"),n.join("\n")},e.prototype.getValueFromArrayIndexMethod=function(t){for(var e=["int getValueFromArrayIndex(int arr["+t+"], int index) {"],n=0;n<t;++n)0===n?e.push("\tif (index == "+n+") { return arr["+n+"]; }"):n===t-1?e.push("\telse { return arr["+n+"]; }"):e.push("\telse if (index == "+n+") { return arr["+n+"]; }");return e.push("\t}"),e.join("\n")},e}(n(29).Concat);e.WebGLConcat=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),u=n(16),c=n(0),l=n(2),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.readSize=8,e.blockSize=64,e}return o(e,t),e.prototype.run=function(t,e){var n=t.session.programManager;if(!this.artifacts){this.artifacts=[];for(var r=this.createProgramInfos(t,e),o=0;o<r.length;++o){var i=t.session.programManager.build(r[o]);this.artifacts.push(i)}}var a=this.createRunDatas(t,this.artifacts.map((function(t){return t.programInfo})),e);return n.run(this.artifacts[0],a[0]),n.run(this.artifacts[1],a[1]),[a[1].outputTextureData.tensor]},e.prototype.createProgramInfos=function(t,n){var r=n[0].dims.slice(),o=n[1].dims.slice();if(0===this.kernelShape.length)for(var i=n[1].dims,a=2;a<i.length;++a)this.kernelShape.push(i[a]);c.PoolConvUtil.adjustPadsBasedOnAutoPad(n[0].dims,this.strides,this.dilations,this.kernelShape,this.pads,this.autoPad),s.Logger.verbose("Conv","autpPad:"+this.autoPad+", dilations:"+this.dilations+", group:"+this.group+", kernelShape:"+this.kernelShape+", pads:"+this.pads+", strides:"+this.strides);var u=e.calcOutputShape(r,o,this.dilations,this.pads,this.strides),l=this.createIm2ColProgramInfo(t,n,u);return[l,this.createDotProductProgramInfo(t,l.outputLayout,n,u)]},e.prototype.createRunDatas=function(t,n,r){var o=r[1],i=r.length>=3?r[2]:void 0,a=t.getTextureData(o.dataId);if(!a){s.Logger.verbose("Conv","Did not find the adjustedKernel texture in the cache. Creating rew.");var u=e.prepKernelForDotProduct(o.dims.slice(),this.group,4,o.floatData);a=t.createTextureDataFromLayoutBindTensor(n[1].inputLayouts[1],o.type,u,o)}var c={inputTextureDatas:[t.getOrCreateTextureData(r[0])],outputTextureData:t.createTextureDataFromLayout(n[0].outputLayout,r[0].type),uniformData:{}},l=[c.outputTextureData,a];return i&&l.push(t.getOrCreateTextureData(i)),[c,{inputTextureDatas:l,outputTextureData:t.createTextureDataFromLayout(n[1].outputLayout,r[0].type),uniformData:{},draw:function(t,e){for(var n=t.gl,r=e.programInfo.params.sharedDim,o=e.programInfo.params.sharedDimReadSize,i=e.uniformLocations.find((function(t){return"sharedDimOffset"===t.name})).location,a=!1,u=0;u<r;u+=o)s.Logger.verbose("MatMul2D","k = "+u+", sharedDim: "+r+", readSize = "+o),u===o&&(a=!0,n.enable(n.BLEND),t.checkError(),n.blendEquation(n.FUNC_ADD),t.checkError(),n.blendFunc(n.ONE,n.ONE),t.checkError()),n.uniform1i(i,u),t.checkError(),t.draw();a&&(n.disable(n.BLEND),t.checkError())}}]},e.prototype.createIm2ColProgramInfo=function(t,n,r){var o=n[0].dims.slice(),i=n[1].dims.slice(),a=r.length,s=e.calcIm2ColDims(o,i,r,4),u=t.createTextureLayoutFromShape(s,4,[s[0],s[1],s[2],4*s[3]],{breakAxis:3}),c="\n      const int XC = "+o[1]+";\n      const int XH = "+o[2]+";\n      const int XW = "+o[3]+";\n      const int KH = "+this.kernelShape[0]+";\n      const int KW = "+this.kernelShape[1]+";\n      const int dilationH = "+this.dilations[0]+";\n      const int dilationW = "+this.dilations[1]+";\n      const int strideH = "+this.strides[0]+";\n      const int strideW = "+this.strides[1]+";\n      const int padH = "+this.pads[0]+";\n      const int padW = "+this.pads[1]+";\n      const int KHKW = KH*KW;\n      const int XCKHKW = XC * KHKW;\n      const int outputChannels = 4;\n\n      vec4 process(int indices["+a+"]) {\n        int b  = indices[0]; // batch size\n        int oh = indices[1] * strideH - padH; //output height\n        int ow = indices[2] * strideW - padW; //output width\n        int p = indices[3] * outputChannels; //patch\n        vec4 v = vec4(0.0);\n        for(int i=0; i < outputChannels; ++i) {\n          if(p < XCKHKW) {\n            int patchC = p / KHKW;\n            int patchH = (p - patchC*KHKW) / KW;\n            int patchW = (p - patchC*KHKW) - patchH * KW;\n            int xh2 = oh + patchH * dilationH;\n            int xw2 = ow + patchW * dilationW;\n            int x["+o.length+"];\n            x[0] = b;\n            x[1] = patchC;\n            x[2] = xh2;\n            x[3] = xw2;\n            if(xh2 >= 0 &&\n                xh2 < XH &&\n                xw2 >= 0 &&\n                xw2 < XW) {\n              v[i] = _X(x);\n            }\n          }\n          ++p;\n        }\n        return v;\n      }\n      ";return{inputLayouts:[t.createTextureLayoutFromShape(o)],outputLayout:u,samplers:["X"],shaderSource:c}},e.prototype.createDotProductProgramInfo=function(t,e,n,r){var o,i=n[0].dims.slice(),a=n[1].dims.slice(),s=[a[0],Math.ceil(i[1]*a[2]*a[3]/4)],u=t.createTextureLayoutFromShape(s,4,[s[0],4*s[1]],{breakAxis:1}),c=r.length,f=[e,u];3===n.length&&(o=t.createTextureLayoutFromShape(n[2].dims.slice()),f.push(o));var p=t.createTextureLayoutFromShape(r),h=n.length<3?"0.0":"_B(b)",d=e.shape[3],y=t.session.backend.glContext.isBlendSupported&&t.session.backend.matmulMaxBatchSize?this.calcSharedDimReadSize(t.session.backend.matmulMaxBatchSize,d):d,g=["Im2Col","K"];3===n.length&&g.push("B");var m=l.getGlsl(t.session.backend.glContext.version),v="\n    float process(int indices["+c+"]) {\n      int b[1];\n      b[0] = indices[1];\n      int im2col["+e.shape.length+"];\n      im2col[0] = indices[0];\n      im2col[1] = indices[2];\n      im2col[2] = indices[3];\n      int im2colOffset = im2col[0] * "+e.strides[0]+" + im2col[1] * "+e.strides[1]+" + im2col[2] * "+e.strides[2]+" + sharedDimOffset;\n      int kernelOffset = indices[1] * "+u.strides[0]+" + sharedDimOffset;\n      float sum = sharedDimOffset == 0 ? "+h+" : 0.0;\n      for (int i = 0; i < "+y+"; ++i) {\n        vec2 im2colCoords = offsetToCoords(im2colOffset, "+e.width+", "+e.height+");\n        vec2 kernelCoords = offsetToCoords(kernelOffset, "+u.width+", "+u.height+");\n        sum += dot("+m.texture2D+"(Im2Col, im2colCoords), "+m.texture2D+"(K, kernelCoords));\n        ++im2colOffset;\n        ++kernelOffset;\n      }\n      return sum;\n    }";return{inputLayouts:3===n.length?[e,u,o]:[e,u],outputLayout:p,shaderSource:v,samplers:g,variables:[{name:"sharedDimOffset",type:"int"}],params:{sharedDim:d,sharedDimReadSize:y}}},e.prepKernelForDotProduct=function(t,e,n,r){if(1===e&&(1===n||t[2]*t[3]%n==0))return r;for(var o=c.ShapeUtil.computeStrides(t),i=t[1]*t[2]*t[3],a=Math.ceil(i/n)*n,s=t[0]*a,u=new Float32Array(s),l=new Float32Array(a),f=0;f<t[0];++f){var p=f*o[0];l.set(r.slice(p,p+i),0);var h=f*a;u.set(l,h)}return u},e.calcIm2ColDims=function(t,e,n,r){return void 0===r&&(r=1),[n[0],n[2],n[3],Math.ceil(t[1]*e[2]*e[3]/r)]},e.calcOutputShape=function(t,e,n,r,o){var i,s=t[0],u=t.slice(2),c=u.length,l=e[0],f=e.slice(2).map((function(t,e){return t+(t-1)*(n[e]-1)})),p=u.map((function(t,e){return t+r[e]+r[e+c]})).map((function(t,e){return Math.floor((t-f[e]+o[e])/o[e])}));return(i=[s,l]).concat.apply(i,a(p))},e.prototype.calcSharedDimReadSize=function(t,e){return t<=0||e<t||e%t!=0?e:t},e.prototype.calcBlockSize=function(t){if(!(t.height<64))return[64,64]},e}(u.Conv);e.WebGLConv=f},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){if(this.testMode)return[e[0]];throw new Error("Non test mode Dropout is not implemented yet")},e.prototype.createProgramInfo=function(t,e){throw new Error("Non test mode Dropout is not implemented yet")},e.prototype.createRunData=function(t,e,n){throw new Error("Non test mode Dropout is not implemented yet")},e}(n(30).Dropout);e.WebGLDropout=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(125),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e[0].dims.slice(),r=a.getGlsl(t.session.backend.glContext.version),o="\n      void main() {\n        float v = "+r.texture2D+"(A, TexCoords).r;\n        "+r.output+" = vec4(v >= 0.0 ? v: (exp(v) - 1.0) * "+this.alpha.toExponential()+"); /* float number format */\n      }\n      ";return{inputLayouts:[t.getOrCreateTextureLayout(e[0])],outputLayout:t.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:o,hasMain:!0}},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.Elu);e.WebGLElu=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.alpha=t.getFloat("alpha",1)},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}();e.Elu=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(31),a=n(0),s=n(10),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){var n=a.ShapeUtil.flattenShape(e[0].dims,this.axis);return[s.reshape(t,e[0],n)]},e}(i.Flatten);e.WebGLFlatten=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e[0].dims.slice(),r=e[1].dims.slice(),o=new Array(n.length+r.length-1);if(0===o.length)throw Error("A scalar tensor output has not been supported");for(var i=[],a=0;a<o.length;a++)a<this.axis?(o[a]=n[a],i.push("inputIdx["+a+"] = outputIdx["+a+"];")):a<this.axis+r.length?(o[a]=r[a-this.axis],i.push("indexDataIdx["+(a-this.axis)+"] = outputIdx["+a+"];")):(o[a]=n[a-r.length+1],i.push("inputIdx["+(a-r.length+1)+"] = outputIdx["+a+"];"));var s="\n      float process(int outputIdx["+o.length+"]) {\n        int inputIdx["+n.length+"];\n        int indexDataIdx["+r.length+"];\n        "+i.join("\n        ")+"\n        inputIdx["+this.axis+"] = int(_B(indexDataIdx));\n        return _A(inputIdx);\n      }";return{inputLayouts:e.map((function(e){return t.getOrCreateTextureLayout(e)})),outputLayout:t.createTextureLayoutFromShape(o),samplers:["A","B"],shaderSource:s}},e.prototype.createRunData=function(t,e,n){var r=n.map((function(n,r){return t.getOrCreateTextureData(n,e.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(n(32).Gather);e.WebGLGather=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=n(19),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e[0].dims.slice(),r=e[1].dims.slice(),o=e[2].dims.slice(),a=i(s.GemmUtil.getShapeOfGemmResult(n,this.transA,r,this.transB,o),2),u=[a[0],a[1]];if(!u)throw new Error("Can't use gemm on the given tensors");var c=n[n.length-1],l="";this.transA&&(c=n[0]),this.transA&&this.transB?l="value += _A_T(a) * _B_T(b);":this.transA&&!this.transB?l="value += _A_T(a) * _B(b);":!this.transA&&this.transB?l="value += _A(a) * _B_T(b);":this.transA||this.transB||(l="value += _A(a) * _B(b);");var f=u.length,p="\n      float process(int indices["+f+"]) {\n          int a["+f+"];\n          int b["+f+"];\n          int c["+o.length+"];\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          bcastIndices_C(indices, c);\n\n          float value = 0.0;\n          for (int k=0; k<"+c+"; ++k) {\n              a["+(f-1)+"] = k;\n              b["+(f-2)+"] = k;\n              "+l+"\n          }\n\n          value = value * alpha;\n          value += beta * _C(c);\n          return value;\n      }";return{inputLayouts:e.map((function(e){return t.getOrCreateTextureLayout(e)})),outputLayout:t.createTextureLayoutFromShape(u),samplers:["A","B","C"],variables:[{name:"alpha",type:"float"},{name:"beta",type:"float"}],shaderSource:p}},e.prototype.createRunData=function(t,e,n){var r=n.map((function(n,r){return t.getOrCreateTextureData(n,e.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{alpha:this.alpha,beta:this.beta}}},e}(a.Gemm);e.WebGLGemm=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e[0].dims.slice(),r=n.length,o="\n      "+this.createGetBiasMethod(this.bias.length)+"\n      float process(int indices["+r+"]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }";return{inputLayouts:[t.getOrCreateTextureLayout(e[0])],outputLayout:t.createTextureLayoutFromShape(n),samplers:["X"],variables:[{name:"bias",type:"float",arrayLength:this.bias.length},{name:"scale",type:"float"}],shaderSource:o}},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{bias:this.bias,scale:this.scale}}},e.prototype.createGetBiasMethod=function(t){for(var e=["float getBias(float bias["+t+"], int channel) {"],n=0;n<t;++n)0===n?e.push("\tif (channel == "+n+") { return bias["+n+"]; }"):n===t-1?e.push("\telse { return bias["+n+"]; }"):e.push("\telse if (channel == "+n+") { return bias["+n+"]; }");return e.push("\t}"),e.join("\n")},e}(n(33).ImageScaler);e.WebGLImageScaler=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(131),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e[0].dims.slice(),r=a.getGlsl(t.session.backend.glContext.version),o="\n      void main() {\n        float v = "+r.texture2D+"(A, TexCoords).r;\n        "+r.output+" = vec4(v < 0.0 ? v * float("+this.alpha+") : v);\n      }\n      ";return{hasMain:!0,inputLayouts:[t.getOrCreateTextureLayout(e[0])],outputLayout:t.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:o}},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.LeakyRelu);e.WebGLLeakyRelu=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.alpha=t.getFloat("alpha",.01)},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}();e.LeakyRelu=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),a=n(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e[0].dims,r=e[1].dims,o=a.BroadcastUtil.calcShape(n,r,!0);if(!o)throw new Error("Can't use matmul on the given tensors");var i=o.length,s=n.length,u=r.length,c="\n      float process(int indices["+i+"]) {\n          int a["+s+"];\n          int b["+u+"];\n          bcastMatmulIndices_A(indices, a);\n          bcastMatmulIndices_B(indices, b);\n\n          float value;\n          for (int k=0; k<"+n[n.length-1]+"; ++k) {\n              a["+(s-1)+"] = k;\n              b["+(u-2)+"] = k;\n              value += _A(a) * _B(b);\n          }\n          return value;\n      }";return{inputLayouts:e.map((function(e){return t.getOrCreateTextureLayout(e)})),outputLayout:t.createTextureLayoutFromShape(o),samplers:["A","B"],shaderSource:c}},e.prototype.createRunData=function(t,e,n){var r=n.map((function(n,r){return t.getOrCreateTextureData(n,e.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.MatMul);e.WebGLMatMul=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(134),a=n(0),s=n(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=a.ShapeUtil.padShape(e[0].dims.slice(),this.pads),r=n.length,o=t.getOrCreateTextureLayout(e[0]),i="\n      "+c(s.getGlsl(t.session.backend.glContext.version),"A",o,this.mode,this.pads,this.value)+"\n      float process(int["+r+"] indices) {\n          return padA(indices);\n      }";return{inputLayouts:[o],outputLayout:t.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:i}},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.Pad);function c(t,e,n,r,o,i){switch(r){case"constant":return function(t,e,n,r,o,i,a,s){for(var u=n.length,c="",l=u-1;l>=0;--l)c+="\n          k = m["+l+"] - "+a[l]+";\n          if (k < 0)  return constant;\n          if (k >= "+n[l]+") return constant;\n          offset += k * "+r[l]+";\n          ";return"\n        float pad"+e+"(int m["+u+"]) {\n          const float constant = float("+s+");\n          int offset = 0;\n          int k = 0;\n          "+c+"\n          vec2 coords = offsetToCoords(offset, "+o+", "+i+");\n          float value = getColorAsFloat("+t.texture2D+"("+e+", coords));\n          return value;\n        }\n        "}(t,e,n.shape,n.strides,n.width,n.height,o,i);case"reflect":return function(t,e,n,r,o,i,a){for(var s=n.length,u="",c=s-1;c>=0;--c)u+="\n        k = m["+c+"] - "+a[c]+";\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = "+2*(n[c]-1)+";\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= "+n[c]+") { k = _2n_1 - k; }\n        }\n        offset += k * "+r[c]+";\n        ";return"\n      float pad"+e+"(int m["+s+"]) {\n        int offset = 0;\n        int k = 0;\n        "+u+"\n        vec2 coords = offsetToCoords(offset, "+o+", "+i+");\n        float value = getColorAsFloat("+t.texture2D+"("+e+", coords));\n        return value;\n      }\n      "}(t,e,n.shape,n.strides,n.width,n.height,o);case"edge":return function(t,e,n,r,o,i,a){for(var s=n.length,u="",c=s-1;c>=0;--c)u+="\n      k = m["+c+"] - "+a[c]+";\n      if (k < 0)  k = 0;\n      if (k >= "+n[c]+") k = "+(n[c]-1)+";\n      offset += k * "+r[c]+";\n      ";return"\n    float pad"+e+"(int m["+s+"]) {\n      int offset = 0;\n      int k = 0;\n      "+u+"\n      vec2 coords = offsetToCoords(offset, "+o+", "+i+");\n      float value = getColorAsFloat("+t.texture2D+"("+e+", coords));\n      return value;\n    }\n    "}(t,e,n.shape,n.strides,n.width,n.height,o);default:throw new Error("Invalid mode")}}e.WebGLPad=u,e.getPadFunction=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.initialize=function(t){this.mode=t.getString("mode","constant"),this.value=t.getFloat("value",0),this.pads=t.getInts("pads")},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"float32"===t[0].type||"float64"===t[0].type},t}();e.Pad=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),a=n(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){return c(t,e,!0,this.kernelShape,this.autoPad,this.strides,this.pads,this.countIncludePad)},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.GlobalAveragePool);e.WebGLGlobalAveragePool=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){return c(t,e,!1,this.kernelShape,this.autoPad,this.strides,this.pads,this.countIncludePad)},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.AveragePool);function c(t,e,n,r,o,i,s,u){void 0===r&&(r=[]),void 0===o&&(o=""),void 0===i&&(i=[]),void 0===s&&(s=[]);var c=e[0].dims.slice();a.PoolConvUtil.adjustPoolAttributes(n,c,r,i,s);var l=a.PoolConvUtil.computePoolOutputShape(n,c,i,r,s,o),f=a.ShapeUtil.size(r),p="";p+=u?"value /= float("+f+");":"value /= float("+f+" - pad);";var d=t.getOrCreateTextureLayout(e[0]),y="\n      "+h(d,r,s,i,"value += _X(x);",p,"0.0")+"\n    ";return{inputLayouts:[d],outputLayout:t.createTextureLayoutFromShape(l),samplers:["X"],shaderSource:y}}e.WebGLAveragePool=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){return p(t,e,!0,this.kernelShape,this.autoPad,this.strides,this.pads)},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.GlobalMaxPool);e.WebGLGlobalMaxPool=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){return p(t,e,!1,this.kernelShape,this.autoPad,this.strides,this.pads)},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.MaxPool);function p(t,e,n,r,o,i,s){void 0===r&&(r=[]),void 0===o&&(o=""),void 0===i&&(i=[]),void 0===s&&(s=[]);var u=e[0].dims.slice();a.PoolConvUtil.adjustPoolAttributes(n,u,r,i,s);var c=a.PoolConvUtil.computePoolOutputShape(n,u,i,r,s,o),l=t.createTextureLayoutFromShape(u),f="\n    "+h(l,r,s,i,"\n              value = max(_X(x), value);\n      ","","-1e5")+"\n  ";return{inputLayouts:[l],outputLayout:t.createTextureLayoutFromShape(c),samplers:["X"],shaderSource:f}}function h(t,e,n,r,o,i,s){var u=t.shape,c=t.shape.length;if(e.length<=2){var l,f=e[e.length-1],p=r[r.length-1],h=n[n.length/2-1],g=n[n.length-1],m=u[c-1],v="",b="";if(l=h+g!==0?"\n                for (int i = 0; i < "+f+"; i++) {\n                  x["+c+" - 1] = indices["+c+" - 1] * "+p+" - "+h+" + i;\n                  if (x["+c+" - 1] < 0 || x["+c+" - 1] >= "+m+") {\n                    pad++;\n                    continue;\n                  }\n                  "+o+"\n                }":"\n                for (int i = 0; i < "+f+"; i++) {\n                  x["+c+" - 1] = indices["+c+" - 1] * "+p+" - "+h+" + i;\n                  "+o+"\n                }",2===e.length){var w=e[e.length-2],_=r[r.length-2],x=n[n.length/2-2],T=n[n.length-2],S=u[c-2];v=x+T!==0?"\n              for (int j = 0; j < "+w+"; j++) {\n                x["+c+" - 2] = indices["+c+" - 2] * "+_+" - "+x+" + j;\n                if (x["+c+" - 2] < 0 || x["+c+" - 2] >= "+S+") {\n                  pad+= "+f+";\n                  continue;\n                }\n            ":"\n                for (int j = 0; j < "+w+"; j++) {\n                  x["+c+" - 2] = indices["+c+" - 2] * "+_+" - "+x+" + j;\n                ",b="\n              }\n            "}return"\n            float process(int indices["+c+"]) {\n              int x["+c+"];\n              copyVec(indices, x);\n\n              float value = "+s+";\n              int pad = 0;\n              "+v+"\n              "+l+"\n              "+b+"\n              "+i+"\n              return value;\n            }\n          "}var O=a.ShapeUtil.size(e),P=a.ShapeUtil.computeStrides(e),A=P.length,E=n.length,k=y(A),D=d(u,"inputDims"),I=d(n,"pads"),L=d(P,"kernelStrides");return"\n            "+k+"\n            float process(int indices["+c+"]) {\n                int x["+c+"];\n                copyVec(indices, x);\n                int offset["+A+"];\n                int pads["+E+"];\n                int inputDims["+c+"];\n                int kernelStrides["+A+"];\n                int strides["+A+"];\n                "+I+"\n                "+D+"\n                "+d(r,"strides")+"\n                "+L+"\n\n                float value = "+s+";\n                int pad = 0;\n                bool isPad = false;\n                for (int i = 0; i < "+O+"; i++) {\n                    offsetToIndices(i, kernelStrides, offset);\n                    isPad = false;\n                    for (int j = "+c+" - "+A+"; j < "+c+"; j++) {\n                      x[j] = indices[j] * strides[j - "+c+" + "+A+"]\n                        + offset[j - "+c+" + "+A+"] - pads[j - 2];\n                      "+(n.reduce((function(t,e){return t+e}))?"\n                if (x[j] >= inputDims[j] || x[j] < 0) {\n                  pad++;\n                  isPad = true;\n                  break;\n                }\n              }\n              if (!isPad) {\n                "+o+"\n              }":"\n                  }\n                  "+o)+"\n                }\n                "+i+"\n\n                return value;\n            }"}function d(t,e){for(var n="",r=0;r<t.length;r++)n+="\n      "+e+"["+r+"] = "+t[r]+";\n    ";return n}function y(t){return"\n    void offsetToIndices(int offset, int["+t+"] strides, out int["+t+"] indices) {\n      if ("+t+" == 0) {\n        return;\n      }\n      for (int i = 0; i < "+t+" - 1; ++i) {\n        indices[i] = offset / strides[i];\n        offset -= indices[i] * strides[i];\n      }\n      indices["+t+" - 1] = offset;\n    }"}e.WebGLMaxPool=f,e.GeneratePoolingCode=h,e.copyArray=d,e.offsetToIndices=y},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){for(var n=[],r=e[0].dims.length||1,o=[],i=this.getOps(e),a=i[1],s=0;s<e[0].dims.length;s++)this.axes.indexOf(s)>=0||0===this.axes.length?(this.keepDims&&n.push(1),a="\n        for(int j"+s+" = 0; j"+s+" < "+e[0].dims[s]+"; j"+s+"++) {\n          inputIdx["+s+"] = j"+s+";\n          "+a+"\n        }\n        "):(o.push("inputIdx["+s+"] = outputIdx["+n.length+"];"),n.push(e[0].dims[s]));var u="\n      float process(int outputIdx["+(n.length||1)+"]) {\n        float value;                 // final result\n        int inputIdx["+r+"];      // addressing input data\n        "+o.join("\n")+"\n        "+i[0]+"       // init ops for reduce max/min\n        "+a+"\n        "+i[2]+"       // final computation for reduce mean\n        return value;\n      }";return{inputLayouts:e.map((function(e){return t.getOrCreateTextureLayout(e)})),outputLayout:t.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:u}},e.prototype.createRunData=function(t,e,n){var r=n.map((function(n,r){return t.getOrCreateTextureData(n,e.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(n(35).ReduceBase),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOps=function(t){return["value = 0.0;","value += _A(inputIdx);",""]},e}(i);e.WebGLReduceSum=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOps=function(t){for(var e=1,n=0;n<t[0].dims.length;n++)(this.axes.indexOf(n)>=0||0===this.axes.length)&&(e*=t[0].dims[n]);return["value = 0.0;","value += _A(inputIdx);","value /= "+e+".;"]},e}(i);e.WebGLReduceMean=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOps=function(t){for(var e=[],n=0;n<t[0].dims.length;n++)(this.axes.indexOf(n)>=0||0===this.axes.length)&&e.push("inputIdx["+n+"] = 0;");return[e.join("\n")+"\nvalue = _A(inputIdx);","value = max(value, _A(inputIdx));",""]},e}(i);e.WebGLReduceMax=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOps=function(t){for(var e=[],n=0;n<t[0].dims.length;n++)(this.axes.indexOf(n)>=0||0===this.axes.length)&&e.push("inputIdx["+n+"] = 0;");return[e.join("\n")+"\nvalue = _A(inputIdx);","value = min(value, _A(inputIdx));",""]},e}(i);e.WebGLReduceMin=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOps=function(t){return["value = 1.0;","value *= _A(inputIdx);",""]},e}(i);e.WebGLReduceProd=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOps=function(t){return["value = 0.0;","value += _A(inputIdx);","value = log(value);"]},e}(i);e.WebGLReduceLogSum=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOps=function(t){return["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]},e}(i);e.WebGLReduceSumSquare=p},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(37),a=n(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){return c(t,e[0],this.starts,this.ends,this.axes)},e.prototype.createRunData=function(t,e,n){return l(t,e,n)},e}(i.Slice);e.WebGLSlice=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){if(!t.session.isInitializer(e[1].dataId)||!t.session.isInitializer(e[2].dataId)||e.length>=4&&!t.session.isInitializer(e[3].dataId)||e.length>=5&&!t.session.isInitializer(e[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(e.length>=5&&e[4].integerData.some((function(t){return 1!==t})))throw new Error("currently non-1 steps is not supported for Slice");var n=Array.from(e[1].integerData),r=Array.from(e[2].integerData),o=e.length>=4?Array.from(e[3].integerData):[];return c(t,e[0],n,r,o)},e.prototype.createRunData=function(t,e,n){return l(t,e,n)},e}(i.SliceV10);function c(t,e,n,r,o){0===o.length&&(o=e.dims.slice(0).map((function(t,e){return e}))),o=o.map((function(t){return a.ShapeUtil.parseAxis(t,e.dims.length)})),n=n.map((function(t,n){return t>e.dims[o[n]]-1?e.dims[o[n]]:a.ShapeUtil.parseAxis(t,e.dims[o[n]])})),r=r.map((function(t,n){return t>e.dims[o[n]]-1?e.dims[o[n]]:a.ShapeUtil.parseAxis(t,e.dims[o[n]])}));for(var i=e.dims.slice(),s=[],u=0;u<o.length;u++)i[o[u]]=r[u]-n[u],n[u]>0&&s.push("outputIdx["+o[u]+"] += "+n[u]+";");var c="\n      float process(int outputIdx["+i.length+"]) {\n        "+s.join("\n      ")+"\n        return _A(outputIdx);\n      }";return{inputLayouts:[t.getOrCreateTextureLayout(e)],outputLayout:t.createTextureLayoutFromShape(i),samplers:["A"],shaderSource:c}}function l(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}}e.WebGLSliceV10=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(21),u=n(0),c=n(2),l=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.run=function(t,e){var n=this;this.artifacts||(this.artifacts=[],this.createProgramInfos(t,e).forEach((function(e,r){var o=t.session.programManager.build(e);n.artifacts.push(o)})));var r=this.createRunDatas(t,this.artifacts.map((function(t){return t.programInfo})),e);return r.forEach((function(e,r){return t.session.programManager.run(n.artifacts[r],e)})),[r[r.length-1].outputTextureData.tensor]},e.prototype.createSoftMaxProgramInfo=function(t,e,n,r,o,i){var a=e.dims.slice(),s=t.createTextureLayoutFromShape(a),u=a,c=u.length,l=s.width,f=s.height;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.shape.length||1!==i.shape.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o.shape[0]!==n||i.shape[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");var p="\n    float process(int["+c+"] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, "+l+", "+f+");\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / "+r+";\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }";return{inputLayouts:[s,o,i],outputLayout:t.createTextureLayoutFromShape(u),samplers:["A","Max","Norm"],shaderSource:p}},e.prototype.createComputScaleProgramInfo=function(t,e,n,r,o,i){var a=t.createTextureLayoutFromShape(e.dims.slice()),s=i.length,u=a.width,l=a.height;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length)throw new Error("Dimensionality of the output should be 1");if(i[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==o.shape.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o.shape[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");var f="\n    float process(int["+s+"] indices) {\n\n      int logical_row_start_offset = indices[0] * "+r+";\n\n      float norm_factor = 0.0;\n      float max = _Max(indices);\n      for(int i=0; i<"+r+"; ++i)\n      {\n        norm_factor += exp(getColorAsFloat("+c.getGlsl(t.session.backend.glContext.version).texture2D+"(A, offsetToCoords(logical_row_start_offset + i, "+u+", "+l+"))) - max);\n      }\n\n      return norm_factor;\n    }";return{inputLayouts:[a,o],outputLayout:t.createTextureLayoutFromShape(i),samplers:["A","Max"],shaderSource:f}},e.prototype.createComputeMaxProgramInfo=function(t,e,n,r,o){var i=t.createTextureLayoutFromShape(e.dims.slice()),a=o.length,s=i.width,u=i.height;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length)throw new Error("Dimensionality of the output should be 1");if(o[0]!==n)throw new Error("Shape of the output should be equal to logical row count");var l=c.getGlsl(t.session.backend.glContext.version),f="\n        float process(int["+a+"] indices) {\n\n          int logical_row_start_offset = indices[0] * "+r+";\n\n          float max = getColorAsFloat("+l.texture2D+"(A, offsetToCoords(logical_row_start_offset, "+s+", "+u+" )));\n          for(int i=1; i<"+r+"; ++i)\n          {\n            float current = getColorAsFloat("+l.texture2D+"(A, offsetToCoords(logical_row_start_offset + i, "+s+", "+u+")));\n            if(current > max)\n              max = current;\n          }\n\n          return max;\n        }";return{inputLayouts:[i],outputLayout:t.createTextureLayoutFromShape(o),samplers:["A"],shaderSource:f}},e.prototype.createProgramInfos=function(t,e){var n=e[0].dims.slice(),r=u.ShapeUtil.parseAxis(this.axis,n.length),o=u.ShapeUtil.sizeToDimension(n,r),i=u.ShapeUtil.sizeFromDimension(n,r),a=this.createComputeMaxProgramInfo(t,e[0],o,i,[o]),s=this.createComputScaleProgramInfo(t,e[0],o,i,a.outputLayout,[o]);return[a,s,this.createSoftMaxProgramInfo(t,e[0],o,i,a.outputLayout,s.outputLayout)]},e.prototype.createRunDatas=function(t,e,n){var r=n[0].type,o=t.getOrCreateTextureData(n[0],e[0].inputLayouts[0]),i=[];i.push({inputTextureDatas:[o],outputTextureData:t.createTextureDataFromLayout(e[0].outputLayout,r),uniformData:{}});for(var s=1;s<e.length;++s)i.push({inputTextureDatas:a(i[s-1].inputTextureDatas,[i[s-1].outputTextureData]),outputTextureData:t.createTextureDataFromLayout(e[s].outputLayout,r),uniformData:{}});return i},e}(s.Softmax);e.WebGLSoftmax=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=n(140),s=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){var n=this,r=this.getProgramCount(t,e);if(!this.artifacts){this.artifacts=[];for(var o=0;o<r;++o){var i=this.createProgramInfo(t,e[0],o),a=t.session.programManager.build(i);this.artifacts.push(a)}}var s=[];return this.artifacts.forEach((function(r){var o=n.createRunData(t,r.programInfo,e);t.session.programManager.run(r,o),s.push(o.outputTextureData.tensor)})),s},e.prototype.getProgramCount=function(t,e){return i(s.SplitUtil.splitShape(e[0].dims,this.axis,this.split,this.numOutputs),2)[1].length},e.prototype.createProgramInfo=function(t,e,n){var r=i(s.SplitUtil.splitShape(e.dims,this.axis,this.split,this.numOutputs),2),o=r[0],a=r[1][n],u=o[n],c="\n      float process(int indices["+u.length+"]) {\n        indices["+this.axis+"] += "+a+";\n        return _A(indices);\n      }";return{inputLayouts:[t.getOrCreateTextureLayout(e)],outputLayout:t.createTextureLayoutFromShape(u),samplers:["A"],shaderSource:c}},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(a.Split);e.WebGLSplit=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.numOutputs=t}return t.prototype.initialize=function(t){this.axis=t.getInt("axis",0),this.split=t.getInts("split",[])},t.prototype.checkInputs=function(t){return!(!t||1!==t.length)&&this.checkInputTypes(t)},t.prototype.checkInputTypes=function(t){return"int8"===t[0].type||"uint8"===t[0].type||"int16"===t[0].type||"uint16"===t[0].type||"int32"===t[0].type||"uint32"===t[0].type||"float32"===t[0].type||"float64"===t[0].type||"bool"===t[0].type},t}();e.Split=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(38),a=n(0),s=n(10),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){var n=a.ShapeUtil.squeezeShape(e[0].dims,this.axes);return[s.reshape(t,e[0],n)]},e}(i.Squeeze);e.WebGLSqueeze=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=a.getGlsl(t.session.backend.glContext.version),r=e[0].dims.slice(),o=e.map((function(t,e){return n.texture2D+"(X"+e+",TexCoords)"})).join(" + "),i=e.map((function(t,e){return"X"+e}));return{inputLayouts:e.map((function(e){return t.getOrCreateTextureLayout(e)})),outputLayout:t.createTextureLayoutFromShape(r),samplers:i,shaderSource:"\n      void main() {\n        vec4 result = "+o+";\n        "+n.output+" = result;\n      }",hasMain:!0}},e.prototype.createRunData=function(t,e,n){var r=n.map((function(n,r){return t.getOrCreateTextureData(n,e.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.Sum);e.WebGLSum=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){for(var n=e[0].dims.slice(),r=new Array(n.length),o=[],i=0;i<n.length;i++)r[i]=n[i]*e[1].numberData[i],o.push("inputIdx["+i+"] = int(mod(float(outputIdx["+i+"]), "+n[i]+".));");var a=r.length,s="\n    float process(int outputIdx["+a+"]) {\n      int inputIdx["+a+"];\n      "+o.join("\n")+"\n      return _A(inputIdx);\n    }";return{inputLayouts:e.map((function(e){return t.getOrCreateTextureLayout(e)})),outputLayout:t.createTextureLayoutFromShape(r),samplers:["A"],shaderSource:s}},e.prototype.createRunData=function(t,e,n){var r=n.map((function(n,r){return t.getOrCreateTextureData(n,e.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(n(39).Tile);e.WebGLTile=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(40),u=n(0),c=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.getOutputShape=function(t){var e=this.getAdjustedPerm(t[0]);return u.ShapeUtil.sortBasedOnPerm(t[0],e)},e.prototype.createProgramInfo=function(t,e){var n=e.map((function(t){return t.dims.slice()})),r=this.getAdjustedPerm(n[0]),o=this.getOutputShape(n),i=e[0].dims.length,a="\n      "+this.getPermFunctionBody("perm",r,i)+"\n      float process(int indices["+i+"]) {\n        int a["+i+"];\n        perm(a, indices);\n        return _A(a);\n      }",s=t.createTextureLayoutFromShape(o,1,o);return{inputLayouts:[t.getOrCreateTextureLayout(e[0])],outputLayout:s,samplers:["A"],shaderSource:a}},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e.prototype.getPositionalFunction=function(t,e,n){var r=this.getOutputShape([e]);return n||(n="perm"),{name:n,body:this.getPermFunctionBody(n,this.getAdjustedPerm(e),r.length),type:c.FunctionType.Positional,inputShape:e,outputShape:r}},e.prototype.getAdjustedPerm=function(t){var e=this.perm;return e&&e.length!==t.length&&(e=a(t.keys()).reverse()),e},e.prototype.getPermFunctionBody=function(t,e,n){var r=[];r.push("void "+t+"(out int a["+n+"], int src["+n+"]) {");for(var o=0;o<n;++o)r.push("\ta["+e[o]+"]=src["+o+"];");return r.push("\t}"),r.join("\n")},e}(s.Transpose);e.WebGLTranspose=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(42),a=n(5),s=n(2),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.typeConstraint=e,r.glslFunc=n,r}return o(e,t),e.prototype.run=function(t,e){return t.run(this,e)},e.prototype.createProgramInfo=function(t,e){var n=e[0].dims.slice(),r=t.getOrCreateTextureLayout(e[0]),o=s.getGlsl(t.session.backend.glContext.version),i="\n      "+this.glslFunc.body+"\n      void main() {\n        vec4 v = "+o.texture2D+"(A, TexCoords);\n        v = "+this.glslFunc.name+"(v);\n        "+o.output+" = v;\n      }\n      ";return{inputLayouts:[r],outputLayout:t.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:i,hasMain:!0}},e.prototype.createRunData=function(t,e,n){var r=[t.getOrCreateTextureData(n[0],e.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:t.createTextureDataFromLayout(e.outputLayout,r[0].tensor.type),uniformData:{}}},e}(i.UnaryOp);function c(t){var e=t+"_";return{body:"\n  float "+e+"(float a) {\n    return "+t+"(a);\n  }\n  vec4 "+e+"(vec4 v) {\n    return "+t+"(v);\n  }\n  ",name:e,type:a.FunctionType.ValueBased}}e.WebGLUnaryOp=u,e.glslAbs=function(){return c("abs")},e.glslAcos=function(){return c("acos")},e.glslAsin=function(){return c("asin")},e.glslAtan=function(){return c("atan")},e.glslCeil=function(){return c("ceil")},e.glslCos=function(){return c("cos")},e.glslExp=function(){return c("exp")},e.glslFloor=function(){return c("floor")},e.glslIdentity=function(){return{body:"\n  float indentity_(float a) {\n    return a;\n  }\n  vec4 indentity_(vec4 v) {\n    return v;\n  }\n  ",name:"indentity_",type:a.FunctionType.ValueBased}},e.glslLog=function(){return c("log")},e.glslNeg=function(){return{body:"\n  float neg_(float a) {\n    return -a;\n  }\n  vec4 neg_(vec4 v) {\n    return -v;\n  }\n  ",name:"neg_",type:a.FunctionType.ValueBased}},e.glslNot=function(){return{body:"\n  float not_(float a) {\n    return float( ! bool(a) );\n  }\n  bool not_(bool a) {\n    return !a;\n  }\n  vec4 not_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 not_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  ",name:"not_",type:a.FunctionType.ValueBased}},e.glslSin=function(){return c("sin")},e.glslRelu=function(){return{body:"\n  float relu_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 relu_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  ",name:"relu_",type:a.FunctionType.ValueBased}},e.glslSigmoid=function(){return{body:"\n  float sigmoid_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 sigmoid_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  ",name:"sigmoid_",type:a.FunctionType.ValueBased}},e.glslSqrt=function(){return c("sqrt")},e.glslTan=function(){return c("tan")},e.glslTanh=function(){return{body:"\n  float tanh_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 tanh_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  ",name:"tanh_",type:a.FunctionType.ValueBased}}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(43),a=n(0),s=n(10),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){var n=a.ShapeUtil.unsqueezeShape(e[0].dims,this.axes);return[s.reshape(t,e[0],n)]},e}(i.Unsqueeze);e.WebGLUnsqueeze=u},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),a=n(3),s=n(150),u=n(2),c=function(){function t(t,e){this.profiler=t,this.glContext=e,this.repo=new Map,this.attributesBound=!1}return t.prototype.getArtifact=function(t){return this.repo.get(t)},t.prototype.setArtifact=function(t,e){this.repo.set(t,e)},t.prototype.run=function(t,e){var n=this;this.profiler.event("backend","ProgramManager.run",(function(){var r=n.glContext.gl,o=t.program;r.useProgram(o);try{n.bindOutput(e.outputTextureData),n.attributesBound||n.bindAttributes(t.attribLocations),n.bindUniforms(t.uniformLocations,e.uniformData,e.inputTextureDatas)}catch(e){throw a.Logger.error("ProgramManager",t.programInfo.shaderSource),e}n.profiler.event("backend","GlContext.draw()",(function(){n.doDraw(t,e),r.flush()}))}))},t.prototype.dispose=function(){var t=this;this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((function(e){return t.glContext.deleteProgram(e.program)}))},t.prototype.build=function(t){var e=this;return this.profiler.event("backend","ProgramManager.build",(function(){var n=new s.GlslPreprocessor(e.glContext,t),r=n.preprocess(),o=e.compile(r);return{programInfo:t,program:o,uniformLocations:e.getUniformLocations(o,n.context.programInfo.samplers,n.context.programInfo.variables),attribLocations:e.getAttribLocations(o)}}))},t.prototype.doDraw=function(t,e){e.draw?(a.Logger.verbose("ProgramManager","Custom draw function"),e.draw(this.glContext,t)):this.glContext.draw()},t.prototype.compile=function(t){if(!this.vertexShader){a.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");var e=u.getVertexShaderSource(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER)}i.env.debug&&a.Logger.verbose("ProrgramManager","FragShader:\n"+t+"\n");var n=this.glContext.compileShader(t,this.glContext.gl.FRAGMENT_SHADER),r=this.glContext.createProgram(this.vertexShader,n);return this.glContext.deleteShader(n),r},t.prototype.bindOutput=function(t){a.Logger.verbose("ProrgramManager","Binding output texture to Framebuffer: w/h="+t.width+"/"+t.height+", shape="+t.shape+", type="+t.tensor.type),this.glContext.attachFramebuffer(t.texture,t.width,t.height)},t.prototype.bindAttributes=function(t){var e=t.position,n=t.textureCoord;this.glContext.setVertexAttributes(e,n),this.attributesBound=!0},t.prototype.bindUniforms=function(t,e,n){var r,i,a=this.glContext.gl,s=0;try{for(var u=o(t),c=u.next();!c.done;c=u.next()){var l=c.value,f=l.name,p=l.type,h=l.location,d=l.arrayLength;switch(p){case"sampler2D":this.bindTexture(n[s],h,s),s++;break;case"float":d?a.uniform1fv(h,e[f]):a.uniform1f(h,e[f]);break;case"int":d?a.uniform1iv(h,e[f]):a.uniform1i(h,e[f]);break;default:throw new Error("Uniform not implemented: "+p)}}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},t.prototype.bindTexture=function(t,e,n){this.glContext.bindTextureToUniform(t.texture,n,e)},t.prototype.getAttribLocations=function(t){return{position:this.getAttribLocation(t,"position"),textureCoord:this.getAttribLocation(t,"textureCoord")}},t.prototype.getUniformLocations=function(t,e,n){var i,a,s,u,c=[];if(e)try{for(var l=o(e),f=l.next();!f.done;f=l.next()){var p=f.value;c.push({name:p,type:"sampler2D",location:this.getUniformLocation(t,p)})}}catch(t){i={error:t}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(n)try{for(var h=o(n),d=h.next();!d.done;d=h.next()){var y=d.value;c.push(r({},y,{location:this.getUniformLocation(t,y.name)}))}}catch(t){s={error:t}}finally{try{d&&!d.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}return c},t.prototype.getUniformLocation=function(t,e){var n=this.glContext.gl.getUniformLocation(t,e);if(null===n)throw new Error("Uniform "+e+" not found.");return n},t.prototype.getAttribLocation=function(t,e){return this.glContext.gl.getAttribLocation(t,e)},t}();e.ProgramManager=c},function(t,e,n){(function(t,r){var o;
/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */(function(){"use strict";var i={function:!0,object:!0},a=i[typeof window]&&window||this,s=i[typeof e]&&e,u=i[typeof t]&&t&&!t.nodeType&&t,c=s&&u&&"object"==typeof r&&r;!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c);var l=Math.pow(2,53)-1,f=/\bOpera/,p=Object.prototype,h=p.hasOwnProperty,d=p.toString;function y(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}function g(t){return t=_(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:y(t)}function m(t,e){for(var n in t)h.call(t,n)&&e(t[n],n,t)}function v(t){return null==t?y(t):d.call(t).slice(8,-1)}function b(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function w(t,e){var n=null;return function(t,e){var n=-1,r=t?t.length:0;if("number"==typeof r&&r>-1&&r<=l)for(;++n<r;)e(t[n],n);else m(t,e)}(t,(function(r,o){n=e(n,r,o,t)})),n}function _(t){return String(t).replace(/^ +| +$/g,"")}var x=function t(e){var n=a,r=e&&"object"==typeof e&&"String"!=v(e);r&&(n=e,e=null);var o=n.navigator||{},i=o.userAgent||"";e||(e=i);var s,u,c,l,p,h=r?!!o.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(d.toString()),y=r?"Object":"ScriptBridgingProxyObject",x=r?"Object":"Environment",T=r&&n.java?"JavaPackage":v(n.java),S=r?"Object":"RuntimeObject",O=/\bJava/.test(T)&&n.java,P=O&&v(n.environment)==x,A=O?"a":"α",E=O?"b":"β",k=n.document||{},D=n.operamini||n.opera,I=f.test(I=r&&D?D["[[Class]]"]:v(D))?I:D=null,L=e,j=[],C=null,M=e==i,B=M&&D&&"function"==typeof D.version&&D.version(),R=w([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(t,n){return t||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(e)&&(n.label||n)})),N=w(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(t,n){return t||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(e)&&(n.label||n)})),F=z([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),U=w({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},(function(t,n,r){return t||(n[F]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+b(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})),G=w(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(t,n){var r=n.pattern||b(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function(t,e,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&n&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(r=r[/[\d.]+$/.exec(t)])&&(t="Windows "+r),t=String(t),e&&n&&(t=t.replace(RegExp(e,"i"),n)),g(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,r,n.label||n)),t}));function z(t){return w(t,(function(t,n){var r=n.pattern||b(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=g(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t}))}if(R&&(R=[R]),U&&!F&&(F=z([U])),(s=/\bGoogle TV\b/.exec(F))&&(F=s[0]),/\bSimulator\b/i.test(e)&&(F=(F?F+" ":"")+"Simulator"),"Opera Mini"==N&&/\bOPiOS\b/.test(e)&&j.push("running in Turbo/Uncompressed mode"),"IE"==N&&/\blike iPhone OS\b/.test(e)?(U=(s=t(e.replace(/like iPhone OS/,""))).manufacturer,F=s.product):/^iP/.test(F)?(N||(N="Safari"),G="iOS"+((s=/ OS ([\d_]+)/i.exec(e))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"!=N||/buntu/i.test(G)?U&&"Google"!=U&&(/Chrome/.test(N)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(F))||/\bAndroid\b/.test(G)&&/^Chrome/.test(N)&&/\bVersion\//i.test(e)?(N="Android Browser",G=/\bAndroid\b/.test(G)?G:"Android"):"Silk"==N?(/\bMobi/i.test(e)||(G="Android",j.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&j.unshift("accelerated")):"PaleMoon"==N&&(s=/\bFirefox\/([\d.]+)\b/.exec(e))?j.push("identifying as Firefox "+s[1]):"Firefox"==N&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(G||(G="Firefox OS"),F||(F=s[1])):!N||(s=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(N))?(N&&!F&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(s+"/")+8))&&(N=null),(s=F||U||G)&&(F||U||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(G))&&(N=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(G)?G:s)+" Browser")):"Electron"==N&&(s=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&j.push("Chromium "+s):G="Kubuntu",B||(B=w(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",b(N),"(?:Firefox|Minefield|NetFront)"],(function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null}))),(s=("iCab"==R&&parseFloat(B)>3?"WebKit":/\bOpera\b/.test(N)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(R)&&"WebKit"||!R&&/\bMSIE\b/i.test(e)&&("Mac OS"==G?"Tasman":"Trident")||"WebKit"==R&&/\bPlayStation\b(?! Vita\b)/i.test(N)&&"NetFront")&&(R=[s]),"IE"==N&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(N+=" Mobile",G="Windows Phone "+(/\+$/.test(s)?s:s+".x"),j.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(N="IE Mobile",G="Windows Phone 8.x",j.unshift("desktop mode"),B||(B=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=N&&"Trident"==R&&(s=/\brv:([\d.]+)/.exec(e))&&(N&&j.push("identifying as "+N+(B?" "+B:"")),N="IE",B=s[1]),M){if(l="global",p=null!=(c=n)?typeof c[l]:"number",/^(?:boolean|number|string|undefined)$/.test(p)||"object"==p&&!c[l])v(s=n.runtime)==y?(N="Adobe AIR",G=s.flash.system.Capabilities.os):v(s=n.phantom)==S?(N="PhantomJS",B=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof k.documentMode&&(s=/\bTrident\/(\d+)/i.exec(e))?(B=[B,k.documentMode],(s=+s[1]+4)!=B[1]&&(j.push("IE "+B[1]+" mode"),R&&(R[1]=""),B[1]=s),B="IE"==N?String(B[1].toFixed(1)):B[0]):"number"==typeof k.documentMode&&/^(?:Chrome|Firefox)\b/.test(N)&&(j.push("masking as "+N+" "+B),N="IE",B="11.0",R=["Trident"],G="Windows");else if(O&&(L=(s=O.lang.System).getProperty("os.arch"),G=G||s.getProperty("os.name")+" "+s.getProperty("os.version")),P){try{B=n.require("ringo/engine").version.join("."),N="RingoJS"}catch(t){(s=n.system)&&s.global.system==n.system&&(N="Narwhal",G||(G=s[0].os||null))}N||(N="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(j.push("Node "+s.versions.node),N="Electron",B=s.versions.electron):"string"==typeof s.versions.nw&&(j.push("Chromium "+B,"Node "+s.versions.node),N="NW.js",B=s.versions.nw)),N||(N="Node.js",L=s.arch,G=s.platform,B=(B=/[\d.]+/.exec(s.version))?B[0]:null));G=G&&g(G)}if(B&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(B)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(M&&o.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(C=/b/i.test(s)?"beta":"alpha",B=B.replace(RegExp(s+"\\+?$"),"")+("beta"==C?E:A)+(/\d+\+?/.exec(s)||"")),"Fennec"==N||"Firefox"==N&&/\b(?:Android|Firefox OS)\b/.test(G))N="Firefox Mobile";else if("Maxthon"==N&&B)B=B.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(F))"Xbox 360"==F&&(G=null),"Xbox 360"==F&&/\bIEMobile\b/.test(e)&&j.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(N)&&(!N||F||/Browser|Mobi/.test(N))||"Windows CE"!=G&&!/Mobi/i.test(e))if("IE"==N&&M)try{null===n.external&&j.unshift("platform preview")}catch(t){j.unshift("embedded")}else(/\bBlackBerry\b/.test(F)||/\bBB10\b/.test(e))&&(s=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||B)?(G=((s=[s,/BB10/.test(e)])[1]?(F=null,U="BlackBerry"):"Device Software")+" "+s[0],B=null):this!=m&&"Wii"!=F&&(M&&D||/Opera/.test(N)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==N&&/\bOS X (?:\d+\.){2,}/.test(G)||"IE"==N&&(G&&!/^Win/.test(G)&&B>5.5||/\bWindows XP\b/.test(G)&&B>8||8==B&&!/\bTrident\b/.test(e)))&&!f.test(s=t.call(m,e.replace(f,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),f.test(N)?(/\bIE\b/.test(s)&&"Mac OS"==G&&(G=null),s="identify"+s):(s="mask"+s,N=I?g(I.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(G=null),M||(B=null)),R=["Presto"],j.push(s));else N+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==N&&"+"==s[1].slice(-1)?(N="WebKit Nightly",C="alpha",B=s[1].slice(0,-1)):B!=s[1]&&B!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(B=null),s[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==R&&(R=["Blink"]),M&&(h||s[1])?(R&&(R[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=R?"27":"28")):(R&&(R[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:"8"),R&&(R[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==N&&(!B||parseInt(B)>45)&&(B=s)),"Opera"==N&&(s=/\bzbov|zvav$/.exec(G))?(N+=" ",j.unshift("desktop mode"),"zvav"==s?(N+="Mini",B=null):N+="Mobile",G=G.replace(RegExp(" *"+s+"$"),"")):"Safari"==N&&/\bChrome\b/.exec(R&&R[1])&&(j.unshift("desktop mode"),N="Chrome Mobile",B=null,/\bOS X\b/.test(G)?(U="Apple",G="iOS 4.3+"):G=null),B&&0==B.indexOf(s=/[\d.]+$/.exec(G))&&e.indexOf("/"+s+"-")>-1&&(G=_(G.replace(s,""))),R&&!/\b(?:Avant|Nook)\b/.test(N)&&(/Browser|Lunascape|Maxthon/.test(N)||"Safari"!=N&&/^iOS/.test(G)&&/\bSafari\b/.test(R[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(N)&&R[1])&&(s=R[R.length-1])&&j.push(s),j.length&&(j=["("+j.join("; ")+")"]),U&&F&&F.indexOf(U)<0&&j.push("on "+U),F&&j.push((/^on /.test(j[j.length-1])?"":"on ")+F),G&&(s=/ ([\d.+]+)$/.exec(G),u=s&&"/"==G.charAt(G.length-s[0].length-1),G={architecture:32,family:s&&!u?G.replace(s[0],""):G,version:s?s[1]:null,toString:function(){var t=this.version;return this.family+(t&&!u?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(L))&&!/\bi686\b/i.test(L)?(G&&(G.architecture=64,G.family=G.family.replace(RegExp(" *"+s),"")),N&&(/\bWOW64\b/i.test(e)||M&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(e))&&j.unshift("32-bit")):G&&/^OS X/.test(G.family)&&"Chrome"==N&&parseFloat(B)>=39&&(G.architecture=64),e||(e=null);var V={};return V.description=e,V.layout=R&&R[0],V.manufacturer=U,V.name=N,V.prerelease=C,V.product=F,V.ua=e,V.version=N&&B,V.os=G||{architecture:null,family:null,version:null,toString:function(){return"null"}},V.parse=t,V.toString=function(){return this.description||""},V.version&&j.unshift(B),V.name&&j.unshift(N),G&&N&&(G!=String(G).split(" ")[0]||G!=N.split(" ")[0]&&!F)&&j.push(F?"("+G+")":"on "+G),j.length&&(V.description=j.join(" ")),V}();a.platform=x,void 0===(o=function(){return x}.call(e,n,e,t))||(t.exports=o)}).call(this)}).call(this,n(149)(t),n(8))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=n(151),a=n(152),s=n(2),u=function(){function t(t,e){var n=this;this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new o.GlslContext(t,e),Object.keys(a.glslRegistry).forEach((function(t){var e=new a.glslRegistry[t](n.context);n.libs[t]=e}));var r=this.glslLibRoutineDependencyGraph;for(var i in this.libs){var s=this.libs[i].getFunctions();for(var u in s){var c=i+"."+u,l=void 0;r[c]?(l=r[c]).routineBody=s[u].routineBody:(l=new o.GlslLibRoutineNode(c,s[u].routineBody),r[c]=l);var f=s[u].dependencies;if(f)for(var p=0;p<f.length;++p)if(r[f[p]])l.addDependency(r[f[p]]);else{var h=new o.GlslLibRoutineNode(f[p]);r[f[p]]=h,l.addDependency(h)}}}}return t.prototype.preprocess=function(){var t=this.context.programInfo,e=t.shaderSource;return this.context.programInfo.hasMain||(e=e+"\n      "+s.getDefaultFragShaderMain(this.context.glContext.version,t.outputLayout.shape.length)),e=i.replaceInlines(e),s.getFragShaderPreamble(this.context.glContext.version)+"\n    "+this.getUniforms(t.samplers,t.variables)+"\n    "+this.getImports(e)+"\n    "+e},t.prototype.getImports=function(t){var e=this.selectGlslLibRoutinesToBeIncluded(t);if(0===e.length)return"";for(var n="",r=0;r<e.length;++r){if(!e[r].routineBody)throw new Error("Missing body for the Glsl Library routine: "+e[r].name);n+=e[r].routineBody+"\n"}return n},t.prototype.selectGlslLibRoutinesToBeIncluded=function(t){var e=this,n=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((function(r){var o=r.split(".")[1];-1!==t.indexOf(o)&&n.push(e.glslLibRoutineDependencyGraph[r])})),o.TopologicalSortGlslRoutines.returnOrderedNodes(n)},t.prototype.getUniforms=function(t,e){var n,o,i,a,s=[];if(t)try{for(var u=r(t),c=u.next();!c.done;c=u.next()){var l=c.value;s.push("uniform sampler2D "+l+";")}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}if(e)try{for(var f=r(e),p=f.next();!p.done;p=f.next()){var h=p.value;s.push("uniform "+h.type+" "+h.name+(h.arrayLength?"["+h.arrayLength+"]":"")+";")}}catch(t){i={error:t}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return s.join("\n")},t}();e.GlslPreprocessor=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;e.replaceInlines=function(t){for(var e,n={};null!==(e=r.exec(t));){var o=e[3].split(",").map((function(t){var e=t.trim().split(" ");return e&&2===e.length?{type:e[0],name:e[1]}:null})).filter((function(t){return null!==t}));n[e[2]]={params:o,body:e[4]}}for(var i in n)for(var a="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",i),s=new RegExp(a,"gm"),u=function(){var r=e[1],o=e[2],a=e[3].split(","),s=r?r+" "+o+";":"",u=n[i].body,c="";n[i].params.forEach((function(t,e){t&&(c+=t.type+" "+t.name+" = "+a[e]+";\n")}));var l="\n      "+s+"\n      {\n        "+(u=(u=c+"\n "+u).replace("return",o+" = "))+"\n      }\n      ";t=t.replace(e[0],l)};null!==(e=s.exec(t));)u();return t=t.replace(r,"")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(153),o=n(154),i=n(155),a=n(156),s=n(157);e.glslRegistry={encoding:o.EncodingGlslLib,fragcolor:i.FragColorGlslLib,vec:s.VecGlslLib,shapeUtils:a.ShapeUtilsGlslLib,coordinates:r.CoordsGlslLib}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),s=n(2),u=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getFunctions=function(){return i({},this.offsetToCoords(),this.coordsToOffset(),this.toVec(),this.valueFrom())},e.prototype.getCustomTypes=function(){return{}},e.prototype.offsetToCoords=function(){return{offsetToCoords:new a.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}},e.prototype.coordsToOffset=function(){return{coordsToOffset:new a.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}},e.prototype.toVec=function(){for(var t=this.context.programInfo.outputLayout,e=t.shape.length,n=t.strides,r=t.width,o=t.height,i=[],s=0;s<e-1;++s)i.push("\n        c["+s+"] = offset / "+n[s]+";"),i.push("\n        offset -= c["+s+"] * "+n[s]+";");i.push("\n        c["+(e-1)+"] = offset;");var u="\n      void toVec(vec2 texCoords, out int c["+e+"]) {\n        int offset = coordsToOffset(texCoords, "+r+", "+o+");\n        "+i.join("")+"\n      }\n      void toVec(int offset, out int c["+e+"]) {\n        "+i.join("")+"\n      }\n    ";return{toVec:new a.GlslLibRoutine(u,["coordinates.coordsToOffset"])}},e.prototype.valueFrom=function(){var t=this,e=this.context.programInfo,n={};return this.context.programInfo.samplers.forEach((function(r,o){var i=e.inputLayouts[o],s=i.shape.length,u="_"+r;n[u]=new a.GlslLibRoutine(t.getValueFromSingle(r,s,i.width,i.height,!1),["shapeUtils.indicesToOffset"+u,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),n[u+="_T"]=new a.GlslLibRoutine(t.getValueFromSingle(r,s,i.width,i.height,!0),["shapeUtils.indicesToOffset"+u,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),n},e.prototype.getValueFromSingle=function(t,e,n,r,o){var i="_"+t;return o&&(i+="_T"),"\n        float "+i+"(int m["+e+"]) {\n          int offset = indicesToOffset"+i+"(m);\n          vec2 coords = offsetToCoords(offset, "+n+", "+r+");\n          float value = getColorAsFloat("+s.getGlsl(this.context.glContext.version).texture2D+"("+t+", coords));\n          return value;\n        }\n        "},e}(a.GlslLib);e.CoordsGlslLib=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getFunctions=function(){return i({},this.encodeFloat32(),this.decodeFloat32())},e.prototype.getCustomTypes=function(){return{}},e.prototype.encodeFloat32=function(){return{encode:new a.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}},e.prototype.decodeFloat32=function(){return{decode:new a.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}},e.prototype.encodeUint8=function(){var t=e.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new a.GlslLibRoutine("\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        "+t+"\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        ")}},e.prototype.decodeUint8=function(){var t=e.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new a.GlslLibRoutine("\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          "+t+"\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        ")}},e.isLittleEndian=function(){var t=new ArrayBuffer(4),e=new Uint32Array(t),n=new Uint8Array(t);if(e[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness")},e}(a.GlslLib);e.EncodingGlslLib=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),s=n(2),u=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getFunctions=function(){return i({},this.setFragColor(),this.getColorAsFloat())},e.prototype.getCustomTypes=function(){return{}},e.prototype.setFragColor=function(){var t=s.getGlsl(this.context.glContext.version);return{setFragColor:new a.GlslLibRoutine("\n        void setFragColor(float value) {\n            "+t.output+" = encode(value);\n        }\n        ",["encoding.encode"])}},e.prototype.getColorAsFloat=function(){return{getColorAsFloat:new a.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}},e}(a.GlslLib);e.FragColorGlslLib=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getFunctions=function(){return i({},this.bcastIndex(),this.bcastMatmulIndex(),this.offsetToIndices(),this.indicesToOffset(),this.incrementIndices())},e.prototype.getCustomTypes=function(){return{}},e.prototype.bcastIndex=function(){var t=this.context.programInfo,e=t.outputLayout.shape.length,n={};return this.context.programInfo.samplers.forEach((function(r,o){var i=t.inputLayouts[o].shape;if(i.length<=e){for(var s=i.length,u=e-s,c="bcastIndices_"+r,l="",f=0;f<s;++f)l+="\n          realIndices["+f+"] = int( mod(float(bcastedIndices["+(u+f)+"]), "+i[f]+".0) );\n          ";var p="\n        void "+c+" (int bcastedIndices["+e+"], out int realIndices["+s+"]) {\n          "+l+"\n        }\n        ";n[c]=new a.GlslLibRoutine(p)}})),n},e.prototype.bcastMatmulIndex=function(){var t=this.context.programInfo,e=t.outputLayout.shape.length,n={};return this.context.programInfo.samplers.forEach((function(r,o){var i=t.inputLayouts[o].shape;if(!(i.length<2||i.length>e)){for(var s=i.length,u=e-s,c="bcastMatmulIndices_"+r,l="",f=0;f<s-2;++f)l+="\n          realIndices["+f+"] = int( mod(float(bcastedIndices["+(u+f)+"]), "+i[f]+".0) );\n          ";var p="\n        void "+c+"(int bcastedIndices["+e+"], out int realIndices["+s+"]) {\n          "+l+"\n          realIndices["+(s-1)+"] = bcastedIndices["+(e-1)+"];\n          realIndices["+(s-2)+"] = bcastedIndices["+(e-2)+"];\n        }\n        ";n[c]=new a.GlslLibRoutine(p)}})),n},e.prototype.indicesToOffset=function(){var t=this.context.programInfo,n={};return this.context.programInfo.samplers.forEach((function(r,o){var i=t.inputLayouts[o].shape,s=t.inputLayouts[o].strides,u=i.length,c="indicesToOffset_"+r;n[c]=new a.GlslLibRoutine(e.indexToOffsetSingle(c,u,s)),n[c="indicesToOffset_"+r+"_T"]=new a.GlslLibRoutine(e.indexToOffsetSingle(c,u,s.slice().reverse()))})),n},e.indexToOffsetSingle=function(t,e,n){for(var r="",o=e-1;o>=0;--o)r+="\n        offset += indices["+o+"] * "+n[o]+";\n        ";return"\n      int "+t+"(int indices["+e+"]) {\n        int offset = 0;\n        "+r+"\n        return offset;\n      }\n      "},e.prototype.offsetToIndices=function(){var t=this.context.programInfo,n={};return this.context.programInfo.samplers.forEach((function(r,o){var i=t.inputLayouts[o].shape,s=t.inputLayouts[o].strides,u=i.length,c="offsetToIndices_"+r;n[c]=new a.GlslLibRoutine(e.offsetToIndicesSingle(c,u,s)),n[c="offsetToIndices_"+r+"_T"]=new a.GlslLibRoutine(e.offsetToIndicesSingle(c,u,s.slice().reverse()))})),n},e.offsetToIndicesSingle=function(t,e,n){for(var r=[],o=0;o<e-1;++o)r.push("\n      indices["+o+"] = offset / "+n[o]+";"),r.push("\n        offset -= indices["+o+"] * "+n[o]+";");return r.push("\n      indices["+(e-1)+"] = offset;"),"\n      void "+t+"(int offset, out int indices["+e+"]) {\n        "+r.join("")+"\n      }\n      "},e.prototype.incrementIndices=function(){var t=this.context.programInfo,e={};return this.context.programInfo.samplers.forEach((function(n,r){for(var o=t.inputLayouts[r].shape,i=o.length,s="incrementIndices_"+n,u="",c=0;c<i;++c)u+="\n        shape["+c+"] = "+o[c]+";";var l="\n        void "+s+"(int axis, out int indices["+i+"]) {\n          int shape["+i+"];\n          "+u+";\n          for(int i = "+i+" -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        ";e[s]=new a.GlslLibRoutine(l)})),e},e}(a.GlslLib);e.ShapeUtilsGlslLib=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getCustomTypes=function(){return{}},e.prototype.getFunctions=function(){return i({},this.binaryVecFunctions(),this.copyVec(),this.setVecItem(),this.getVecItem())},e.prototype.binaryVecFunctions=function(){var t=this.context.programInfo.outputLayout.shape.length,e={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(var r in e){for(var o=r+"Vec",i="",s=0;s<t;++s)i+="\n          dest["+s+"] "+e[r]+" src["+s+"];\n          ";var u="\n        void "+o+"(int src["+t+"], out int dest["+t+"]) {\n          "+i+"\n        }\n        ";n[o]=new a.GlslLibRoutine(u)}return n},e.prototype.copyVec=function(){for(var t=this.context.programInfo.outputLayout.shape.length,e="",n=0;n<t;++n)e+="\n        dest["+n+"] = src["+n+"];\n        ";var r="\n      void copyVec(int src["+t+"], out int dest["+t+"]) {\n        "+e+"\n      }\n      ";return{copyVec:new a.GlslLibRoutine(r)}},e.prototype.setVecItem=function(){for(var t=this.context.programInfo.outputLayout.shape.length,e="\n        if(index < 0)\n            index ="+t+" + index;\n        if (index == 0)\n            m[0] = value;\n        ",n=1;n<t-1;++n)e+="\n        else if (index == "+n+")\n            m["+n+"] = value;\n            ";var r="\n      void setVecItem(out int m["+t+"], int index, int value) {\n        "+(e+="\n        else\n            m["+(t-1)+"] = value;\n        ")+"\n      }\n        ";return{setVecItem:new a.GlslLibRoutine(r)}},e.prototype.getVecItem=function(){for(var t=this.context.programInfo.outputLayout.shape.length,e="\n        if(index < 0)\n            index = "+t+" + index;\n        if (index == 0)\n            return m[0];\n      ",n=1;n<t-1;++n)e+="\n        else if (index == "+n+")\n            return m["+n+"];\n      ";var r="\n      int getVecItem(int m["+t+"], int index) {\n        "+(e+="\n        else\n            return m["+(t-1)+"];\n        ")+"\n      }\n    ";return{getVecItem:new a.GlslLibRoutine(r)}},e}(a.GlslLib);e.VecGlslLib=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=function(){function t(t){this.maxTextureSize=t}return t.prototype.computeTextureWH=function(t,e){if(0===t.length)return[1,1];var n=this.maxTextureSize;if(e){var o=e.breakAxis>=t.length?1:t.slice(e.breakAxis).reduce((function(t,e){return t*e})),i=e.breakAxis<=0?1:t.slice(0,e.breakAxis).reduce((function(t,e){return t*e}));if(!(o>n||i>n))return[o,i];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:"+t+", breakAxis:"+e.breakAxis)}for(var a=t.reduce((function(t,e){return t*e})),s=Math.floor(Math.sqrt(a));s<n&&s<a&&a%s!=0;s++);if(s>=n||a%s!=0)throw new Error("The given dimensions are outside this GPU's boundaries: "+t);return[s,a/s]},t}();e.AlwaysKeepOriginalSizeStrategy=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=function(){function t(t,e,n,r){this.glContext=t,this.layoutStrategy=e,this.profiler=n,this.config=r,r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}return t.prototype.createTextureFromLayout=function(t,e,n,o){var i,a,s=this.toEncoderType(t),u=this.glContext.getEncoder(s,e.channels||1,o);if(this.config.reuseTextures){i=e.width+"x"+e.height+"_"+u.format+"_"+u.internalFormat+"_"+u.textureType,(a=this.inUseTextures.get(i))||(a=[],this.inUseTextures.set(i,a));var c=this.idleTextures.get(i);if(c&&c.length>0){var l=c.pop();return a.push(l),1===o&&this.glContext.updateTexture(l,e.width,e.height,u,this.toTextureData(t,n)),l}}r.Logger.verbose("TextureManager","Creating new texture of size "+e.width+"x"+e.height);var f=this.glContext.allocateTexture(e.width,e.height,u,this.toTextureData(t,n));return this.config.reuseTextures&&(a.push(f),this.textureLookup.set(f,i)),f},t.prototype.readTexture=function(t,e,n){var r=this;return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",(function(){var o=t.shape.reduce((function(t,e){return t*e}))*n,i=r.glContext.readTexture(t.texture,t.width,t.height,o,r.toEncoderType(e),n);return r.toTensorData(e,i)}))},t.prototype.readUint8TextureAsFloat=function(t){var e=this;return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(function(){var n=t.shape.reduce((function(t,e){return t*e})),r=e.glContext.readTexture(t.texture,t.width,t.height,4*n,"byte",4);return new Float32Array(r.buffer,r.byteOffset,n)}))},t.prototype.releaseTexture=function(t,e){var n;if(this.config.reuseTextures&&(n=this.textureLookup.get(t.texture))){e&&this.textureLookup.delete(n);var o=this.inUseTextures.get(n);if(o){var i=o.indexOf(t.texture);if(-1!==i){o.splice(i,1);var a=this.idleTextures.get(n);a||(a=[],this.idleTextures.set(n,a)),a.push(t.texture)}}}n&&!e||(r.Logger.verbose("TextureManager","Deleting texture of size "+t.width+"x"+t.height),this.glContext.deleteTexture(t.texture))},t.prototype.toTensorData=function(t,e){return e.constructor===Float32Array?e:new Float32Array(e)},t.prototype.toTextureData=function(t,e){if(e)return e.constructor===Float32Array?e:new Float32Array(e)},t.prototype.toEncoderType=function(t){return"float"},t.prototype.clearActiveTextures=function(){this.glContext.clearActiveTextures()},t}();e.TextureManager=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(161),i={};function a(t){var e,n=function(){var t=document.createElement("canvas");return t.width=1,t.height=1,t}(),i={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!t||"webgl2"===t)&&(e=n.getContext("webgl2",i)))try{return new o.WebGLContext(e,2)}catch(t){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl2'. Error: "+t)}if((!t||"webgl"===t)&&(e=n.getContext("webgl",i)||n.getContext("experimental-webgl",i)))try{return new o.WebGLContext(e,1)}catch(t){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: "+t)}throw new Error("WebGL is not supported")}e.createWebGLContext=function t(e){var n;e&&"webgl2"!==e||!("webgl2"in i)?(!e||"webgl"===e)&&"webgl"in i&&(n=i.webgl):n=i.webgl2,n=n||a(e),e=e||1===n.version?"webgl":"webgl2";var r=n.gl;return i[e]=n,r.isContextLost()?(delete i[e],t(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n)},e.createNewWebGLContext=a},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=n(24),i=r(n(162)),a=function(){function t(t,e){this.frameBufferBound=!1,this.gl=t,this.version=e,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}return t.prototype.allocateTexture=function(t,e,n,r){var o=this.gl,i=o.createTexture();o.bindTexture(o.TEXTURE_2D,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);var a=r?n.encode(r,t*e):null;return o.texImage2D(o.TEXTURE_2D,0,n.internalFormat,t,e,0,n.format,n.textureType,a),this.checkError(),i},t.prototype.updateTexture=function(t,e,n,r,o){var i=this.gl;i.bindTexture(i.TEXTURE_2D,t);var a=r.encode(o,e*n);i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,n,r.format,r.textureType,a),this.checkError()},t.prototype.attachFramebuffer=function(t,e,n){var r=this.gl;r.bindTexture(r.TEXTURE_2D,t),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),this.checkError(),r.viewport(0,0,e,n),r.scissor(0,0,e,n)},t.prototype.readTexture=function(t,e,n,r,o,i){var a=this.gl;i||(i=1),this.frameBufferBound||this.attachFramebuffer(t,e,n);var s=this.getEncoder(o,i),u=s.allocate(e*n);return a.bindTexture(a.TEXTURE_2D,t),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,t,0),a.readPixels(0,0,e,n,a.RGBA,s.textureType,u),this.checkError(),s.decode(u,r)},t.prototype.isFramebufferReady=function(){return!0},t.prototype.getActiveTexture=function(){var t=this.gl;return"TEXTURE"+(t.getParameter(this.gl.ACTIVE_TEXTURE)-t.TEXTURE0)},t.prototype.getTextureBinding=function(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)},t.prototype.getFramebufferBinding=function(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)},t.prototype.setVertexAttributes=function(t,e){var n=this.gl;n.vertexAttribPointer(t,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(t),-1!==e&&(n.vertexAttribPointer(e,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(e)),this.checkError()},t.prototype.createProgram=function(t,e){var n=this.gl,r=n.createProgram();return n.attachShader(r,t),n.attachShader(r,e),n.linkProgram(r),r},t.prototype.compileShader=function(t,e){var n=this.gl,r=n.createShader(e);if(!r)throw new Error("createShader() returned null with type "+e);if(n.shaderSource(r,t),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("Failed to compile shader: "+n.getShaderInfoLog(r));return r},t.prototype.deleteShader=function(t){this.gl.deleteShader(t)},t.prototype.bindTextureToUniform=function(t,e,n){var r=this.gl;r.activeTexture(r.TEXTURE0+e),this.checkError(),r.bindTexture(r.TEXTURE_2D,t),this.checkError(),r.uniform1i(n,e),this.checkError()},t.prototype.draw=function(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()},t.prototype.checkError=function(){if(o.env.debug){var t=this.gl,e=t.getError(),n="";switch(e){case t.NO_ERROR:return;case t.INVALID_ENUM:n="INVALID_ENUM";break;case t.INVALID_VALUE:n="INVALID_VALUE";break;case t.INVALID_OPERATION:n="INVALID_OPERATION";break;case t.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case t.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case t.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n="Unknown WebGL Error: "+e.toString(16)}throw new Error(n)}},t.prototype.deleteTexture=function(t){this.gl.deleteTexture(t)},t.prototype.deleteProgram=function(t){this.gl.deleteProgram(t)},t.prototype.getEncoder=function(t,e,n){if(void 0===n&&(n=0),2===this.version)return new i.RedFloat32DataEncoder(this.gl,e);switch(t){case"float":return 1===n||this.isRenderFloat32Supported?new i.RGBAFloatDataEncoder(this.gl,e):new i.RGBAFloatDataEncoder(this.gl,e,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new i.Uint8DataEncoder(this.gl,e);default:throw new Error("Invalid dataType: "+t)}},t.prototype.clearActiveTextures=function(){for(var t=this.gl,e=0;e<this.maxTextureImageUnits;++e)t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,null)},t.prototype.dispose=function(){if(!this.disposed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteFramebuffer(this.framebuffer),t.bindBuffer(t.ARRAY_BUFFER,null),t.deleteBuffer(this.vertexbuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.finish(),this.disposed=!0}},t.prototype.createDefaultGeometry=function(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])},t.prototype.createVertexbuffer=function(){var t=this.gl,e=t.createBuffer();if(!e)throw new Error("createBuffer() returned null");var n=this.createDefaultGeometry();return t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),this.checkError(),e},t.prototype.createFramebuffer=function(){var t=this.gl.createFramebuffer();if(!t)throw new Error("createFramebuffer returned null");return t},t.prototype.queryVitalParameters=function(){var t=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.version},t.prototype.getExtensions=function(){2===this.version?this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))},t.prototype.checkFloatTextureAttachableToFrameBuffer=function(){var t=this.gl,e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);var n=2===this.version?t.RGBA32F:t.RGBA;t.texImage2D(t.TEXTURE_2D,0,n,1,1,0,t.RGBA,t.FLOAT,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0);var o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(e),t.deleteFramebuffer(r),o},t.prototype.checkRenderFloat32=function(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer},t.prototype.checkFloat32Download=function(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer},t.prototype.checkFloat32Blend=function(){var t,e,n,r,o,i=this.gl;try{t=i.createTexture(),e=i.createFramebuffer(),i.bindTexture(i.TEXTURE_2D,t);var a=2===this.version?i.RGBA32F:i.RGBA;return i.texImage2D(i.TEXTURE_2D,0,a,1,1,0,i.RGBA,i.FLOAT,null),i.bindFramebuffer(i.FRAMEBUFFER,e),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.enable(i.BLEND),!!(n=i.createShader(i.VERTEX_SHADER))&&(i.shaderSource(n,"void main(){}"),i.compileShader(n),!!(r=i.createShader(i.FRAGMENT_SHADER))&&(i.shaderSource(r,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),i.compileShader(r),!!(o=i.createProgram())&&(i.attachShader(o,n),i.attachShader(o,r),i.linkProgram(o),i.useProgram(o),i.drawArrays(i.POINTS,0,1),i.getError()===i.NO_ERROR)))}finally{i.disable(i.BLEND),o&&i.deleteProgram(o),n&&i.deleteShader(n),r&&i.deleteShader(r),e&&(i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteFramebuffer(e)),t&&(i.bindTexture(i.TEXTURE_2D,null),i.deleteTexture(t))}},t}();e.WebGLContext=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=function(){function t(t,e){if(void 0===e&&(e=1),1===e)this.internalFormat=t.R32F,this.format=t.RED,this.textureType=t.FLOAT,this.channelSize=e;else{if(4!==e)throw new Error("Invalid number of channels: "+e);this.internalFormat=t.RGBA32F,this.format=t.RGBA,this.textureType=t.FLOAT,this.channelSize=e}}return t.prototype.encode=function(t,e){var n,o;return t.constructor!==Float32Array&&(r.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),o=new Float32Array(t)),e*this.channelSize>t.length?(r.Logger.warning("Encoder","Source data too small. Allocating larger array"),o=t,n=this.allocate(e*this.channelSize),o.forEach((function(t,e){return n[e]=t}))):n=o=t,n},t.prototype.allocate=function(t){return new Float32Array(4*t)},t.prototype.decode=function(t,e){return 1===this.channelSize?t.filter((function(t,e){return e%4==0})).subarray(0,e):t.subarray(0,e)},t}();e.RedFloat32DataEncoder=o;var i=function(){function t(t,e,n){if(void 0===e&&(e=1),1!==e&&4!==e)throw new Error("Invalid number of channels: "+e);this.internalFormat=t.RGBA,this.format=t.RGBA,this.channelSize=e,this.textureType=n||t.FLOAT}return t.prototype.encode=function(t,e){var n=t;return 1===this.channelSize&&(r.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(e),t.forEach((function(t,e){return n[4*e]=t}))),n},t.prototype.allocate=function(t){return new Float32Array(4*t)},t.prototype.decode=function(t,e){return 1===this.channelSize?t.filter((function(t,e){return e%4==0})).subarray(0,e):t.subarray(0,e)},t}();e.RGBAFloatDataEncoder=i;var a=function(){function t(t,e){if(void 0===e&&(e=1),this.channelSize=4,1===e)this.internalFormat=t.ALPHA,this.format=t.ALPHA,this.textureType=t.UNSIGNED_BYTE,this.channelSize=e;else{if(4!==e)throw new Error("Invalid number of channels: "+e);this.internalFormat=t.RGBA,this.format=t.RGBA,this.textureType=t.UNSIGNED_BYTE,this.channelSize=e}}return t.prototype.encode=function(t,e){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},t.prototype.allocate=function(t){return new Uint8Array(t*this.channelSize)},t.prototype.decode=function(t,e){if(t.constructor===Uint8Array)return t.subarray(0,e);throw new Error("Invalid array type: "+t.constructor)},t}();e.Uint8DataEncoder=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),o=function(){function t(){}return Object.defineProperty(t.prototype,"debug",{get:function(){return r.env.debug},set:function(t){r.env.debug=t},enumerable:!0,configurable:!0}),t}();e.envImpl=new o},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(47));e.Tensor=o.Tensor},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(166));e.InferenceSession=o.InferenceSession},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=n(167),s=i(n(48)),u=function(){function t(t){this.session=new a.Session(t)}return t.prototype.loadModel=function(t,e,n){if("string"==typeof t)return this.session.loadModel(t);if("undefined"!=typeof Blob&&t instanceof Blob){var r=URL.createObjectURL(t);return this.session.loadModel(r)}if(t instanceof ArrayBuffer)return this.session.loadModel(t,e,n);if(ArrayBuffer.isView(t))return this.session.loadModel(t);throw new Error("Model type is not supported.")},t.prototype.run=function(t,e){return r(this,void 0,void 0,(function(){var e,n,r,i,a,u;return o(this,(function(o){switch(o.label){case 0:return e=new Map,t instanceof Map?(n=new Map,t.forEach((function(t,e){n.set(e,t.internalTensor)})),[4,this.session.run(n)]):[3,2];case 1:return e=o.sent(),[3,5];case 2:return Array.isArray(t)?(r=[],t.forEach((function(t){r.push(t.internalTensor)})),[4,this.session.run(r)]):[3,4];case 3:return e=o.sent(),[3,5];case 4:for(a in i=new Map,t)i.set(a,t[a].internalTensor);o.label=5;case 5:return u=new Map,e.forEach((function(t,e){u.set(e,s.fromInternalTensor(t))})),[2,u]}}))}))},t.prototype.startProfiling=function(){this.session.startProfiling()},t.prototype.endProfiling=function(){this.session.endProfiling()},t}();e.InferenceSession=u},function(t,e,n){"use strict";(function(t){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),a=n(168),s=n(171),u=n(172),c=n(3),l=n(173),f=function(){function e(t){void 0===t&&(t={}),this._initialized=!1,this.backendHint=t.backendHint,this.profiler=c.Profiler.create(t.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}return e.prototype.startProfiling=function(){this.profiler.start()},e.prototype.endProfiling=function(){this.profiler.stop()},e.prototype.loadModel=function(e,n,u){return r(this,void 0,void 0,(function(){var c=this;return o(this,(function(f){switch(f.label){case 0:return[4,this.profiler.event("session","Session.loadModel",(function(){return r(c,void 0,void 0,(function(){var r,c,f;return o(this,(function(o){switch(o.label){case 0:return[4,s.Backend(this.backendHint)];case 1:return r=o.sent(),this.sessionHandler=r.createSessionHandler(this.context),this._model=new l.Model,"string"!=typeof e?[3,7]:"undefined"!=typeof fetch?[3,3]:[4,a.promisify(i.readFile)(e)];case 2:return c=o.sent(),this.initialize(t.from(c)),[3,6];case 3:return[4,fetch(e)];case 4:return[4,o.sent().arrayBuffer()];case 5:c=o.sent(),this.initialize(t.from(c)),o.label=6;case 6:return[3,8];case 7:ArrayBuffer.isView(e)?this.initialize(t.from(e)):(f=new Uint8Array(e,n||0,u||e.byteLength),this.initialize(t.from(f))),o.label=8;case 8:return[2]}}))}))}))];case 1:return f.sent(),[2]}}))}))},e.prototype.initialize=function(t){var e=this;if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(function(){var n=e.sessionHandler.transformGraph?e.sessionHandler:void 0;e._model.load(t,n),e.sessionHandler.onGraphInitialized&&e.sessionHandler.onGraphInitialized(e._model.graph),e.initializeOps(e._model.graph),e._executionPlan=new u.ExecutionPlan(e._model.graph,e._ops,e.profiler)})),this._initialized=!0},e.prototype.run=function(t){var e=this;if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",(function(){return r(e,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return e=this.normalizeAndValidateInputs(t),[4,this._executionPlan.execute(this.sessionHandler,e)];case 1:return n=r.sent(),[2,this.createOutput(n)]}}))}))}))},e.prototype.normalizeAndValidateInputs=function(t){var e=this._model.graph.getInputNames();if(Array.isArray(t)){if(t.length!==e.length)throw new Error("incorrect input array length: expected "+e.length+" but got "+t.length)}else{if(t.size!==e.length)throw new Error("incorrect input map size: expected "+e.length+" but got "+t.size);for(var n=new Array(t.size),r=0,o=0;o<e.length;++o){var i=t.get(e[o]);if(!i)throw new Error("missing input tensor for: '"+name+"'");n[r++]=i}t=n}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,t,!1);else{var a=this._model.graph.getInputIndices(),s=this._model.graph.getValues(),u=new Array(a.length);for(o=0;o<a.length;++o){var c=s[a[o]];u[o]=c.type.shape.dims,this.context.graphInputTypes.push(c.type.tensorType),this.context.graphInputDims.push(t[o].dims)}this.validateInputTensorDims(u,t,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,t),t},e.prototype.validateInputTensorTypes=function(t,e){for(var n=0;n<e.length;n++){var r=t[n],o=e[n].type;if(r!==o)throw new Error("input tensor["+n+"] check failed: expected type '"+r+"' but got "+o)}},e.prototype.validateInputTensorDims=function(t,e,n){for(var r=0;r<e.length;r++){var o=t[r],i=e[r].dims;if(!this.compareTensorDims(o,i,n))throw new Error("input tensor["+r+"] check failed: expected shape '["+o.join(",")+"]' but got ["+i.join(",")+"]")}},e.prototype.compareTensorDims=function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r]&&(!n||0!==t[r]))return!1;return!0},e.prototype.createOutput=function(t){var e=this._model.graph.getOutputNames();if(t.length!==e.length)throw new Error("expected number of outputs do not match number of generated outputs");for(var n=new Map,r=0;r<e.length;++r)n.set(e[r],t[r]);return n},e.prototype.initializeOps=function(t){var e=t.getNodes();this._ops=new Array(e.length);for(var n=0;n<e.length;n++)this._ops[n]=this.sessionHandler.resolve(e[n],this._model.opsets)},e}();e.Session=f}).call(this,n(12).Buffer)},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),u=r[n];n<i;u=r[++n])y(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&T(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return m(o)||(o=l(t,o,r)),o}var i=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(T(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var c,w="",S=!1,O=["{","}"];return h(n)&&(S=!0,O=["[","]"]),T(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),x(n)&&(w=" "+f(n)),0!==a.length||S&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=S?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)A(e,String(a))?i.push(p(t,e,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))})),i}(t,n,r,s,a):a.map((function(e){return p(t,n,r,s,e,S)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(c,w,O)):O[0]+w+O[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),A(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=y(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),v(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===S(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===S(t)}function x(t){return w(t)&&("[object Error]"===S(t)||t instanceof Error)}function T(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(v(i)&&(i=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=w,e.isDate=_,e.isError=x,e.isFunction=T,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(169);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(n=[O((t=new Date).getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":"),[t.getDate(),P[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(170),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var E="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(E&&t[E]){var e;if("function"!=typeof(e=t[E]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,E,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),E&&Object.defineProperty(e,E,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=E,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(k,e,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(23))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var a=new Map;function s(t){return r(this,void 0,void 0,(function(){var e,n,r;return o(this,(function(o){switch(o.label){case 0:return void 0!==(e=onnx.backend)[t]&&function(t){var e=t;return"initialize"in e&&"function"==typeof e.initialize&&"createSessionHandler"in e&&"function"==typeof e.createSessionHandler&&"dispose"in e&&"function"==typeof e.dispose}(e[t])?e[t].disabled?[3,3]:(n=e[t],"object"==typeof(r=n.initialize())&&"then"in r?[4,r]:[3,2]):[3,3];case 1:r=o.sent(),o.label=2;case 2:if(r)return a.set(t,n),[2,n];o.label=3;case 3:return[2,void 0]}}))}))}e.Backend=function t(e){return r(this,void 0,void 0,(function(){var n,r,u,c,l,f,p,h,d;return o(this,(function(o){switch(o.label){case 0:return e?[3,1]:[2,t(["webgl","wasm","cpu"])];case 1:n="string"==typeof e?[e]:e,o.label=2;case 2:o.trys.push([2,7,8,9]),r=i(n),u=r.next(),o.label=3;case 3:return u.done?[3,6]:(c=u.value,(l=a.get(c))?[2,l]:[4,s(c)]);case 4:if(f=o.sent())return[2,f];o.label=5;case 5:return u=r.next(),[3,3];case 6:return[3,9];case 7:return p=o.sent(),h={error:p},[3,9];case 8:try{u&&!u.done&&(d=r.return)&&d.call(r)}finally{if(h)throw h.error}return[7];case 9:throw new Error("no available backend to use")}}))}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var u=n(3),c=function(t,e){this.op=t,this.node=e},l=function(){function t(t,e,n){this.graph=t,this.profiler=n,this.initialize(e)}return t.prototype.initialize=function(t){var e=this;this.profiler.event("session","ExecutionPlan.initialize",(function(){var n=e.graph.getNodes();if(n.length!==t.length)throw new Error("The size of nodes and OPs do not match.");e._ops=t.map((function(t,e){return new c(t,n[e])})),e.reset(),e._starter=[],e._ops.forEach((function(t,n){var r,o,a=!0;try{for(var s=i(t.node.inputs),u=s.next();!u.done;u=s.next()){var c=u.value;if(!e._values[c]&&-1===e.graph.getInputIndices().indexOf(c)){a=!1;break}}}catch(t){r={error:t}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}a&&e._starter.push(n)}))}))},t.prototype.reset=function(){this._values=this.graph.getValues().map((function(t){return t.tensor}))},t.prototype.execute=function(t,e){var n=this;return this.profiler.event("session","ExecutionPlan.execute",(function(){return r(n,void 0,void 0,(function(){var n,a,c,l,f,p,h,d,y,g=this;return o(this,(function(m){switch(m.label){case 0:if(this.reset(),n=t.createInferenceHandler(),a=this.graph.getInputIndices(),e.length!==a.length)throw new Error("number of input tensors don't match the number of inputs to the model: actual: "+e.length+" expected: "+a.length);e.forEach((function(t,e){var n=a[e];g._values[n]=t})),c=this._starter.slice(0),l=this.graph.getValues(),f=this.graph.getNodes(),p=0,h=function(){var t,e,a,h,y,m;return o(this,(function(v){switch(v.label){case 0:if(t=c[p++],e=d._ops[t],-1!==(a=e.node.inputs.map((function(t){return g._values[t]}))).indexOf(void 0))throw new Error("unresolved input detected: op: "+e.node);return h=a,u.Logger.verbose("ExecPlan","Runing op:"+e.node.name+" ("+h.map((function(t,n){return"'"+e.node.inputs[n]+"': "+t.type+"["+t.dims.join(",")+"]"})).join(", ")+")"),[4,d.profiler.event("node",e.node.name,(function(){return r(g,void 0,void 0,(function(){var t;return o(this,(function(r){if(!(t=e.op).checkInputs(h))throw new Error("invalid inputs detected; op: "+e.node.name);return[2,t.run(n,h)]}))}))}))];case 1:if((y=v.sent()).length!==e.node.outputs.length)throw new Error("the size of output does not match model definition.");return y.forEach((function(t,n){var r=e.node.outputs[n];if(g._values[r])throw new Error("output ["+r+"] already has value: op:"+e.node.name);g._values[r]=t})),m=new Set,y.forEach((function(t,n){var r,o,a,s,u=e.node.outputs[n];try{for(var c=(r=void 0,i(l[u].to)),p=c.next();!p.done;p=c.next()){var h=p.value,d=f[h],y=!0;try{for(var v=(a=void 0,i(d.inputs)),b=v.next();!b.done;b=v.next()){var w=b.value;if(!g._values[w]){y=!1;break}}}catch(t){a={error:t}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}y&&m.add(h)}}catch(t){r={error:t}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}})),c.push.apply(c,s(m)),[2]}}))},d=this,m.label=1;case 1:return p<c.length?[5,h()]:[3,3];case 2:return m.sent(),[3,1];case 3:return y=[],this.graph.getOutputIndices().forEach((function(t,e){var n=g._values[t];if(void 0===n)throw new Error("required output ["+t+"] does not have value");n.data,y.push(n)})),u.Logger.verbose("ExecPlan","disposing of inferenceHandler"),n.dispose(),[2,y]}}))}))}))},t}();e.ExecutionPlan=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),o=n(174),i=n(0),a=function(){function t(){}return t.prototype.load=function(t,e){var n=r.onnx.ModelProto.decode(t);if(i.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map((function(t){return{domain:t.domain,version:i.LongUtil.longToNumber(t.version)}})),this._graph=o.Graph.from(n.graph,e)},Object.defineProperty(t.prototype,"graph",{get:function(){return this._graph},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opsets",{get:function(){return this._opsets},enumerable:!0,configurable:!0}),t}();e.Model=a},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(175),i=n(1),a=n(0);e.Graph={from:function(t,e){return new c(t,e)}};var s=function(){function t(t){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,t&&(this.type=a.ProtoUtil.tensorValueTypeFromProto(t.type.tensorType))}return Object.defineProperty(t.prototype,"from",{get:function(){return this._from},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"to",{get:function(){return this._to},enumerable:!0,configurable:!0}),t}(),u=function(t){this.name=t.name,this.opType=t.opType,this.inputs=[],this.outputs=[],this.attributes=new o.Attribute(t.attribute),this.executeNode=!0},c=function(){function t(t,e){if(!t)throw new TypeError("graph is empty");this.buildGraph(t),this.transformGraph(e),this.checkIsAcyclic()}return t.prototype.getInputIndices=function(){return this._allInputIndices},t.prototype.getInputNames=function(){return this._allInputNames},t.prototype.getOutputIndices=function(){return this._allOutputIndices},t.prototype.getOutputNames=function(){return this._allOutputNames},t.prototype.getValues=function(){return this._allData},t.prototype.getNodes=function(){return this._nodes},t.prototype.buildGraph=function(t){var e,n,o,c,l,f,p,h,d,y,g,m,v=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];var b=new Map;if(!t.input)throw new Error("missing information in graph: input");var w=[];try{for(var _=r(t.input),x=_.next();!x.done;x=_.next()){var T=x.value;if(v.has(T.name))throw new Error("duplicated input name: "+T.name);var S=this._allData.push(new s(T))-1;v.set(T.name,S),w.push(T.name)}}catch(t){e={error:t}}finally{try{x&&!x.done&&(n=_.return)&&n.call(_)}finally{if(e)throw e.error}}if(!t.initializer)throw new Error("missing information in graph: initializer");try{for(var O=r(t.initializer),P=O.next();!P.done;P=O.next()){T=P.value;var A=v.get(T.name);if(void 0===A){var E=new s;E.type={shape:{dims:a.ProtoUtil.tensorDimsFromProto(T.dims)},tensorType:a.ProtoUtil.tensorDataTypeFromProto(T.dataType)},A=this._allData.push(E)-1,v.set(T.name,A)}this._allData[A]._from=-1,this._allData[A].tensor=i.Tensor.fromProto(T)}}catch(t){o={error:t}}finally{try{P&&!P.done&&(c=O.return)&&c.call(O)}finally{if(o)throw o.error}}for(T=0;T<this._allData.length;T++)this._allData[T].tensor||(this._allInputIndices.push(T),this._allInputNames.push(w[T]));if(!t.output)throw new Error("missing information in graph: output");try{for(var k=r(t.output),D=k.next();!D.done;D=k.next()){if(T=D.value,v.has(T.name))throw new Error("duplicated output name: "+T.name);S=this._allData.push(new s(T))-1,v.set(T.name,S),this._allOutputIndices.push(S),this._allOutputNames.push(T.name)}}catch(t){l={error:t}}finally{try{D&&!D.done&&(f=k.return)&&f.call(k)}finally{if(l)throw l.error}}if(!t.node)throw new Error("missing information in graph: node");try{for(var I=r(t.node),L=I.next();!L.done;L=I.next()){if(!(F=L.value).name)for(var j=0;;j++){var C="unnamed_"+F.opType+"_"+j;if(!b.has(C)){F.name=C;break}}if(b.has(F.name))throw new Error("duplicated node name: "+F.name);S=this._nodes.push(new u(F))-1,b.set(F.name,S)}}catch(t){p={error:t}}finally{try{L&&!L.done&&(h=I.return)&&h.call(I)}finally{if(p)throw p.error}}for(T=0;T<this._nodes.length;T++){var M=this._nodes[T];if(!(F=t.node[T]).output)throw new Error("missing output for node: "+F.name);try{for(var B=(d=void 0,r(F.output)),R=B.next();!R.done;R=B.next()){var N=R.value;if(void 0===(z=v.get(N))&&(z=this._allData.push(new s)-1,v.set(N,z)),M.outputs.push(z),void 0!==this._allData[z]._from)throw new Error("multiple nodes output to one data value: "+z);if(this._allData[z]._from=T,"Constant"===F.opType){if(!F.attribute||1!==F.attribute.length||!F.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!F.output||1!==F.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");M.outputs.pop(),M.executeNode=!1,this._allData[z]._from=-1,this._allData[z].tensor=i.Tensor.fromProto(F.attribute[0].t)}}}catch(t){d={error:t}}finally{try{R&&!R.done&&(y=B.return)&&y.call(B)}finally{if(d)throw d.error}}}for(T=0;T<this._nodes.length;T++){var F;if(M=this._nodes[T],!(F=t.node[T]).input)throw new Error("missing input for node: "+F.name);try{for(var U=(g=void 0,r(F.input)),G=U.next();!G.done;G=U.next()){var z,V=G.value;if(void 0===(z=v.get(V)))throw new Error("unrecognized input '"+V+"' for node: "+F.name);M.inputs.push(z),this._allData[z]._to.push(T)}}catch(t){g={error:t}}finally{try{G&&!G.done&&(m=U.return)&&m.call(U)}finally{if(g)throw g.error}}}return!0},t.prototype.checkIsAcyclic=function(){var t=this,e=new Set;this._allInputIndices.forEach((function(n){t._allData[n]._to.forEach((function(t){e.add(t)}))}));for(var n=Array.from(e),r=new Array(this._nodes.length).fill("white"),o=function(){var e=n.pop();"gray"===r[e]?r[e]="black":(n.push(e),r[e]="gray",i._nodes[e].outputs.forEach((function(o){var i=t._allData[o];if(void 0!==i.tensor)throw new Error("node outputs should not be initialized");if(i._from!==e)throw new Error("from property of the Value object doesn't match index of Node being processed");i._to.forEach((function(t){if("gray"===r[t])throw new Error("model graph is cyclic");"white"===r[t]&&n.push(t)}))})))},i=this;n.length>0;)o()},t.prototype.transformGraph=function(t){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),t&&t.transformGraph(this),this.finalizeGraph()},t.prototype.finalizeGraph=function(){for(var t,e=this,n=0,r=function(r){if(!o._nodes[r].executeNode)return n++,o._nodes[r].outputs.forEach((function(t){e._allData[t]._from=-2})),o._nodes.splice(r,1),t=--r,"continue";n>0&&(o._nodes[r].inputs.forEach((function(t){var o=e._allData[t]._to.indexOf(r+n);-1!==o&&(e._allData[t]._to[o]=r)})),o._nodes[r].outputs.forEach((function(t){e._allData[t]._from&&e._allData[t]._from===r+n&&(e._allData[t]._from=r)}))),t=r},o=this,i=0;i<this._nodes.length;i++)r(i),i=t;n=0;var a,s=function(t){if(-2===u._allData[t].from&&-1===u._allOutputIndices.indexOf(t+n))return n++,u._allData.splice(t,1),a=--t,"continue";if(n>0){var r=-1;void 0!==u._allData[t].from&&-1!==u._allData[t].from?-1!==(r=u._nodes[u._allData[t].from].outputs.indexOf(t+n))&&(u._nodes[u._allData[t].from].outputs[r]=t):-1!==(r=u._allInputIndices.indexOf(t+n))&&(u._allInputIndices[r]=t),u._allData[t].to.forEach((function(o){-1!==(r=e._nodes[o].inputs.indexOf(t+n))&&(e._nodes[o].inputs[r]=t)})),0===u._allData[t].to.length&&-1!==(r=u._allOutputIndices.indexOf(t+n))&&(u._allOutputIndices[r]=t)}a=t},u=this;for(i=0;i<this._allData.length;i++)s(i),i=a},t.prototype.deleteNode=function(t){var e,n,o=this._nodes[t];if(o.inputs.length>1)throw new Error("Node deletion with multiple inputs is not supported. ");if(o.outputs.length>1)for(var i=1;i<o.outputs.length;i++)if(this._allData[o.outputs[i]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");o.executeNode=!1;var a=o.inputs[0],s=o.outputs[0],u=this._allData[s].to,c=this._allData[a].to.indexOf(t);if(-1===c)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[a].to.splice(c,1),this._allData[s]._to=[];var l=this._allOutputIndices.indexOf(s);if(-1!==l&&(this._allOutputIndices[l]=a),u&&u.length>0)try{for(var f=r(u),p=f.next();!p.done;p=f.next()){var h=p.value,d=this._nodes[h].inputs.indexOf(s);if(-1===d)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[h].inputs[d]=a,this._allData[a].to.push(h)}}catch(t){e={error:t}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}},t.prototype.removeAllDropoutNodes=function(){var t,e,n=0;try{for(var o=r(this._nodes),i=o.next();!i.done;i=o.next()){var a=i.value;if("Dropout"===a.opType){if(1!==a.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==a.outputs.length&&2!==a.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===a.outputs.length&&0!==this._allData[a.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(n)}n++}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.removeAllIdentityNodes=function(){var t,e,n=0;try{for(var o=r(this._nodes),i=o.next();!i.done;i=o.next())"Identity"===i.value.opType&&this.deleteNode(n),n++}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t}()},function(t,e,n){"use strict";(function(t){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(13)),a=n(9),s=n(1),u=n(0),c=function(){function e(t){var n,o;if(this._attributes=new Map,null!=t){try{for(var i=r(t),a=i.next();!a.done;a=i.next()){var s=a.value;this._attributes.set(s.name,[e.getValue(s),e.getType(s)])}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}if(this._attributes.size<t.length)throw new Error("duplicated attribute names")}}return e.prototype.set=function(t,e,n){this._attributes.set(t,[n,e])},e.prototype.delete=function(t){this._attributes.delete(t)},e.prototype.getFloat=function(t,e){return this.get(t,"float",e)},e.prototype.getInt=function(t,e){return this.get(t,"int",e)},e.prototype.getString=function(t,e){return this.get(t,"string",e)},e.prototype.getTensor=function(t,e){return this.get(t,"tensor",e)},e.prototype.getFloats=function(t,e){return this.get(t,"floats",e)},e.prototype.getInts=function(t,e){return this.get(t,"ints",e)},e.prototype.getStrings=function(t,e){return this.get(t,"strings",e)},e.prototype.getTensors=function(t,e){return this.get(t,"tensors",e)},e.prototype.get=function(t,e,n){var r=this._attributes.get(t);if(void 0===r){if(void 0!==n)return n;throw new Error("required attribute not found: "+t)}if(r[1]!==e)throw new Error("type mismatch: expected "+e+" but got "+r[1]);return r[0]},e.getType=function(t){switch(t.type){case a.onnx.AttributeProto.AttributeType.FLOAT:return"float";case a.onnx.AttributeProto.AttributeType.INT:return"int";case a.onnx.AttributeProto.AttributeType.STRING:return"string";case a.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case a.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case a.onnx.AttributeProto.AttributeType.INTS:return"ints";case a.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case a.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error("attribute type is not supported yet: "+a.onnx.AttributeProto.AttributeType[t.type])}},e.getValue=function(e){if(e.type===a.onnx.AttributeProto.AttributeType.GRAPH||e.type===a.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");var n=this.getValueNoCheck(e);if(e.type===a.onnx.AttributeProto.AttributeType.INT&&i.default.isLong(n))return n.toNumber();if(e.type===a.onnx.AttributeProto.AttributeType.INTS){for(var r=n,o=new Array(r.length),c=0;c<r.length;c++){var l=r[c];o[c]=u.LongUtil.longToNumber(l)}return o}if(e.type===a.onnx.AttributeProto.AttributeType.TENSOR)return s.Tensor.fromProto(n);if(e.type===a.onnx.AttributeProto.AttributeType.TENSORS)return n.map((function(t){return s.Tensor.fromProto(t)}));if(e.type===a.onnx.AttributeProto.AttributeType.STRING){var f=n;return t.from(f.buffer,f.byteOffset,f.byteLength).toString()}return e.type===a.onnx.AttributeProto.AttributeType.STRINGS?n.map((function(e){return t.from(e.buffer,e.byteOffset,e.byteLength).toString()})):n},e.getValueNoCheck=function(t){switch(t.type){case a.onnx.AttributeProto.AttributeType.FLOAT:return t.f;case a.onnx.AttributeProto.AttributeType.INT:return t.i;case a.onnx.AttributeProto.AttributeType.STRING:return t.s;case a.onnx.AttributeProto.AttributeType.TENSOR:return t.t;case a.onnx.AttributeProto.AttributeType.GRAPH:return t.g;case a.onnx.AttributeProto.AttributeType.FLOATS:return t.floats;case a.onnx.AttributeProto.AttributeType.INTS:return t.ints;case a.onnx.AttributeProto.AttributeType.STRINGS:return t.strings;case a.onnx.AttributeProto.AttributeType.TENSORS:return t.tensors;case a.onnx.AttributeProto.AttributeType.GRAPHS:return t.graphs;default:throw new Error("unsupported attribute type: "+a.onnx.AttributeProto.AttributeType[t.type])}},e}();e.Attribute=c}).call(this,n(12).Buffer)}])},module.exports=e()},function(t,e,n){var r=n(6),o=n(42),i=n(17),a=n(23),s=n(28),u=n(4),c=n(44),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(43),o=n(10);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(10);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(25);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(38),o=n(19),i=n(1)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(0),o=n(7),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(0),o=n(11);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(45),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(46),o=n(47),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){"use strict";var r=n(23),o=n(81),i=n(19),a=n(13),s=n(56),u=a.set,c=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r,o=n(3),i=n(53),a=n(34),s=n(33),u=n(55),c=n(29),l=n(32),f=l("IE_PROTO"),p=function(){},h=function(t){return"<script>"+t+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=r?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=o(t),n=new p,p.prototype=null,n[f]=t):n=d(),void 0===e?n:i(n,e)}},function(t,e,n){var r={};r[n(1)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(37),o=n(9),i=n(1)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){"use strict";var r,o,i=n(107),a=n(108),s=RegExp.prototype.exec,u=String.prototype.replace,c=s,l=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||f)&&(c=function(t){var e,n,r,o,a=this,c=f&&a.sticky,h=i.call(a),d=a.source,y=0,g=t;return c&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),g=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(d="(?: "+d+")",g=" "+g,y++),n=new RegExp("^(?:"+d+")",h)),p&&(n=new RegExp("^"+d+"$(?!\\s)",h)),l&&(e=a.lastIndex),r=s.call(c?n:a,g),c?r?(r.input=r.input.slice(y),r[0]=r[0].slice(y),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),p&&r&&r.length>1&&u.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=c},function(t,e,n){var r=n(16),o=n(10),i=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(2),o=n(9),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(6),o=n(2),i=n(29);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(0),o=n(30),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(14),o=n(45);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(4),o=n(23),i=n(49).indexOf,a=n(33);t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(23),o=n(18),i=n(78),a=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(2),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(2);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(6),o=n(12),i=n(3),a=n(54);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,u=0;s>u;)o.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(48),o=n(34);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(15);t.exports=r("document","documentElement")},function(t,e,n){"use strict";var r=n(5),o=n(57),i=n(59),a=n(84),s=n(20),u=n(11),c=n(8),l=n(1),f=n(14),p=n(19),h=n(58),d=h.IteratorPrototype,y=h.BUGGY_SAFARI_ITERATORS,g=l("iterator"),m=function(){return this};t.exports=function(t,e,n,l,h,v,b){o(n,e,l);var w,_,x,T=function(t){if(t===h&&E)return E;if(!y&&t in P)return P[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",O=!1,P=t.prototype,A=P[g]||P["@@iterator"]||h&&P[h],E=!y&&A||T(h),k="Array"==e&&P.entries||A;if(k&&(w=i(k.call(new t)),d!==Object.prototype&&w.next&&(f||i(w)===d||(a?a(w,d):"function"!=typeof w[g]&&u(w,g,m)),s(w,S,!0,!0),f&&(p[S]=m))),"values"==h&&A&&"values"!==A.name&&(O=!0,E=function(){return A.call(this)}),f&&!b||P[g]===E||u(P,g,E),p[e]=E,h)if(_={values:T("values"),keys:v?E:T("keys"),entries:T("entries")},b)for(x in _)(y||O||!(x in P))&&c(P,x,_[x]);else r({target:e,proto:!0,forced:y||O},_);return _}},function(t,e,n){"use strict";var r=n(58).IteratorPrototype,o=n(36),i=n(17),a=n(20),s=n(19),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,c,!1,!0),s[c]=u,t}},function(t,e,n){"use strict";var r,o,i,a=n(59),s=n(11),u=n(4),c=n(1),l=n(14),f=c("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):p=!0),null==r&&(r={}),l||u(r,f)||s(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(4),o=n(24),i=n(32),a=n(83),s=i("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){var r=n(8);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(1),o=n(19),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(3);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r,o,i,a=n(0),s=n(2),u=n(9),c=n(26),l=n(55),f=n(29),p=n(65),h=a.location,d=a.setImmediate,y=a.clearImmediate,g=a.process,m=a.MessageChannel,v=a.Dispatch,b=0,w={},_=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},x=function(t){return function(){_(t)}},T=function(t){_(t.data)},S=function(t){a.postMessage(t+"",h.protocol+"//"+h.host)};d&&y||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},y=function(t){delete w[t]},"process"==u(g)?r=function(t){g.nextTick(x(t))}:v&&v.now?r=function(t){v.now(x(t))}:m&&!p?(i=(o=new m).port2,o.port1.onmessage=T,r=c(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(S)||"file:"===h.protocol?r="onreadystatechange"in f("script")?function(t){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),_(t)}}:function(t){setTimeout(x(t),0)}:(r=S,a.addEventListener("message",T,!1))),t.exports={set:d,clear:y}},function(t,e,n){var r=n(66);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(15);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";var r=n(25),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(5),o=n(40);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){"use strict";var r=n(41).charAt,o=n(13),i=n(56),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(2),o=n(1),i=n(14),a=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){"use strict";var r=n(5),o=n(49).indexOf,i=n(79),a=n(80),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(t){return u?s.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(0),o=n(31),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(4),o=n(75),i=n(22),a=n(12);t.exports=function(t,e){for(var n=o(e),s=a.f,u=i.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||s(t,l,u(e,l))}}},function(t,e,n){var r=n(15),o=n(77),i=n(50),a=n(3);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(0);t.exports=r},function(t,e,n){var r=n(48),o=n(34).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(16),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(6),o=n(2),i=n(4),a=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(i(s,t))return s[t];e||(e={});var n=[][t],c=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:u,f=i(e,1)?e[1]:void 0;return s[t]=!!n&&!o((function(){if(c&&!r)return!0;var t={length:-1};c?a(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,l,f)}))}},function(t,e,n){var r=n(1),o=n(36),i=n(12),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var r=n(52);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(2);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(3),o=n(85);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var r=n(7);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(8),o=Date.prototype,i=o.toString,a=o.getTime;new Date(NaN)+""!="Invalid Date"&&r(o,"toString",(function(){var t=a.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,e,n){var r=n(6),o=n(12).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(5),o=n(16),i=n(89),a=n(90),s=n(2),u=1..toFixed,c=Math.floor,l=function(t,e,n){return 0===e?n:e%2==1?l(t,e-1,n*t):l(t*t,e/2,n)};r({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}))},{toFixed:function(t){var e,n,r,s,u=i(this),f=o(t),p=[0,0,0,0,0,0],h="",d="0",y=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*p[n],p[n]=r%1e7,r=c(r/1e7)},g=function(t){for(var e=6,n=0;--e>=0;)n+=p[e],p[e]=c(n/t),n=n%t*1e7},m=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==p[t]){var n=String(p[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(h="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*l(2,69,1))-69)<0?u*l(2,-e,1):u/l(2,e,1),n*=4503599627370496,(e=52-e)>0){for(y(0,n),r=f;r>=7;)y(1e7,0),r-=7;for(y(l(10,r,1),0),r=e-1;r>=23;)g(1<<23),r-=23;g(1<<r),y(1,1),g(2),d=m()}else y(0,n),y(1<<-e,0),d=m()+a.call("0",f);return d=f>0?h+((s=d.length)<=f?"0."+a.call("0",f-s)+d:d.slice(0,s-f)+"."+d.slice(s-f)):h+d}})},function(t,e,n){var r=n(9);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,n){"use strict";var r=n(16),o=n(10);t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var r=n(37),o=n(8),i=n(92);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(37),o=n(38);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){var r=n(5),o=n(94);r({global:!0,forced:parseFloat!=o},{parseFloat:o})},function(t,e,n){var r=n(0),o=n(95).trim,i=n(60),a=r.parseFloat,s=1/a(i+"-0")!=-1/0;t.exports=s?function(t){var e=o(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},function(t,e,n){var r=n(10),o="["+n(60)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e,n){"use strict";var r,o,i,a,s=n(5),u=n(14),c=n(0),l=n(15),f=n(97),p=n(8),h=n(61),d=n(20),y=n(98),g=n(7),m=n(25),v=n(39),b=n(9),w=n(31),_=n(99),x=n(100),T=n(101),S=n(64).set,O=n(102),P=n(103),A=n(104),E=n(67),k=n(105),D=n(13),I=n(51),L=n(1),j=n(106),C=L("species"),M="Promise",B=D.get,R=D.set,N=D.getterFor(M),F=f,U=c.TypeError,G=c.document,z=c.process,V=l("fetch"),W=E.f,q=W,H="process"==b(z),Y=!!(G&&G.createEvent&&c.dispatchEvent),X=I(M,(function(){if(!(w(F)!==String(F))){if(66===j)return!0;if(!H&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype.finally)return!0;if(j>=51&&/native code/.test(F))return!1;var t=F.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[C]=e,!(t.then((function(){}))instanceof e)})),K=X||!x((function(t){F.all(t).catch((function(){}))})),$=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},J=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;O((function(){for(var o=e.value,i=1==e.state,a=0;r.length>a;){var s,u,c,l=r[a++],f=i?l.ok:l.fail,p=l.resolve,h=l.reject,d=l.domain;try{f?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===f?s=o:(d&&d.enter(),s=f(o),d&&(d.exit(),c=!0)),s===l.promise?h(U("Promise-chain cycle")):(u=$(s))?u.call(s,p,h):p(s)):h(o)}catch(t){d&&!c&&d.exit(),h(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Q(t,e)}))}},Z=function(t,e,n){var r,o;Y?((r=G.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},(o=c["on"+t])?o(r):"unhandledrejection"===t&&A("Unhandled promise rejection",n)},Q=function(t,e){S.call(c,(function(){var n,r=e.value;if(tt(e)&&(n=k((function(){H?z.emit("unhandledRejection",r,t):Z("unhandledrejection",t,r)})),e.rejection=H||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){S.call(c,(function(){H?z.emit("rejectionHandled",t):Z("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(o){t(e,n,o,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,J(t,e,!0))},ot=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw U("Promise can't be resolved itself");var o=$(n);o?O((function(){var r={done:!1};try{o.call(n,nt(ot,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,J(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};X&&(F=function(t){v(this,F,M),m(t),r.call(this);var e=B(this);try{t(nt(ot,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){R(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(F.prototype,{then:function(t,e){var n=N(this),r=W(T(this,F));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=H?z.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&J(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=B(t);this.promise=t,this.resolve=nt(ot,t,e),this.reject=nt(rt,t,e)},E.f=W=function(t){return t===F||t===i?new o(t):q(t)},u||"function"!=typeof f||(a=f.prototype.then,p(f.prototype,"then",(function(t,e){var n=this;return new F((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return P(F,V.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:X},{Promise:F}),d(F,M,!1,!0),y(M),i=l(M),s({target:M,stat:!0,forced:X},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),s({target:M,stat:!0,forced:u||X},{resolve:function(t){return P(u&&this===i?F:this,t)}}),s({target:M,stat:!0,forced:K},{all:function(t){var e=this,n=W(e),r=n.resolve,o=n.reject,i=k((function(){var n=m(e.resolve),i=[],a=0,s=1;_(t,(function(t){var u=a++,c=!1;i.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,i[u]=t,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=W(e),r=n.reject,o=k((function(){var o=m(e.resolve);_(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(0);t.exports=r.Promise},function(t,e,n){"use strict";var r=n(15),o=n(12),i=n(1),a=n(6),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(3),o=n(62),i=n(18),a=n(26),s=n(27),u=n(63),c=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,f){var p,h,d,y,g,m,v,b=a(e,n,l?2:1);if(f)p=t;else{if("function"!=typeof(h=s(t)))throw TypeError("Target is not iterable");if(o(h)){for(d=0,y=i(t.length);y>d;d++)if((g=l?b(r(v=t[d])[0],v[1]):b(t[d]))&&g instanceof c)return g;return new c(!1)}p=h.call(t)}for(m=p.next;!(v=m.call(p)).done;)if("object"==typeof(g=u(p,b,v.value,l))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(t){return new c(!0,t)}},function(t,e,n){var r=n(1)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r=n(3),o=n(25),i=n(1)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r,o,i,a,s,u,c,l,f=n(0),p=n(22).f,h=n(9),d=n(64).set,y=n(65),g=f.MutationObserver||f.WebKitMutationObserver,m=f.process,v=f.Promise,b="process"==h(m),w=p(f,"queueMicrotask"),_=w&&w.value;_||(r=function(){var t,e;for(b&&(t=m.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},b?a=function(){m.nextTick(r)}:g&&!y?(s=!0,u=document.createTextNode(""),new g(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):v&&v.resolve?(c=v.resolve(void 0),l=c.then,a=function(){l.call(c,r)}):a=function(){d.call(f,r)}),t.exports=_||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(3),o=n(7),i=n(67);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r,o,i=n(0),a=n(66),s=i.process,u=s&&s.versions,c=u&&u.v8;c?o=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){"use strict";var r=n(3);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(2);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";var r=n(110),o=n(3),i=n(24),a=n(18),s=n(16),u=n(10),c=n(111),l=n(112),f=Math.max,p=Math.min,h=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=r.REPLACE_KEEPS_$0,v=g?"$":"$0";return[function(n,r){var o=u(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!g&&m||"string"==typeof r&&-1===r.indexOf(v)){var i=n(e,t,this,r);if(i.done)return i.value}var u=o(t),h=String(this),d="function"==typeof r;d||(r=String(r));var y=u.global;if(y){var w=u.unicode;u.lastIndex=0}for(var _=[];;){var x=l(u,h);if(null===x)break;if(_.push(x),!y)break;""===String(x[0])&&(u.lastIndex=c(h,a(u.lastIndex),w))}for(var T,S="",O=0,P=0;P<_.length;P++){x=_[P];for(var A=String(x[0]),E=f(p(s(x.index),h.length),0),k=[],D=1;D<x.length;D++)k.push(void 0===(T=x[D])?T:String(T));var I=x.groups;if(d){var L=[A].concat(k,E,h);void 0!==I&&L.push(I);var j=String(r.apply(void 0,L))}else j=b(A,h,E,k,I,r);E>=O&&(S+=h.slice(O,E)+j,O=E+A.length)}return S+h.slice(O)}];function b(t,n,r,o,a,s){var u=r+t.length,c=o.length,l=y;return void 0!==a&&(a=i(a),l=d),e.call(s,l,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>c){var f=h(l/10);return 0===f?e:f<=c?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):e}s=o[l-1]}return void 0===s?"":s}))}}))},function(t,e,n){"use strict";n(68);var r=n(8),o=n(2),i=n(1),a=n(40),s=n(11),u=i("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),h=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var d=i(t),y=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),g=y&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!y||!g||"replace"===t&&(!c||!l||p)||"split"===t&&!h){var m=/./[d],v=n(d,""[t],(function(t,e,n,r,o){return e.exec===a?y&&!o?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=v[0],w=v[1];r(String.prototype,t,b),r(RegExp.prototype,d,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}f&&s(RegExp.prototype[d],"sham",!0)}},function(t,e,n){"use strict";var r=n(41).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(9),o=n(40);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";var r,o=n(5),i=n(22).f,a=n(18),s=n(114),u=n(10),c=n(116),l=n(14),f="".startsWith,p=Math.min,h=c("startsWith");o({target:"String",proto:!0,forced:!!(l||h||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!h},{startsWith:function(t){var e=String(u(this));s(t);var n=a(p(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return f?f.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){var r=n(115);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(7),o=n(9),i=n(1)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(1)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(5),o=n(118);r({target:"String",proto:!0,forced:n(119)("link")},{link:function(t){return o(this,"a","href",t)}})},function(t,e,n){var r=n(10),o=/"/g;t.exports=function(t,e,n,i){var a=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,n){var r=n(2);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){var r=n(0),o=n(121),i=n(35),a=n(11),s=n(1),u=s("iterator"),c=s("toStringTag"),l=i.values;for(var f in o){var p=r[f],h=p&&p.prototype;if(h){if(h[u]!==l)try{a(h,u,l)}catch(t){h[u]=l}if(h[c]||a(h,c,f),o[f])for(var d in i)if(h[d]!==i[d])try{a(h,d,i[d])}catch(t){h[d]=i[d]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";n(69);var r,o=n(5),i=n(6),a=n(70),s=n(0),u=n(53),c=n(8),l=n(39),f=n(4),p=n(123),h=n(124),d=n(41).codeAt,y=n(126),g=n(20),m=n(127),v=n(13),b=s.URL,w=m.URLSearchParams,_=m.getState,x=v.set,T=v.getterFor("URL"),S=Math.floor,O=Math.pow,P=/[A-Za-z]/,A=/[\d+-.A-Za-z]/,E=/\d/,k=/^(0x|0X)/,D=/^[0-7]+$/,I=/^\d+$/,L=/^[\dA-Fa-f]+$/,j=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,C=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,M=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,R=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=F(e.slice(1,-1))))return"Invalid host";t.host=n}else if(Y(t)){if(e=y(e),j.test(e))return"Invalid host";if(null===(n=N(e)))return"Invalid host";t.host=n}else{if(C.test(e))return"Invalid host";for(n="",r=h(e),o=0;o<r.length;o++)n+=q(r[o],G);t.host=n}},N=function(t){var e,n,r,o,i,a,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=u[r]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=k.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?I:8==i?D:L).test(o))return t;a=parseInt(o,i)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=O(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*O(256,3-r);return s},F=function(t){var e,n,r,o,i,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,p=function(){return t.charAt(f)};if(":"==p()){if(":"!=t.charAt(1))return;f+=2,l=++c}for(;p();){if(8==c)return;if(":"!=p()){for(e=n=0;n<4&&L.test(p());)e=16*e+parseInt(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,c>6)return;for(r=0;p();){if(o=null,r>0){if(!("."==p()&&r<4))return;f++}if(!E.test(p()))return;for(;E.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}u[c]=256*u[c]+o,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;u[c++]=e}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u},U=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},G={},z=p({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),V=p({},z,{"#":1,"?":1,"{":1,"}":1}),W=p({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(t,e){var n=d(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},H={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(t){return f(H,t.scheme)},X=function(t){return""!=t.username||""!=t.password},K=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},$=function(t,e){var n;return 2==t.length&&P.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},J=function(t){var e;return t.length>1&&$(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Z=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&$(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},rt={},ot={},it={},at={},st={},ut={},ct={},lt={},ft={},pt={},ht={},dt={},yt={},gt={},mt={},vt={},bt={},wt={},_t=function(t,e,n,o){var i,a,s,u,c,l=n||tt,p=0,d="",y=!1,g=!1,m=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(M,"")),e=e.replace(B,""),i=h(e);p<=i.length;){switch(a=i[p],l){case tt:if(!a||!P.test(a)){if(n)return"Invalid scheme";l=nt;continue}d+=a.toLowerCase(),l=et;break;case et:if(a&&(A.test(a)||"+"==a||"-"==a||"."==a))d+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";d="",l=nt,p=0;continue}if(n&&(Y(t)!=f(H,d)||"file"==d&&(X(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,n)return void(Y(t)&&H[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?l=ht:Y(t)&&o&&o.scheme==t.scheme?l=rt:Y(t)?l=st:"/"==i[p+1]?(l=ot,p++):(t.cannotBeABaseURL=!0,t.path.push(""),l=vt)}break;case nt:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,l=wt;break}l="file"==o.scheme?ht:it;continue;case rt:if("/"!=a||"/"!=i[p+1]){l=it;continue}l=ut,p++;break;case ot:if("/"==a){l=ct;break}l=mt;continue;case it:if(t.scheme=o.scheme,a==r)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==a||"\\"==a&&Y(t))l=at;else if("?"==a)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",l=bt;else{if("#"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),l=mt;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=wt}break;case at:if(!Y(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,l=mt;continue}l=ct}else l=ut;break;case st:if(l=ut,"/"!=a||"/"!=d.charAt(p+1))continue;p++;break;case ut:if("/"!=a&&"\\"!=a){l=ct;continue}break;case ct:if("@"==a){y&&(d="%40"+d),y=!0,s=h(d);for(var v=0;v<s.length;v++){var b=s[v];if(":"!=b||m){var w=q(b,W);m?t.password+=w:t.username+=w}else m=!0}d=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)){if(y&&""==d)return"Invalid authority";p-=h(d).length+1,d="",l=lt}else d+=a;break;case lt:case ft:if(n&&"file"==t.scheme){l=yt;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)){if(Y(t)&&""==d)return"Invalid host";if(n&&""==d&&(X(t)||null!==t.port))return;if(u=R(t,d))return u;if(d="",l=gt,n)return;continue}"["==a?g=!0:"]"==a&&(g=!1),d+=a}else{if(""==d)return"Invalid host";if(u=R(t,d))return u;if(d="",l=pt,n==ft)return}break;case pt:if(!E.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)||n){if(""!=d){var _=parseInt(d,10);if(_>65535)return"Invalid port";t.port=Y(t)&&_===H[t.scheme]?null:_,d=""}if(n)return;l=gt;continue}return"Invalid port"}d+=a;break;case ht:if(t.scheme="file","/"==a||"\\"==a)l=dt;else{if(!o||"file"!=o.scheme){l=mt;continue}if(a==r)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==a)t.host=o.host,t.path=o.path.slice(),t.query="",l=bt;else{if("#"!=a){J(i.slice(p).join(""))||(t.host=o.host,t.path=o.path.slice(),Z(t)),l=mt;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=wt}}break;case dt:if("/"==a||"\\"==a){l=yt;break}o&&"file"==o.scheme&&!J(i.slice(p).join(""))&&($(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),l=mt;continue;case yt:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&$(d))l=mt;else if(""==d){if(t.host="",n)return;l=gt}else{if(u=R(t,d))return u;if("localhost"==t.host&&(t.host=""),n)return;d="",l=gt}continue}d+=a;break;case gt:if(Y(t)){if(l=mt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=mt,"/"!=a))continue}else t.fragment="",l=wt;else t.query="",l=bt;break;case mt:if(a==r||"/"==a||"\\"==a&&Y(t)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=d).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Z(t),"/"==a||"\\"==a&&Y(t)||t.path.push("")):Q(d)?"/"==a||"\\"==a&&Y(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&$(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",l=bt):"#"==a&&(t.fragment="",l=wt)}else d+=q(a,V);break;case vt:"?"==a?(t.query="",l=bt):"#"==a?(t.fragment="",l=wt):a!=r&&(t.path[0]+=q(a,G));break;case bt:n||"#"!=a?a!=r&&("'"==a&&Y(t)?t.query+="%27":t.query+="#"==a?"%23":q(a,G)):(t.fragment="",l=wt);break;case wt:a!=r&&(t.fragment+=q(a,z))}p++}},xt=function(t){var e,n,r=l(this,xt,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(t),s=x(r,{type:"URL"});if(void 0!==o)if(o instanceof xt)e=T(o);else if(n=_t(e={},String(o)))throw TypeError(n);if(n=_t(s,a,null,e))throw TypeError(n);var u=s.searchParams=new w,c=_(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},i||(r.href=St.call(r),r.origin=Ot.call(r),r.protocol=Pt.call(r),r.username=At.call(r),r.password=Et.call(r),r.host=kt.call(r),r.hostname=Dt.call(r),r.port=It.call(r),r.pathname=Lt.call(r),r.search=jt.call(r),r.searchParams=Ct.call(r),r.hash=Mt.call(r))},Tt=xt.prototype,St=function(){var t=T(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,s=t.query,u=t.fragment,c=e+":";return null!==o?(c+="//",X(t)&&(c+=n+(r?":"+r:"")+"@"),c+=U(o),null!==i&&(c+=":"+i)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Ot=function(){var t=T(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Y(t)?e+"://"+U(t.host)+(null!==n?":"+n:""):"null"},Pt=function(){return T(this).scheme+":"},At=function(){return T(this).username},Et=function(){return T(this).password},kt=function(){var t=T(this),e=t.host,n=t.port;return null===e?"":null===n?U(e):U(e)+":"+n},Dt=function(){var t=T(this).host;return null===t?"":U(t)},It=function(){var t=T(this).port;return null===t?"":String(t)},Lt=function(){var t=T(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},jt=function(){var t=T(this).query;return t?"?"+t:""},Ct=function(){return T(this).searchParams},Mt=function(){var t=T(this).fragment;return t?"#"+t:""},Bt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&u(Tt,{href:Bt(St,(function(t){var e=T(this),n=String(t),r=_t(e,n);if(r)throw TypeError(r);_(e.searchParams).updateSearchParams(e.query)})),origin:Bt(Ot),protocol:Bt(Pt,(function(t){var e=T(this);_t(e,String(t)+":",tt)})),username:Bt(At,(function(t){var e=T(this),n=h(String(t));if(!K(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=q(n[r],W)}})),password:Bt(Et,(function(t){var e=T(this),n=h(String(t));if(!K(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=q(n[r],W)}})),host:Bt(kt,(function(t){var e=T(this);e.cannotBeABaseURL||_t(e,String(t),lt)})),hostname:Bt(Dt,(function(t){var e=T(this);e.cannotBeABaseURL||_t(e,String(t),ft)})),port:Bt(It,(function(t){var e=T(this);K(e)||(""==(t=String(t))?e.port=null:_t(e,t,pt))})),pathname:Bt(Lt,(function(t){var e=T(this);e.cannotBeABaseURL||(e.path=[],_t(e,t+"",gt))})),search:Bt(jt,(function(t){var e=T(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",_t(e,t,bt)),_(e.searchParams).updateSearchParams(e.query)})),searchParams:Bt(Ct),hash:Bt(Mt,(function(t){var e=T(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",_t(e,t,wt)):e.fragment=null}))}),c(Tt,"toJSON",(function(){return St.call(this)}),{enumerable:!0}),c(Tt,"toString",(function(){return St.call(this)}),{enumerable:!0}),b){var Rt=b.createObjectURL,Nt=b.revokeObjectURL;Rt&&c(xt,"createObjectURL",(function(t){return Rt.apply(b,arguments)})),Nt&&c(xt,"revokeObjectURL",(function(t){return Nt.apply(b,arguments)}))}g(xt,"URL"),o({global:!0,forced:!a,sham:!i},{URL:xt})},function(t,e,n){"use strict";var r=n(6),o=n(2),i=n(54),a=n(50),s=n(42),u=n(24),c=n(43),l=Object.assign,f=Object.defineProperty;t.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")}))?function(t,e){for(var n=u(t),o=arguments.length,l=1,f=a.f,p=s.f;o>l;)for(var h,d=c(arguments[l++]),y=f?i(d).concat(f(d)):i(d),g=y.length,m=0;g>m;)h=y[m++],r&&!p.call(d,h)||(n[h]=d[h]);return n}:l},function(t,e,n){"use strict";var r=n(26),o=n(24),i=n(63),a=n(62),s=n(18),u=n(125),c=n(27);t.exports=function(t){var e,n,l,f,p,h,d=o(t),y="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,v=void 0!==m,b=c(d),w=0;if(v&&(m=r(m,g>2?arguments[2]:void 0,2)),null==b||y==Array&&a(b))for(n=new y(e=s(d.length));e>w;w++)h=v?m(d[w],w):d[w],u(n,w,h);else for(p=(f=b.call(d)).next,n=new y;!(l=p.call(f)).done;w++)h=v?i(f,m,[l.value,w],!0):l.value,u(n,w,h);return n.length=w,n}},function(t,e,n){"use strict";var r=n(28),o=n(12),i=n(17);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(t){return t+22+75*(t<26)},c=function(t,e,n){var r=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;r+=36)t=a(t/35);return a(r+36*t/(t+38))},l=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e}(t)).length,l=128,f=0,p=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(s(n));var h=r.length,d=h;for(h&&r.push("-");d<o;){var y=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=l&&n<y&&(y=n);var g=d+1;if(y-l>a((2147483647-f)/g))throw RangeError(i);for(f+=(y-l)*g,l=y,e=0;e<t.length;e++){if((n=t[e])<l&&++f>2147483647)throw RangeError(i);if(n==l){for(var m=f,v=36;;v+=36){var b=v<=p?1:v>=p+26?26:v-p;if(m<b)break;var w=m-b,_=36-b;r.push(s(u(b+w%_))),m=a(w/_)}r.push(s(u(m))),p=c(f,g,d==h),f=0,++d}}++f,++l}return r.join("")};t.exports=function(t){var e,n,i=[],a=t.toLowerCase().replace(o,".").split(".");for(e=0;e<a.length;e++)n=a[e],i.push(r.test(n)?"xn--"+l(n):n);return i.join(".")}},function(t,e,n){"use strict";n(35);var r=n(5),o=n(15),i=n(70),a=n(8),s=n(61),u=n(20),c=n(57),l=n(13),f=n(39),p=n(4),h=n(26),d=n(38),y=n(3),g=n(7),m=n(36),v=n(17),b=n(128),w=n(27),_=n(1),x=o("fetch"),T=o("Headers"),S=_("iterator"),O=l.set,P=l.getterFor("URLSearchParams"),A=l.getterFor("URLSearchParamsIterator"),E=/\+/g,k=Array(4),D=function(t){return k[t-1]||(k[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},I=function(t){try{return decodeURIComponent(t)}catch(e){return t}},L=function(t){var e=t.replace(E," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(D(n--),I);return e}},j=/[!'()~]|%20/g,C={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},M=function(t){return C[t]},B=function(t){return encodeURIComponent(t).replace(j,M)},R=function(t,e){if(e)for(var n,r,o=e.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),t.push({key:L(r.shift()),value:L(r.join("="))}))},N=function(t){this.entries.length=0,R(this.entries,t)},F=function(t,e){if(t<e)throw TypeError("Not enough arguments")},U=c((function(t,e){O(this,{type:"URLSearchParamsIterator",iterator:b(P(t).entries),kind:e})}),"Iterator",(function(){var t=A(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),G=function(){f(this,G,"URLSearchParams");var t,e,n,r,o,i,a,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(O(l,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:N}),void 0!==c)if(g(c))if("function"==typeof(t=w(c)))for(n=(e=t.call(c)).next;!(r=n.call(e)).done;){if((a=(i=(o=b(y(r.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:s.value+""})}else for(u in c)p(c,u)&&h.push({key:u,value:c[u]+""});else R(h,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},z=G.prototype;s(z,{append:function(t,e){F(arguments.length,2);var n=P(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){F(arguments.length,1);for(var e=P(this),n=e.entries,r=t+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;e.updateURL()},get:function(t){F(arguments.length,1);for(var e=P(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){F(arguments.length,1);for(var e=P(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){F(arguments.length,1);for(var e=P(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){F(arguments.length,1);for(var n,r=P(this),o=r.entries,i=!1,a=t+"",s=e+"",u=0;u<o.length;u++)(n=o[u]).key===a&&(i?o.splice(u--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=P(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===n&&o.push(t)}r.updateURL()},forEach:function(t){for(var e,n=P(this).entries,r=h(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),a(z,S,z.entries),a(z,"toString",(function(){for(var t,e=P(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(B(t.key)+"="+B(t.value));return n.join("&")}),{enumerable:!0}),u(G,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:G}),i||"function"!=typeof x||"function"!=typeof T||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,o=[t];return arguments.length>1&&(g(e=arguments[1])&&(n=e.body,"URLSearchParams"===d(n)&&((r=e.headers?new T(e.headers):new T).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=m(e,{body:v(0,String(n)),headers:v(0,r)}))),o.push(e)),x.apply(this,o)}}),t.exports={URLSearchParams:G,getState:P}},function(t,e,n){var r=n(3),o=n(27);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n,r){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var c={};function l(){}function f(){}function p(){}var h={};h[o]=function(){return this};var d=Object.getPrototypeOf,y=d&&d(d(T([])));y&&y!==e&&n.call(y,o)&&(h=y);var g=p.prototype=l.prototype=Object.create(h);function m(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function v(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=g.constructor=p,p.constructor=f,p[a]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(v.prototype),v.prototype[i]=function(){return this},t.AsyncIterator=v,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new v(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){!function(e,n,r){"use strict";t.exports={polyfill:function(){if(!("scrollBehavior"in n.documentElement.style)){var t=e.HTMLElement||e.Element,r={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elScroll:t.prototype.scroll||i,scrollIntoView:t.prototype.scrollIntoView},o=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now;e.scroll=e.scrollTo=function(){a(arguments[0])?r.scroll.call(e,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):c.call(e,n.body,~~arguments[0].left,~~arguments[0].top)},e.scrollBy=function(){a(arguments[0])?r.scrollBy.call(e,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):c.call(e,n.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset))},t.prototype.scroll=t.prototype.scrollTo=function(){a(arguments[0])?r.elScroll.call(this,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):c.call(this,this,arguments[0].left,arguments[0].top)},t.prototype.scrollBy=function(){var t=arguments[0];"object"==typeof t?this.scroll({left:t.left+this.scrollLeft,top:t.top+this.scrollTop,behavior:t.behavior}):this.scroll(this.scrollLeft+t,this.scrollTop+arguments[1])},t.prototype.scrollIntoView=function(){if(a(arguments[0]))r.scrollIntoView.call(this,arguments[0]||!0);else{var t=s(this),o=t.getBoundingClientRect(),i=this.getBoundingClientRect();t!==n.body?(c.call(this,t,t.scrollLeft+i.left-o.left,t.scrollTop+i.top-o.top),e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}}}function i(t,e){this.scrollLeft=t,this.scrollTop=e}function a(t){if("object"!=typeof t||null===t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior not valid")}function s(t){var r,o,i;do{r=(t=t.parentNode)===n.body,o=t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth,i="visible"===e.getComputedStyle(t,null).overflow}while(!r&&(!o||i));return r=o=i=null,t}function u(t){var n,r,i,a,s=(o()-t.startTime)/468;a=s=s>1?1:s,n=.5*(1-Math.cos(Math.PI*a)),r=t.startX+(t.x-t.startX)*n,i=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,r,i),r===t.x&&i===t.y||e.requestAnimationFrame(u.bind(e,t))}function c(t,a,s){var c,l,f,p,h=o();t===n.body?(c=e,l=e.scrollX||e.pageXOffset,f=e.scrollY||e.pageYOffset,p=r.scroll):(c=t,l=t.scrollLeft,f=t.scrollTop,p=i),u({scrollable:c,method:p,startTime:h,startX:l,startY:f,x:a,y:s})}}}}(window,document)},function(t,e,n){var r,o;
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */!function(i,a){"use strict";r=[n(132)],void 0===(o=function(t){return function(t,e){var n=t.jQuery,r=t.console;function o(t,e){for(var n in e)t[n]=e[n];return t}var i=Array.prototype.slice;function a(t,e,s){if(!(this instanceof a))return new a(t,e,s);var u,c=t;("string"==typeof t&&(c=document.querySelectorAll(t)),c)?(this.elements=(u=c,Array.isArray(u)?u:"object"==typeof u&&"number"==typeof u.length?i.call(u):[u]),this.options=o({},this.options),"function"==typeof e?s=e:o(this.options,e),s&&this.on("always",s),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):r.error("Bad element for imagesLoaded "+(c||t))}a.prototype=Object.create(e.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&s[e]){for(var n=t.querySelectorAll("img"),r=0;r<n.length;r++){var o=n[r];this.addImage(o)}if("string"==typeof this.options.background){var i=t.querySelectorAll(this.options.background);for(r=0;r<i.length;r++){var a=i[r];this.addElementBackgroundImages(a)}}}};var s={1:!0,9:!0,11:!0};function u(t){this.img=t}function c(t,e){this.url=t,this.element=e,this.img=new Image}return a.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,r=n.exec(e.backgroundImage);null!==r;){var o=r&&r[2];o&&this.addBackground(o,t),r=n.exec(e.backgroundImage)}},a.prototype.addImage=function(t){var e=new u(t);this.images.push(e)},a.prototype.addBackground=function(t,e){var n=new c(t,e);this.images.push(n)},a.prototype.check=function(){var t=this;function e(e,n,r){setTimeout((function(){t.progress(e,n,r)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(t){t.once("progress",e),t.check()})):this.complete()},a.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+n,t,e)},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},u.prototype=Object.create(e.prototype),u.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},u.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},u.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},u.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},u.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},u.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype=Object.create(u.prototype),c.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},a.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((n=e).fn.imagesLoaded=function(t,e){return new a(this,t,e).jqDeferred.promise(n(this))})},a.makeJQueryPlugin(),a}(i,t)}.apply(e,r))||(t.exports=o)}("undefined"!=typeof window?window:this)},function(t,e,n){var r,o;"undefined"!=typeof window&&window,void 0===(o="function"==typeof(r=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return-1!=r&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var r=this._onceEvents&&this._onceEvents[t],o=0;o<n.length;o++){var i=n[o];r&&r[i]&&(this.off(t,i),delete r[i]),i.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?r.call(e,n,e,t):r)||(t.exports=o)},function(t,e,n){var r=n(134),o=n(135),i="undefined"!=typeof Float64Array;function a(t,e){return t[0]-e[0]}function s(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(a);var r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=n[t][1];return r}function u(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var o="generic"===t;if(-1===e){var i="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(i)()}if(0===e){i="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",i)(c[t][0])}i=["'use strict'"];var a=r(e),u=a.map((function(t){return"i"+t})),l="this.offset+"+a.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),f=a.map((function(t){return"b"+t})).join(","),p=a.map((function(t){return"c"+t})).join(",");i.push("function "+n+"(a,"+f+","+p+",d){this.data=a","this.shape=["+f+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),i.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===e?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),e<4?(i.push("function "+n+"_order(){"),2===e?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+n+"_set("+u.join(",")+",v){"),o?i.push("return this.data.set("+l+",v)}"):i.push("return this.data["+l+"]=v}"),i.push("proto.get=function "+n+"_get("+u.join(",")+"){"),o?i.push("return this.data.get("+l+")}"):i.push("return this.data["+l+"]}"),i.push("proto.index=function "+n+"_index(",u.join(),"){return "+l+"}"),i.push("proto.hi=function "+n+"_hi("+u.join(",")+"){return new "+n+"(this.data,"+a.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+a.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var h=a.map((function(t){return"a"+t+"=this.shape["+t+"]"})),d=a.map((function(t){return"c"+t+"=this.stride["+t+"]"}));i.push("proto.lo=function "+n+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+d.join(","));for(var y=0;y<e;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){d=i"+y+"|0;b+=c"+y+"*d;a"+y+"-=d}");i.push("return new "+n+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"c"+t})).join(",")+",b)}"),i.push("proto.step=function "+n+"_step("+u.join(",")+"){var "+a.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+a.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(y=0;y<e;++y)i.push("if(typeof i"+y+"==='number'){d=i"+y+"|0;if(d<0){c+=b"+y+"*(a"+y+"-1);a"+y+"=ceil(-a"+y+"/d)}else{a"+y+"=ceil(a"+y+"/d)}b"+y+"*=d}");i.push("return new "+n+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"b"+t})).join(",")+",c)}");var g=new Array(e),m=new Array(e);for(y=0;y<e;++y)g[y]="a[i"+y+"]",m[y]="b[i"+y+"]";i.push("proto.transpose=function "+n+"_transpose("+u+"){"+u.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+g.join(",")+","+m.join(",")+",this.offset)}"),i.push("proto.pick=function "+n+"_pick("+u+"){var a=[],b=[],c=this.offset");for(y=0;y<e;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(t){return"shape["+t+"]"})).join(",")+","+a.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(c[t],s)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(t,e,n,r){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var a=e.length;if(void 0===n){n=new Array(a);for(var s=a-1,l=1;s>=0;--s)n[s]=l,l*=e[s]}if(void 0===r){r=0;for(s=0;s<a;++s)n[s]<0&&(r-=(e[s]-1)*n[s])}for(var f=function(t){if(o(t))return"buffer";if(i)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),p=c[f];p.length<=a+1;)p.push(u(f,p.length-1));return(0,p[a+1])(t,e,n,r)}},function(t,e,n){"use strict";t.exports=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(137),o={body:"",args:[],thisVars:[],localVars:[]};function i(t){if(!t)return o;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function a(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return r({args:t.args,pre:i(t.pre),body:i(t.body),post:i(t.proc),funcName:t.funcName})}(t))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in s){var n=s[t];e[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var n=u[t];e[t]=a({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var n=c[t];e[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var n=l[t];e[n]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var n=f[t];e[n]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var p=["atan2","pow"];!function(){for(var t=0;t<p.length;++t){var n=p[t];e[n+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=r({args:["array"],pre:o,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=r({args:["array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=r({args:["array","array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,n){"use strict";var r=n(138);function o(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(t){var e=new o;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var i=0;i<n.length;++i){var a=n[i];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===a){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,r(e)}},function(t,e,n){"use strict";var r=n(139);t.exports=function(t){var e=["'use strict'","var CACHED={}"],n=[],o=t.funcName+"_cwise_thunk";e.push(["return function ",o,"(",t.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<t.arrayArgs.length;++l){var f=t.arrayArgs[l];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),i.push("t"+f),i.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}for(t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(r.bind(void 0,t))}},function(t,e,n){"use strict";var r=n(140);function o(t,e,n){var r,o,i=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],c=[],l=0,f=0;for(r=0;r<i;++r)c.push(["i",r,"=0"].join(""));for(o=0;o<a;++o)for(r=0;r<i;++r)f=l,l=t[r],0===r?c.push(["d",o,"s",r,"=t",o,"p",l].join("")):c.push(["d",o,"s",r,"=(t",o,"p",l,"-s",f,"*t",o,"p",f,")"].join(""));for(c.length>0&&u.push("var "+c.join(",")),r=i-1;r>=0;--r)l=t[r],u.push(["for(i",r,"=0;i",r,"<s",l,";++i",r,"){"].join(""));for(u.push(n),r=0;r<i;++r){for(f=l,l=t[r],o=0;o<a;++o)u.push(["p",o,"+=d",o,"s",r].join(""));s&&(r>0&&u.push(["index[",f,"]-=s",f].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,e,n){for(var r=t.body,o=[],i=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var f=e.offsetArgIndex.indexOf(a);l=e.offsetArgs[f].array,c="+q"+f;case"array":c="p"+l+c;var p="l"+a,h="a"+l;if(0===e.arrayBlockIndices[l])1===s.count?"generic"===n[l]?s.lvalue?(o.push(["var ",p,"=",h,".get(",c,")"].join("")),r=r.replace(u,p),i.push([h,".set(",c,",",p,")"].join(""))):r=r.replace(u,[h,".get(",c,")"].join("")):r=r.replace(u,[h,"[",c,"]"].join("")):"generic"===n[l]?(o.push(["var ",p,"=",h,".get(",c,")"].join("")),r=r.replace(u,p),s.lvalue&&i.push([h,".set(",c,",",p,")"].join(""))):(o.push(["var ",p,"=",h,"[",c,"]"].join("")),r=r.replace(u,p),s.lvalue&&i.push([h,"[",c,"]=",p].join("")));else{for(var d=[s.name],y=[c],g=0;g<Math.abs(e.arrayBlockIndices[l]);g++)d.push("\\s*\\[([^\\]]+)\\]"),y.push("$"+(g+1)+"*t"+l+"b"+g);if(u=new RegExp(d.join(""),"g"),c=y.join("+"),"generic"===n[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[h,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape")}}}return[o.join("\n"),r,i.join("\n")].join("\n").trim()}function a(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var o=t[r],i=o.match(/\d+/);i=i?i[0]:"",0===o.charAt(0)?e[r]="u"+o.charAt(1)+i:e[r]=o.charAt(0)+i,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}t.exports=function(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,s=new Array(t.arrayArgs.length),u=new Array(t.arrayArgs.length),c=0;c<t.arrayArgs.length;++c)u[c]=e[2*c],s[c]=e[2*c+1];var l=[],f=[],p=[],h=[],d=[];for(c=0;c<t.arrayArgs.length;++c){t.arrayBlockIndices[c]<0?(p.push(0),h.push(n),l.push(n),f.push(n+t.arrayBlockIndices[c])):(p.push(t.arrayBlockIndices[c]),h.push(t.arrayBlockIndices[c]+n),l.push(0),f.push(t.arrayBlockIndices[c]));for(var y=[],g=0;g<s[c].length;g++)p[c]<=s[c][g]&&s[c][g]<h[c]&&y.push(s[c][g]-p[c]);d.push(y)}var m=["SS"],v=["'use strict'"],b=[];for(g=0;g<n;++g)b.push(["s",g,"=SS[",g,"]"].join(""));for(c=0;c<t.arrayArgs.length;++c){m.push("a"+c),m.push("t"+c),m.push("p"+c);for(g=0;g<n;++g)b.push(["t",c,"p",g,"=t",c,"[",p[c]+g,"]"].join(""));for(g=0;g<Math.abs(t.arrayBlockIndices[c]);++g)b.push(["t",c,"b",g,"=t",c,"[",l[c]+g,"]"].join(""))}for(c=0;c<t.scalarArgs.length;++c)m.push("Y"+c);if(t.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),t.indexArgs.length>0){var w=new Array(n);for(c=0;c<n;++c)w[c]="0";b.push(["index=[",w.join(","),"]"].join(""))}for(c=0;c<t.offsetArgs.length;++c){var _=t.offsetArgs[c],x=[];for(g=0;g<_.offset.length;++g)0!==_.offset[g]&&(1===_.offset[g]?x.push(["t",_.array,"p",g].join("")):x.push([_.offset[g],"*t",_.array,"p",g].join("")));0===x.length?b.push("q"+c+"=0"):b.push(["q",c,"=",x.join("+")].join(""))}var T=r([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((b=b.concat(T)).length>0&&v.push("var "+b.join(",")),c=0;c<t.arrayArgs.length;++c)v.push("p"+c+"|=0");t.pre.body.length>3&&v.push(i(t.pre,t,u));var S=i(t.body,t,u),O=function(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}(d);O<n?v.push(function(t,e,n,r){for(var i=e.length,a=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,c=[],l=0;l<a;++l)c.push(["var offset",l,"=p",l].join(""));for(l=t;l<i;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",e[l],"]=j",l].join(""));for(l=0;l<a;++l){for(var f=["offset"+l],p=t;p<i;++p)f.push(["j",p,"*t",l,"p",e[p]].join(""));c.push(["p",l,"=(",f.join("+"),")"].join(""))}for(c.push(o(e,n,r)),l=t;l<i;++l)c.push("}");return c.join("\n")}(O,d[0],t,S)):v.push(o(d[0],t,S)),t.post.body.length>3&&v.push(i(t.post,t,u)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+v.join("\n")+"\n----------");var P=[t.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",O,a(u)].join("");return new Function(["function ",P,"(",m.join(","),"){",v.join("\n"),"} return ",P].join(""))()}},function(t,e,n){"use strict";t.exports=function(t,e,n){return 0===t.length?t:e?(n||t.sort(e),function(t,e){for(var n=1,r=t.length,o=t[0],i=t[0],a=1;a<r;++a)if(i=o,e(o=t[a],i)){if(a===n){n++;continue}t[n++]=o}return t.length=n,t}(t,e)):(n||t.sort(),function(t){for(var e=1,n=t.length,r=t[0],o=t[0],i=1;i<n;++i,o=r)if(o=r,(r=t[i])!==o){if(i===e){e++;continue}t[e++]=r}return t.length=e,t}(t))}},function(t,e,n){"use strict";n.r(e);n(71),n(35),n(86),n(87),n(88),n(91),n(93),n(96),n(68),n(69),n(109),n(113),n(117),n(120),n(122),n(129);const r={Affenpinscher:{chinese:"猴犬",link:"https://www.wikiwand.com/en/Affenpinscher"},"Afghan hound":{chinese:"阿富汗獵狗",link:"https://www.wikiwand.com/en/Afghan_Hound"},"Airedale terrier":{chinese:"萬能㹴",link:"https://www.wikiwand.com/en/Airedale_Terrier"},Akita:{chinese:"秋田犬",link:"https://www.wikiwand.com/en/Akita_(dog)"},"Alaskan malamute":{chinese:"阿拉斯加雪撬犬",link:"https://www.wikiwand.com/en/Alaskan_Malamute"},"American eskimo dog":{chinese:"美國愛斯基摩犬",link:"https://www.wikiwand.com/en/American_Eskimo_Dog"},"American foxhound":{chinese:"美國獵狐犬",link:"https://www.wikiwand.com/en/American_Foxhound"},"American staffordshire terrier":{chinese:"美國斯塔福郡㹴",link:"https://www.wikiwand.com/en/American_Staffordshire_Terrier"},"American water spaniel":{chinese:"美國水獵犬",link:"https://www.wikiwand.com/en/American_Water_Spaniel"},"Anatolian shepherd dog":{chinese:"安那托利亞牧羊犬",link:"https://www.wikiwand.com/en/Anatolian_Shepherd"},"Australian cattle dog":{chinese:"澳洲牧牛犬",link:"https://www.wikiwand.com/en/Australian_Cattle_Dog"},"Australian shepherd":{chinese:"澳洲牧羊犬",link:"https://www.wikiwand.com/en/Australian_Shepherd"},"Australian terrier":{chinese:"澳大利亞㹴",link:"https://www.wikiwand.com/en/Australian_Terrier"},Basenji:{chinese:"巴辛吉犬",link:"https://www.wikiwand.com/en/Basenji"},"Basset hound":{chinese:"巴吉度獵犬",link:"https://www.wikiwand.com/en/Basset_Hound"},Beagle:{chinese:"米格魯",link:"https://www.wikiwand.com/en/Beagle"},"Bearded collie":{chinese:"長鬚牧羊犬",link:"https://www.wikiwand.com/en/Bearded_Collie"},Beauceron:{chinese:"法蘭西野狼犬",link:"https://www.wikiwand.com/en/Beauceron"},"Bedlington terrier":{chinese:"貝林登",link:"https://www.wikiwand.com/en/Bedlington_Terrier"},"Belgian malinois":{chinese:"瑪利諾犬",link:"https://www.wikiwand.com/en/Malinois_dog"},"Belgian sheepdog":{chinese:"比利時牧羊犬",link:"https://www.wikiwand.com/en/Belgian_Shepherd"},"Belgian tervuren":{chinese:"比利時特伏丹犬",link:"https://www.wikiwand.com/en/Tervuren_dog"},"Bernese mountain dog":{chinese:"伯恩山犬",link:"https://www.wikiwand.com/en/Bernese_Mountain_Dog"},"Bichon frise":{chinese:"比熊犬",link:"https://www.wikiwand.com/en/Bichon_Frise"},"Black and tan coonhound":{chinese:"黑褐獵浣熊犬",link:"https://www.wikiwand.com/en/Black_and_Tan_Coonhound"},"Black russian terrier":{chinese:"俄羅斯黑爹利",link:"https://www.wikiwand.com/en/Black_Russian_Terrier"},Bloodhound:{chinese:"尋血獵犬",link:"https://www.wikiwand.com/en/Bloodhound"},"Bluetick coonhound":{chinese:"布魯泰克獵浣熊犬",link:"https://www.wikiwand.com/en/Bluetick_Coonhound"},"Border collie":{chinese:"邊境牧羊犬",link:"https://www.wikiwand.com/en/Border_Collie"},"Border terrier":{chinese:"波士頓㹴",link:"https://www.wikiwand.com/en/Border_Terrier"},Borzoi:{chinese:"俄國獵狼犬",link:"https://www.wikiwand.com/en/Borzoi"},"Boston terrier":{chinese:"波士頓㹴",link:"https://www.wikiwand.com/en/Boston_Terrier"},"Bouvier des flandres":{chinese:"法蘭德斯牧羊犬",link:"https://www.wikiwand.com/en/Bouvier_des_Flandres"},Boxer:{chinese:"拳師犬",link:"https://www.wikiwand.com/en/Boxer_(dog)"},"Boykin spaniel":{chinese:"帕金獵犬",link:"https://www.wikiwand.com/en/Boykin_Spaniel"},Briard:{chinese:"伯瑞犬",link:"https://www.wikiwand.com/en/Briard"},Brittany:{chinese:"不列塔尼犬",link:"https://www.wikiwand.com/en/Brittany_(dog)"},"Brussels griffon":{chinese:"布魯塞爾格林芬犬",link:"https://www.wikiwand.com/en/Griffon_Bruxellois"},"Bull terrier":{chinese:"牛頭㹴",link:"https://www.wikiwand.com/en/Bull_Terrier"},Bulldog:{chinese:"鬥牛犬",link:"https://www.wikiwand.com/en/Bulldog"},Bullmastiff:{chinese:"鬥牛獒",link:"https://www.wikiwand.com/en/Bullmastiff"},"Cairn terrier":{chinese:"凱恩㹴",link:"https://www.wikiwand.com/en/Cairn_Terrier"},"Canaan dog":{chinese:"迦南犬",link:"https://www.wikiwand.com/en/Canaan_Dog"},"Cane corso":{chinese:"卡斯羅犬",link:"https://www.wikiwand.com/en/Cane_Corso"},"Cardigan welsh corgi":{chinese:"喀地干威爾斯哥基犬",link:"https://www.wikiwand.com/en/Cardigan_Welsh_Corgi"},"Cavalier king charles spaniel":{chinese:"查理斯王騎士犬",link:"https://www.wikiwand.com/en/Cavalier_King_Charles_Spaniel"},"Chesapeake bay retriever":{chinese:"乞沙比克獵犬",link:"https://www.wikiwand.com/en/Chesapeake_Bay_Retriever"},Chihuahua:{chinese:"吉娃娃",link:"https://www.wikiwand.com/en/Chihuahua_(dog)"},"Chinese crested":{chinese:"中國冠毛犬",link:"https://www.wikiwand.com/en/Chinese_Crested_Dog"},"Chinese shar-pei":{chinese:"傳統中國沙皮犬",link:"https://www.wikiwand.com/en/Shar_Pei"},"Chow chow":{chinese:"鬆獅犬",link:"https://www.wikiwand.com/en/Chow_Chow"},"Clumber spaniel":{chinese:"克蘭勃小獵犬",link:"https://www.wikiwand.com/en/Clumber_Spaniel"},"Cocker spaniel":{chinese:"可卡犬",link:"https://www.wikiwand.com/en/Cocker_Spaniel"},Collie:{chinese:"柯利牧羊犬",link:"https://www.wikiwand.com/en/Collie"},"Curly-coated retriever":{chinese:"捲毛尋回犬",link:"https://www.wikiwand.com/en/Curly-coated_Retriever"},Dachshund:{chinese:"臘腸犬",link:"https://www.wikiwand.com/en/Dachshund"},Dalmatian:{chinese:"大麥町",link:"https://www.wikiwand.com/en/Dalmatian_(dog)"},"Dandie dinmont terrier":{chinese:"丹第丁蒙挭",link:"https://www.wikiwand.com/en/Dandie_Dinmont_Terrier"},"Doberman pinscher":{chinese:"杜賓犬",link:"https://www.wikiwand.com/en/Dobermann"},"Dogue de bordeaux":{chinese:"波爾多獒犬",link:"https://www.wikiwand.com/en/Dogue_de_Bordeaux"},"English cocker spaniel":{chinese:"英國可卡犬",link:"https://www.wikiwand.com/en/English_Cocker_Spaniel"},"English setter":{chinese:"雪達犬",link:"https://www.wikiwand.com/en/English_Setter"},"English springer spaniel":{chinese:"英國激飛獵犬",link:"https://www.wikiwand.com/en/English_Springer_Spaniel"},"English toy spaniel":{chinese:"英國愛玩斯巴尼爾犬",link:"https://www.wikiwand.com/en/King_Charles_Spaniel"},"Entlebucher mountain dog":{chinese:"恩特雷布赫山犬",link:"https://www.wikiwand.com/en/Entlebucher_Mountain_Dog"},"Field spaniel":{chinese:"田園獵犬",link:"https://www.wikiwand.com/en/Field_Spaniel"},"Finnish spitz":{chinese:"芬蘭絲毛犬",link:"https://www.wikiwand.com/en/Finnish_Spitz"},"Flat-coated retriever":{chinese:"平毛尋回犬",link:"https://www.wikiwand.com/en/Flat-coated_Retriever"},"French bulldog":{chinese:"法國鬥牛犬",link:"https://www.wikiwand.com/en/French_Bulldog"},"German pinscher":{chinese:"德國賓沙犬",link:"https://www.wikiwand.com/en/German_Pinscher"},"German shepherd dog":{chinese:"德國牧羊犬",link:"https://www.wikiwand.com/en/German_Shepherd"},"German shorthaired pointer":{chinese:"德國短毛指示犬",link:"https://www.wikiwand.com/en/German_Shorthaired_Pointer"},"German wirehaired pointer":{chinese:"德國剛毛指示犬",link:"https://www.wikiwand.com/en/German_Wirehaired_Pointer"},"Giant schnauzer":{chinese:"大型雪納瑞犬",link:"https://www.wikiwand.com/en/Giant_Schnauzer"},"Glen of imaal terrier":{chinese:"愛爾蘭峽谷㹴",link:"https://www.wikiwand.com/en/Glen_of_Imaal_Terrier"},"Golden retriever":{chinese:"黃金獵犬",link:"https://www.wikiwand.com/en/Golden_Retriever"},"Gordon setter":{chinese:"黃金蹲獵犬",link:"https://www.wikiwand.com/en/Gordon_Setter"},"Great dane":{chinese:"大丹犬",link:"https://www.wikiwand.com/en/Great_Dane"},"Great pyrenees":{chinese:"庇里牛斯山犬",link:"https://www.wikiwand.com/en/Pyrenean_Mountain_Dog"},"Greater swiss mountain dog":{chinese:"大瑞士山地犬",link:"https://www.wikiwand.com/en/Greater_Swiss_Mountain_Dog"},Greyhound:{chinese:"格雷伊獵犬",link:"https://www.wikiwand.com/en/Greyhound"},Havanese:{chinese:"哈威那犬",link:"https://www.wikiwand.com/en/Havanese_dog"},"Ibizan hound":{chinese:"依比沙獵犬",link:"https://www.wikiwand.com/en/Ibizan_Hound"},"Icelandic sheepdog":{chinese:"喜樂蒂牧羊犬",link:"https://www.wikiwand.com/en/Icelandic_Sheepdog"},"Irish red and white setter":{chinese:"愛爾蘭紅白獵犬",link:"https://www.wikiwand.com/en/Irish_Red_and_White_Setter"},"Irish setter":{chinese:"愛爾蘭雪達",link:"https://www.wikiwand.com/en/Irish_Setter"},"Irish terrier":{chinese:"愛爾蘭梗犬",link:"https://www.wikiwand.com/en/Irish_Terrier"},"Irish water spaniel":{chinese:"愛爾蘭水獵犬",link:"https://www.wikiwand.com/en/Irish_Water_Spaniel"},"Irish wolfhound":{chinese:"愛爾蘭獵狼犬",link:"https://www.wikiwand.com/en/Irish_wolfhound"},"Italian greyhound":{chinese:"義大利灰狗",link:"https://www.wikiwand.com/en/Italian_Greyhound"},"Japanese chin":{chinese:"日本狆",link:"https://www.wikiwand.com/en/Japanese_Chin"},Keeshond:{chinese:"荷蘭毛獅犬",link:"https://www.wikiwand.com/en/Keeshond"},"Kerry blue terrier":{chinese:"凱利藍爹利",link:"https://www.wikiwand.com/en/Kerry_Blue_Terrier"},Komondor:{chinese:"哥蒙多犬",link:"https://www.wikiwand.com/en/Komondor"},Kuvasz:{chinese:"庫巴斯犬",link:"https://www.wikiwand.com/en/Kuvasz"},"Labrador retriever":{chinese:"拉布拉多犬",link:"https://www.wikiwand.com/en/Labrador_Retriever"},"Lakeland terrier":{chinese:"湖畔梗犬",link:"https://www.wikiwand.com/en/Lakeland_Terrier"},Leonberger:{chinese:"藍伯格犬",link:"https://www.wikiwand.com/en/Leonberger"},"Lhasa apso":{chinese:"拉薩犬",link:"https://www.wikiwand.com/en/Lhasa_Apso"},Lowchen:{chinese:"羅秦犬",link:"https://www.wikiwand.com/en/L%C3%B6wchen"},Maltese:{chinese:"馬爾濟斯",link:"https://www.wikiwand.com/en/Maltese_(dog)"},"Manchester terrier":{chinese:"曼徹斯特梗犬",link:"https://www.wikiwand.com/en/Manchester_Terrier"},Mastiff:{chinese:"獒犬",link:"https://www.wikiwand.com/en/Mastiff"},"Miniature schnauzer":{chinese:"雪納瑞",link:"https://www.wikiwand.com/en/Miniature_Schnauzer"},"Neapolitan mastiff":{chinese:"那不勒斯獒犬",link:"https://www.wikiwand.com/en/Neapolitan_Mastiff"},Newfoundland:{chinese:"紐芬蘭犬",link:"https://www.wikiwand.com/en/Newfoundland_(dog)"},"Norfolk terrier":{chinese:"諾福克梗",link:"https://www.wikiwand.com/en/Norfolk_Terrier"},"Norwegian buhund":{chinese:"挪威布哈德犬",link:"https://www.wikiwand.com/en/Norwegian_Buhund"},"Norwegian elkhound":{chinese:"挪威獵麇犬",link:"https://www.wikiwand.com/en/Norwegian_Elkhound"},"Norwegian lundehund":{chinese:"挪威盧德杭犬",link:"https://www.wikiwand.com/en/Norwegian_Lundehund"},"Norwich terrier":{chinese:"挪利其梗",link:"https://www.wikiwand.com/en/Norwich_Terrier"},"Nova scotia duck tolling retriever":{chinese:"新斯科舍誘鴨尋回犬",link:"https://www.wikiwand.com/en/Nova_Scotia_Duck_Tolling_Retriever"},"Old english sheepdog":{chinese:"英國古代牧羊犬",link:"https://www.wikiwand.com/en/Old_English_Sheepdog"},Otterhound:{chinese:"奧德獵獺犬",link:"https://www.wikiwand.com/en/Otterhound"},Papillon:{chinese:"蝴蝶犬",link:"https://www.wikiwand.com/en/Papillon_(dog)"},"Parson russell terrier":{chinese:"帕森羅素梗",link:"https://www.wikiwand.com/en/Parson_Russell_Terrier"},Pekingese:{chinese:"北京狗",link:"https://www.wikiwand.com/en/Pekingese"},"Pembroke welsh corgi":{chinese:"威爾斯柯基犬",link:"https://www.wikiwand.com/en/Pembroke_Welsh_Corgi"},"Petit basset griffon vendeen":{chinese:"迷你貝吉格里芬凡丁犬",link:"https://www.wikiwand.com/en/Petit_Basset_Griffon_Vend%C3%A9en"},"Pharaoh hound":{chinese:"法老獵犬",link:"https://www.wikiwand.com/en/Pharaoh_Hound"},Plott:{chinese:"普羅特獵犬",link:"https://www.wikiwand.com/en/Plotter"},Pointer:{chinese:"英國指標犬",link:"https://www.wikiwand.com/en/Pointer_(dog_breed)"},Pomeranian:{chinese:"博美犬",link:"https://www.wikiwand.com/en/Pomeranian_(dog)"},Poodle:{chinese:"貴賓犬",link:"https://www.wikiwand.com/en/Poodle"},"Portuguese water dog":{chinese:"葡萄牙水犬",link:"https://www.wikiwand.com/en/Portuguese_Water_Dog"},"Saint bernard":{chinese:"聖伯納犬",link:"https://www.wikiwand.com/en/St._Bernard_(dog)"},"Silky terrier":{chinese:"絲毛梗",link:"https://www.wikiwand.com/en/Australian_Silky_Terrier"},"Smooth fox terrier":{chinese:"短毛獵狐爹利",link:"https://www.wikiwand.com/en/Smooth_Fox_Terrier"},"Tibetan mastiff":{chinese:"藏獒",link:"https://www.wikiwand.com/en/Tibetan_Mastiff"},"Welsh springer spaniel":{chinese:"威爾斯㹴",link:"https://www.wikiwand.com/en/Welsh_Springer_Spaniel"},"Wirehaired pointing griffon":{chinese:"剛毛指示獵鷹犬",link:"https://www.wikiwand.com/en/Wirehaired_Pointing_Griffon"},Xoloitzcuintli:{chinese:"墨西哥無毛犬",link:"https://www.wikiwand.com/en/Xoloitzcuintle"},"Yorkshire terrier":{chinese:"約克夏㹴",link:"https://www.wikiwand.com/en/Yorkshire_Terrier"}},o={0:{breed:"Affenpinscher"},1:{breed:"Afghan hound"},2:{breed:"Airedale terrier"},3:{breed:"Akita"},4:{breed:"Alaskan malamute"},5:{breed:"American eskimo dog"},6:{breed:"American foxhound"},7:{breed:"American staffordshire terrier"},8:{breed:"American water spaniel"},9:{breed:"Anatolian shepherd dog"},10:{breed:"Australian cattle dog"},11:{breed:"Australian shepherd"},12:{breed:"Australian terrier"},13:{breed:"Basenji"},14:{breed:"Basset hound"},15:{breed:"Beagle"},16:{breed:"Bearded collie"},17:{breed:"Beauceron"},18:{breed:"Bedlington terrier"},19:{breed:"Belgian malinois"},20:{breed:"Belgian sheepdog"},21:{breed:"Belgian tervuren"},22:{breed:"Bernese mountain dog"},23:{breed:"Bichon frise"},24:{breed:"Black and tan coonhound"},25:{breed:"Black russian terrier"},26:{breed:"Bloodhound"},27:{breed:"Bluetick coonhound"},28:{breed:"Border collie"},29:{breed:"Border terrier"},30:{breed:"Borzoi"},31:{breed:"Boston terrier"},32:{breed:"Bouvier des flandres"},33:{breed:"Boxer"},34:{breed:"Boykin spaniel"},35:{breed:"Briard"},36:{breed:"Brittany"},37:{breed:"Brussels griffon"},38:{breed:"Bull terrier"},39:{breed:"Bulldog"},40:{breed:"Bullmastiff"},41:{breed:"Cairn terrier"},42:{breed:"Canaan dog"},43:{breed:"Cane corso"},44:{breed:"Cardigan welsh corgi"},45:{breed:"Cavalier king charles spaniel"},46:{breed:"Chesapeake bay retriever"},47:{breed:"Chihuahua"},48:{breed:"Chinese crested"},49:{breed:"Chinese shar-pei"},50:{breed:"Chow chow"},51:{breed:"Clumber spaniel"},52:{breed:"Cocker spaniel"},53:{breed:"Collie"},54:{breed:"Curly-coated retriever"},55:{breed:"Dachshund"},56:{breed:"Dalmatian"},57:{breed:"Dandie dinmont terrier"},58:{breed:"Doberman pinscher"},59:{breed:"Dogue de bordeaux"},60:{breed:"English cocker spaniel"},61:{breed:"English setter"},62:{breed:"English springer spaniel"},63:{breed:"English toy spaniel"},64:{breed:"Entlebucher mountain dog"},65:{breed:"Field spaniel"},66:{breed:"Finnish spitz"},67:{breed:"Flat-coated retriever"},68:{breed:"French bulldog"},69:{breed:"German pinscher"},70:{breed:"German shepherd dog"},71:{breed:"German shorthaired pointer"},72:{breed:"German wirehaired pointer"},73:{breed:"Giant schnauzer"},74:{breed:"Glen of imaal terrier"},75:{breed:"Golden retriever"},76:{breed:"Gordon setter"},77:{breed:"Great dane"},78:{breed:"Great pyrenees"},79:{breed:"Greater swiss mountain dog"},80:{breed:"Greyhound"},81:{breed:"Havanese"},82:{breed:"Ibizan hound"},83:{breed:"Icelandic sheepdog"},84:{breed:"Irish red and white setter"},85:{breed:"Irish setter"},86:{breed:"Irish terrier"},87:{breed:"Irish water spaniel"},88:{breed:"Irish wolfhound"},89:{breed:"Italian greyhound"},90:{breed:"Japanese chin"},91:{breed:"Keeshond"},92:{breed:"Kerry blue terrier"},93:{breed:"Komondor"},94:{breed:"Kuvasz"},95:{breed:"Labrador retriever"},96:{breed:"Lakeland terrier"},97:{breed:"Leonberger"},98:{breed:"Lhasa apso"},99:{breed:"Lowchen"},100:{breed:"Maltese"},101:{breed:"Manchester terrier"},102:{breed:"Mastiff"},103:{breed:"Miniature schnauzer"},104:{breed:"Neapolitan mastiff"},105:{breed:"Newfoundland"},106:{breed:"Norfolk terrier"},107:{breed:"Norwegian buhund"},108:{breed:"Norwegian elkhound"},109:{breed:"Norwegian lundehund"},110:{breed:"Norwich terrier"},111:{breed:"Nova scotia duck tolling retriever"},112:{breed:"Old english sheepdog"},113:{breed:"Otterhound"},114:{breed:"Papillon"},115:{breed:"Parson russell terrier"},116:{breed:"Pekingese"},117:{breed:"Pembroke welsh corgi"},118:{breed:"Petit basset griffon vendeen"},119:{breed:"Pharaoh hound"},120:{breed:"Plott"},121:{breed:"Pointer"},122:{breed:"Pomeranian"},123:{breed:"Poodle"},124:{breed:"Portuguese water dog"},125:{breed:"Saint bernard"},126:{breed:"Silky terrier"},127:{breed:"Smooth fox terrier"},128:{breed:"Tibetan mastiff"},129:{breed:"Welsh springer spaniel"},130:{breed:"Wirehaired pointing griffon"},131:{breed:"Xoloitzcuintli"},132:{breed:"Yorkshire terrier"}},i={siteTitle:"Doggie Wiki",cover1Title:"Take a dog photo to learn more about it!",cover1Subtitle:"The app can predict 133 dog breeds",cover2Title:"Learn 3 different dog breeds at the same time",cover2Subtitle:"You become a dog master through Wiki",cover3Title:"We also have Chinese/English pronunciations",cover3Subtitle:"You learn both languages at the same time",cover4Title:"The app is empowered with deep learning",cover4Subtitle:"Now its classification accuracy is up to 86-88%",coverButton:"Checkout predictable dog breeds",tryText:"Give it a try",imgUploadText:"Take or upload a dog photo",sampleBreedPredict:"Predict now",progressNotes:"If you've waited for 1-2 seconds, please wait a moment since the machine might be in the sleep mode earlier",predictionResultsHeadline:"Prediction Results",errorText1:"Something is wrong, please try again later",errorText2:"Well......the app can't detect any dog in the photo",errorText3:"There is something wrong while interpreting the image, please try another one"},a={siteTitle:"狗狗百科",cover1Title:"一秒拍照來更認識狗狗吧！",cover1Subtitle:"能偵測多達133種狗狗品種",cover2Title:"一次認識3種狗狗",cover2Subtitle:"附上維基連結讓你成為狗狗達人",cover3Title:"還有中文/英文發音功能",cover3Subtitle:"讓你同時學習雙語言",cover4Title:"透過深度學習賦予強大的辨識能力",cover4Subtitle:"目前辨識準確度高達86-88%",coverButton:"查看目前能辨識的狗狗品種",tryText:"立馬試試",imgUploadText:"拍照或上傳照片",sampleBreedPredict:"進行預測",progressNotes:"如果您等待超過1-2秒仍然沒有結果，很可能是機器剛才休眠了，請多等待幾秒鐘。",predictionResultsHeadline:"預測結果",errorText1:"發生異常，請稍後再試！",errorText2:"嗯......狗狗偵測器沒有偵測到狗狗喔！",errorText3:"圖片解析異常，請試試另一張圖片"};n(130);var s=n(21);class u{constructor(t,e){this.canvas=document.createElement("canvas"),this.canvas.width=t,this.canvas.height=e,this.ctx=this.canvas.getContext("2d")}async getImageData(t){await this.loadImageAsync(t);return this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)}loadImageAsync(t){return new Promise((e,n)=>{this.loadImageCb(t,()=>{e()})})}loadImageCb(t,e){loadImage(t,n=>{if("error"===n.type)throw"Could not load image: "+t;this.ctx.drawImage(n,0,0),window.setTimeout(()=>{e()},0)},{maxWidth:this.canvas.width,maxHeight:this.canvas.height,cover:!0,crop:!0,canvas:!0,crossOrigin:"Anonymous"})}}var c=n(133),l=n(136);let f,p;const h=["Affenpinscher","Afghan hound","Airedale terrier","Akita","Alaskan malamute","American eskimo dog","American foxhound","American staffordshire terrier","American water spaniel","Anatolian shepherd dog","Australian cattle dog","Australian shepherd","Australian terrier","Basenji","Basset hound","Beagle","Bearded collie","Beauceron","Bedlington terrier","Belgian malinois","Belgian sheepdog","Belgian tervuren","Bernese mountain dog","Bichon frise","Black and tan coonhound","Black russian terrier","Bloodhound","Bluetick coonhound","Border collie","Border terrier","Borzoi","Boston terrier","Bouvier des flandres","Boxer","Boykin spaniel","Briard","Brittany","Brussels griffon","Bull terrier","Bulldog","Bullmastiff","Cairn terrier","Canaan dog","Cane corso","Cardigan welsh corgi","Cavalier king charles spaniel","Chesapeake bay retriever","Chihuahua","Chinese crested","Chinese shar-pei","Chow chow","Clumber spaniel","Cocker spaniel","Collie","Curly-coated retriever","Dachshund","Dalmatian","Dandie dinmont terrier","Doberman pinscher","Dogue de bordeaux","English cocker spaniel","English setter","English springer spaniel","English toy spaniel","Entlebucher mountain dog","Field spaniel","Finnish spitz","Flat-coated retriever","French bulldog","German pinscher","German shepherd dog","German shorthaired pointer","German wirehaired pointer","Giant schnauzer","Glen of imaal terrier","Golden retriever","Gordon setter","Great dane","Great pyrenees","Greater swiss mountain dog","Greyhound","Havanese","Ibizan hound","Icelandic sheepdog","Irish red and white setter","Irish setter","Irish terrier","Irish water spaniel","Irish wolfhound","Italian greyhound","Japanese chin","Keeshond","Kerry blue terrier","Komondor","Kuvasz","Labrador retriever","Lakeland terrier","Leonberger","Lhasa apso","Lowchen","Maltese","Manchester terrier","Mastiff","Miniature schnauzer","Neapolitan mastiff","Newfoundland","Norfolk terrier","Norwegian buhund","Norwegian elkhound","Norwegian lundehund","Norwich terrier","Nova scotia duck tolling retriever","Old english sheepdog","Otterhound","Papillon","Parson russell terrier","Pekingese","Pembroke welsh corgi","Petit basset griffon vendeen","Pharaoh hound","Plott","Pointer","Pomeranian","Poodle","Portuguese water dog","Saint bernard","Silky terrier","Smooth fox terrier","Tibetan mastiff","Welsh springer spaniel","Wirehaired pointing griffon","Xoloitzcuintli","Yorkshire terrier"];async function d(t){const e=function(t,e,n){const r=c(new Float32Array(t),[e,n,4]),o=c(new Float32Array(e*n*3),[1,3,n,e]);return l.divseq(r,128),l.subseq(r,1),l.assign(o.pick(0,0,null,null),r.pick(null,null,2)),l.assign(o.pick(0,1,null,null),r.pick(null,null,1)),l.assign(o.pick(0,2,null,null),r.pick(null,null,0)),o.data}((await async function(t,e=224){const n=new u(e,e);return await n.getImageData(t)}(t)).data,224,224);return await async function(t,e,n){f||(f=new s.InferenceSession({backendHint:"cpu"}),await f.loadModel("../models/dog-detection-model.onnx"));const r=new s.Tensor(t,"float32",[1,3,e,n]),o=(await f.run([r])).values().next().value.data;return 151<=(i=o,[].reduce.call(i,(t,e,n,r)=>e>r[t]?n:t,0))<=268;var i}(e,224,224)?{dog_detected:!0,message:await y(e,224,224)}:{dog_detected:!1,message:"No dog is detected, please try another image again!"}}async function y(t,e,n){p||(p=new s.InferenceSession({backendHint:"cpu"}),await p.loadModel("../models/dog-classification-model.onnx"));const r=new s.Tensor(t,"float32",[1,3,e,n]),o=(await p.run([r])).values().next().value.data;var i;return function(t,e=3){const n=Array.from(t),r=n.map((function(t,e){return[t,e]})).sort((function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0})).reverse();return r.slice(0,e).map((function(t){return{breed:h[t[1]],prob:t[0]}}))}((i=o).map((function(t,e){return Math.exp(t)/i.map((function(t){return Math.exp(t)})).reduce((function(t,e){return t+e}))})))}function g(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){g(i,r,o,a,s,"next",t)}function s(t){g(i,r,o,a,s,"throw",t)}a(void 0)}))}}var v=n(131),b=document.getElementById("translation-button"),w=document.getElementById("website-title"),_=document.getElementById("cover-1-title"),x=document.getElementById("cover-1-subtitle"),T=document.getElementById("cover-2-title"),S=document.getElementById("cover-2-subtitle"),O=document.getElementById("cover-3-title"),P=document.getElementById("cover-3-subtitle"),A=document.getElementById("cover-4-title"),E=document.getElementById("cover-4-subtitle"),k=document.getElementById("cover-button"),D=document.getElementById("try-text"),I=document.getElementById("img-upload-text"),L=document.getElementById("sample-breed-predict"),j=document.getElementById("progress-notes"),C=document.getElementById("prediction-results-headline"),B=document.getElementById("sample-dog-breed"),R=document.getElementById("sample-breed-img"),N=document.getElementById("sample-breed-name"),F=document.getElementById("img-upload"),U=document.getElementById("img-preview"),G=document.getElementById("load-img-progress"),z=document.getElementById("progress-bar"),V=document.getElementById("prediction-results-container"),W=document.getElementById("no-results-found"),q=document.getElementById("prediction-contents"),H=document.getElementById("first-breed-name"),Y=document.getElementById("first-breed-prob"),X=document.getElementById("first-speaker-button"),K=document.getElementById("second-breed-name"),$=document.getElementById("second-breed-prob"),J=document.getElementById("second-speaker-button"),Z=document.getElementById("third-breed-name"),Q=document.getElementById("third-breed-prob"),tt=document.getElementById("third-speaker-button"),et=document.getElementById("copyright-year"),nt=document.getElementById("install-container"),rt=document.getElementById("but-install"),ot=document.getElementsByTagName("html")[0],it=0,at=window.speechSynthesis,st=function(t,e,n){var r=new SpeechSynthesisUtterance;if("中"===t){for(var o=at.getVoices(),i=0;i<o.length;i++){if("Google 國語（臺灣）"==o[i].name){r.voice=o[i];break}r.lang="zh-TW"}r.text=n}else r.text=e;at.speak(r)},ut=function(t,e){return"中"===t?e:r[e].chinese},ct=function(){var t;G.classList.toggle("hidden",!1),t=133;var e="images/samples/"+(it=Math.floor(Math.random()*Math.floor(t)));R.src=ot.classList.contains("webp")?e+".webp":e+".jpg",N.textContent=ut(b.textContent,o[it].breed),v(R,(function(){G.classList.toggle("hidden",!0)}))},lt={},ft={},pt={},ht="";document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("project-intro-slider");M.AutoInit(),M.Carousel.init(t,{fullWidth:!0,indicators:!0}),ct(),et.textContent=(new Date).getFullYear()})),b.addEventListener("click",(function(t){if("En"===b.textContent?(b.textContent="中",w.textContent=i.siteTitle,_.textContent=i.cover1Title,x.textContent=i.cover1Subtitle,T.textContent=i.cover2Title,S.textContent=i.cover2Subtitle,O.textContent=i.cover3Title,P.textContent=i.cover3Subtitle,A.textContent=i.cover4Title,E.textContent=i.cover4Subtitle,k.textContent=i.coverButton,D.textContent=i.tryText,I.placeholder=i.imgUploadText,L.textContent=i.sampleBreedPredict,j.textContent=i.progressNotes,C.textContent=i.predictionResultsHeadline):(b.textContent="En",w.textContent=a.siteTitle,_.textContent=a.cover1Title,x.textContent=a.cover1Subtitle,T.textContent=a.cover2Title,S.textContent=a.cover2Subtitle,O.textContent=a.cover3Title,P.textContent=a.cover3Subtitle,A.textContent=a.cover4Title,E.textContent=a.cover4Subtitle,k.textContent=a.coverButton,D.textContent=a.tryText,I.placeholder=a.imgUploadText,L.textContent=a.sampleBreedPredict,j.textContent=a.progressNotes,C.textContent=a.predictionResultsHeadline),N.textContent=ut(b.textContent,o[it].breed),H.textContent=gt(b.textContent,lt.en,lt.zh),K.textContent=gt(b.textContent,ft.en,ft.zh),Z.textContent=gt(b.textContent,pt.en,pt.zh),""!==ht)switch(ht){case"1":W.textContent=dt(b.textContent,i.errorText1,a.errorText1);break;case"2":W.textContent=dt(b.textContent,i.errorText2,a.errorText2);break;default:W.textContent=dt(b.textContent,i.errorText3,a.errorText3)}}));var dt=function(t,e,n){return"中"===t?e:n},yt=function(){var t=m(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V.classList.toggle("hidden",!0),q.classList.toggle("hidden",!1),W.classList.toggle("hidden",!0),z.classList.toggle("hidden",!1),z.scrollIntoView({behavior:"smooth"}),t.next=7,d(e);case 7:n=t.sent,z.classList.toggle("hidden",!0),mt(n),V.scrollIntoView({behavior:"smooth"});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),gt=function(t,e,n){return"中"===t?e+"("+n+")":n+"("+e+")"},mt=function(t){function e(e,n,o,i,a,s,u){e.textContent=gt(b.textContent,o,i),e.href=r[t.message[a].breed].link,n.textContent=s,n.style.width=s,document.documentElement.style.setProperty(u,s)}if(V.classList.toggle("hidden",!1),"dog_detected"in t)if(t.dog_detected)for(var n=0;n<t.message.length;n++){var o=(100*parseFloat(t.message[n].prob)).toFixed(2)+"%";switch(n){case 0:lt={en:t.message[n].breed,zh:r[t.message[n].breed].chinese},e(H,Y,lt.en,lt.zh,n,o,"--first-breed-prob");break;case 1:ft={en:t.message[n].breed,zh:r[t.message[n].breed].chinese},e(K,$,ft.en,ft.zh,n,o,"--second-breed-prob");break;default:pt={en:t.message[n].breed,zh:r[t.message[n].breed].chinese},e(Z,Q,pt.en,pt.zh,n,o,"--third-breed-prob")}}else q.classList.toggle("hidden",!0),W.classList.toggle("hidden",!1),W.textContent=dt(b.textContent,i.errorText2,a.errorText2),ht="2";else q.classList.toggle("hidden",!0),W.classList.toggle("hidden",!1),W.textContent=dt(b.textContent,i.errorText1,a.errorText1),ht="1"};if(F.addEventListener("change",function(){var t=m(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(V.classList.toggle("hidden",!0),q.classList.toggle("hidden",!1),W.classList.toggle("hidden",!0),!(n=e.target.files[0]).type.startsWith("image/")){t.next=13;break}return r=window.URL.createObjectURL(n),t.next=8,yt(r);case 8:(o=new FileReader).onload=function(t){U.src=t.target.result,U.width=window.innerWidth>=768?.75*window.innerWidth:window.innerWidth,U.height=.75*U.width},o.readAsDataURL(n),t.next=15;break;case 13:U.src=null,U.height=0;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),!1),B.addEventListener("click",(function(t){U.height=0,V.classList.toggle("hidden",!0),q.classList.toggle("hidden",!1),W.classList.toggle("hidden",!0),ct()})),L.addEventListener("click",function(){var t=m(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return U.height=0,t.next=3,yt(R.src);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),X.addEventListener("click",(function(t){return st(b.textContent,lt.en,lt.zh)})),J.addEventListener("click",(function(t){return st(b.textContent,ft.en,ft.zh)})),tt.addEventListener("click",(function(t){return st(b.textContent,pt.en,pt.zh)})),window.addEventListener("beforeinstallprompt",(function(t){console.log("👍","beforeinstallprompt",t),window.deferredPrompt=t,nt.classList.toggle("hidden",!1)})),window.addEventListener("appinstalled",(function(t){console.log("👍","appinstalled",t)})),rt.addEventListener("click",(function(){console.log("👍","butInstall-clicked");var t=window.deferredPrompt;t&&(t.prompt(),t.userChoice.then((function(t){console.log("👍","userChoice",t),window.deferredPrompt=null,nt.classList.toggle("hidden",!0)})))})),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("../service-worker.js",{scope:"/"}).then((function(t){console.log("ServiceWorker registration successful with scope: ",t.scope)}),(function(t){console.log("ServiceWorker registration failed: ",t)}))})),"http:"===window.location.protocol&&-1===window.location.host.indexOf("localhost")){var vt=document.getElementById("requireHTTPS");vt.querySelector("a").href=window.location.href.replace("http://","https://"),vt.classList.remove("hidden")}}]);